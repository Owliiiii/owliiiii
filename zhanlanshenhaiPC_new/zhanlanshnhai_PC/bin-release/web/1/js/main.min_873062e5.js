function createBitmapByName(e){var t=new egret.Bitmap,i=RES.getRes(e);return t.texture=i,t}function createBitmapFromSheet(e,t){void 0===t&&(t="gameRes");var i=RES.getRes(t),n=i.getTexture(e),o=new egret.Bitmap;return o.texture=n,o}function getTextureFromSheet(e,t){void 0===t&&(t="gameRes");var i=RES.getRes(t),n=i.getTexture(e);return n}var __reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);i.prototype=t.prototype,e.prototype=new i},__awaiter=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function s(e){try{h(n.next(e))}catch(t){a(t)}}function r(e){try{h(n["throw"](e))}catch(t){a(t)}}function h(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(s,r)}h((n=n.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function i(e){return function(t){return n([e,t])}}function n(i){if(o)throw new TypeError("Generator is already executing.");for(;h;)try{if(o=1,a&&(s=a[2&i[0]?"return":i[0]?"throw":"next"])&&!(s=s.call(a,i[1])).done)return s;switch(a=0,s&&(i=[0,s.value]),i[0]){case 0:case 1:s=i;break;case 4:return h.label++,{value:i[1],done:!1};case 5:h.label++,a=i[1],i=[0];continue;case 7:i=h.ops.pop(),h.trys.pop();continue;default:if(s=h.trys,!(s=s.length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){h=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){h.label=i[1];break}if(6===i[0]&&h.label<s[1]){h.label=s[1],s=i;break}if(s&&h.label<s[2]){h.label=s[2],h.ops.push(i);break}s[2]&&h.ops.pop(),h.trys.pop();continue}i=t.call(e,h)}catch(n){i=[6,n],a=0}finally{o=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var o,a,s,r,h={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r},BaseTips=function(e){function t(){var t=e.call(this)||this;return t.touchEnabled=!1,t}return __extends(t,e),t}(eui.Component);__reflect(BaseTips.prototype,"BaseTips");var core;!function(e){var t=function(){function e(e,t){this.callback=e,this.thisObj=t}return e}();e.Callback=t,__reflect(t.prototype,"core.Callback")}(core||(core={}));var core;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(egret.EventDispatcher);e.BaseModel=t,__reflect(t.prototype,"core.BaseModel")}(core||(core={}));var core;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.eventPool=[],e.initSize(),e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAdd,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.onRemove,e),egret.MainContext.instance.stage.addEventListener(egret.StageOrientationEvent.ORIENTATION_CHANGE,e.onOChange,e),e}return __extends(i,t),i.prototype.onOChange=function(){},i.prototype.initSize=function(){this.top=0,this.left=0,this.bottom=0,this.right=0},i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},i.prototype.onAdd=function(){this.isShow=!0,this.initListener()},i.prototype.onRemove=function(){this.clearEvent(),e.NotifyManager.getInstance().removeRegister(this)},i.prototype.registerEvent=function(e,t,i,n){e.addEventListener(t,i,n),this.eventPool.push({target:e,type:t,callback:i,callbackobj:n})},i.prototype.clearEvent=function(){if(this.eventPool.length>0)for(var e=0;e<this.eventPool.length;e++){var t=this.eventPool[e].target,i=this.eventPool[e].type,n=this.eventPool[e].callback,o=this.eventPool[e].callbackobj;t.removeEventListener(i,n,o)}},i.prototype.initListener=function(){this.addRegister(e.NotifyConst.RESIZE,this.onResize,this)},i.prototype.onResize=function(){},i.prototype.addRegister=function(t,i,n){e.NotifyManager.getInstance().registerNotify(t,i,n)},i.prototype.removeRegister=function(t){e.NotifyManager.getInstance().removeRegister(t)},i.prototype.close=function(){this.isShow=!1,this.parent&&this.parent.removeChild(this)},i}(eui.Component);e.BaseUI=t,__reflect(t.prototype,"core.BaseUI");var i=function(){function e(){}return e}();e.EventObj=i,__reflect(i.prototype,"core.EventObj")}(core||(core={}));var MosueCheckBox=function(e){function t(){var t=e.call(this)||this;return mouse.setButtonMode(t,!0),t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAdd,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemove,t),t}return __extends(t,e),t.prototype.onAdd=function(){this.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOver,this),this.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOut,this),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onRollOut,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onRollOver,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onRollOut,this)},t.prototype.onRemove=function(){this.onRollOut(),this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOut,this),this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onRollOut,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onRollOver,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onRollOut,this)},t.prototype.onRollOver=function(){0==this.enabled&&(this.currentState=this.selected?"rollOverAndDisabled":"disabled"),this.selected?this.currentState="rollOverAndSelected":this.currentState="rollOver",this.dispatchEventWith(egret.Event.CHANGE)},t.prototype.onRollOut=function(){this.currentState="",this.dispatchEventWith(egret.Event.CHANGE)},t.prototype.onClick=function(){},t}(eui.CheckBox);__reflect(MosueCheckBox.prototype,"MosueCheckBox");var MouseButton=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAdd,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemove,t),mouse.setButtonMode(t,!0),t}return __extends(t,e),t.prototype.onAdd=function(){this.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOver,this),this.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOut,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onRollOut,this),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onRollOut,this)},t.prototype.onRemove=function(){this.onRollOut(),this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOut,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onRollOut,this),this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onRollOut,this)},t.prototype.onRollOver=function(){0!=this.enabled&&(this.currentState="rollOver",this.dispatchEventWith(egret.Event.CHANGE))},t.prototype.onRollOut=function(){this.currentState="",this.dispatchEventWith(egret.Event.CHANGE)},t.prototype.onClick=function(){},t}(eui.Button);__reflect(MouseButton.prototype,"MouseButton");var MyCompoment=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAdd,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemove,t),t}return __extends(t,e),t.prototype.onAdd=function(){},t.prototype.onRemove=function(){},t}(eui.Component);__reflect(MyCompoment.prototype,"MyCompoment");var TipsManager=function(e){function t(){var t=e.call(this)||this;return t.showY=800,t.isDebug=!0,t.tipsArr=[],core.FrameEventCenter.getInstance().addFrameEventListener(t.onEnterFrame,t),t}return __extends(t,e),t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.showLog=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this.isDebug&&console.log.apply(console,[e].concat(t))},t.prototype.showTips=function(e,t){var i=this;void 0===t&&(t=1);var n=function(){var n;switch(t){case 0:n=new NormalErrorTips;break;case 1:n=new NormalOkTips}if(n.textTips.text=e,i.tipsArr.push(n),n.x=GameConfig.WIDTH/2-n.width/2+80,i.tipsArr.length>1){var o=i.tipsArr[i.tipsArr.length-2];if(o.y<i.showY-o.height)n.y=i.showY;else if(o.y<GameConfig.HEIGHT-o.height-n.height)n.y=o.y+o.height;else{n.y=o.y+o.height;for(var a=0;a<i.tipsArr.length;a++)i.tipsArr[a].y-=n.height}}else 1==i.tipsArr.length&&(n.y=i.showY);core.LayerManager.getInstance().addUI(n,core.LayerManager.Layer_Tip)};n()},t.prototype.onEnterFrame=function(e){this.tipsArr.length>0&&this.tipsArr[0].alpha<=0&&(this.tipsArr[0].parent.removeChild(this.tipsArr[0]),this.tipsArr.shift());for(var t=0;t<this.tipsArr.length;t++)this.tipsArr[t].y-=4,this.tipsArr[t].alpha-=.004},t}(egret.EventDispatcher);__reflect(TipsManager.prototype,"TipsManager");var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,i){function n(n){t.call(i,n,e)}if(RES.hasRes(e)){var o=RES.getRes(e);o?n(o):RES.getResAsync(e,n,this)}else RES.getResByUrl(e,n,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var Dictionary=function(){function e(){this.m_keys=[],this.m_values=[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.m_keys.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this.m_values.concat()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keys",{get:function(){return this.m_keys.concat()},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.m_keys.indexOf(e)},e.prototype.add=function(e,t){var i=this.indexOf(e);i>=0?this.m_values[i]=t:(this.m_keys.push(e),this.m_values.push(t))},e.prototype.get=function(e){var t=this.indexOf(e);return t>=0?this.m_values[t]:null},e.prototype.remove=function(e){var t=this.indexOf(e);return t>=0?(this.m_keys.splice(t,1),this.m_values.splice(t,1)[0]):null},e.prototype.clear=function(){this.m_keys.length=0,this.m_values.length=0},e.prototype.getRandomData=function(){var e=Math.random()*this.keys.length<<0;return this.m_values[e]},e}();__reflect(Dictionary.prototype,"Dictionary");var core;!function(e){var t=function(){function e(e){this.data=e}return e}();e.Node=t,__reflect(t.prototype,"core.Node")}(core||(core={}));var core;!function(e){var t=function(){function t(t,i){if(void 0===i&&(i=!1),this.m_list=[],t)for(var n=0,o=t.length;o>n;n++){var a=new e.Node(t[n]);this.m_list.push(a)}for(var s=this.m_list,n=0,o=s.length;o>n;n++){var a=s[n];n+1==o?a.nextNode=i?s[0]:null:a.nextNode=s[n+1],0==n?a.preNode=i?s[o-1]:null:a.preNode=s[n-1]}}return t.prototype.getLen=function(){return this.m_list.length},t.prototype.getFirst=function(){return this.m_list[0]},t.prototype.getEnd=function(){return this.m_list[this.m_list.length-1]},t.prototype.getNode=function(e){return this.m_list[e]},t.prototype.clear=function(){this.m_list.length=0},t}();e.NodeList=t,__reflect(t.prototype,"core.NodeList")}(core||(core={}));var Main=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(e){egret.sys.screenAdapter=new MyScreenAdapter;var t=window.innerWidth/window.innerHeight-GameConfig.DES_WIDTH/GameConfig.DES_HEIGHT,i=window.innerWidth/window.innerHeight*GameConfig.DES_HEIGHT;t>0?i>GameConfig.MAX_WIDTH?egret.MainContext.instance.stage.setContentSize(GameConfig.MAX_WIDTH,GameConfig.DES_HEIGHT):egret.MainContext.instance.stage.setContentSize(i,GameConfig.DES_HEIGHT):egret.MainContext.instance.stage.setContentSize(GameConfig.DES_WIDTH,GameConfig.DES_HEIGHT)}),egret.lifecycle.onPause=function(){},egret.lifecycle.onResume=function(){};var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(e){console.log(e)})},t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,this.loadResource()];case 1:return t.sent(),this.createGameScene(),[4,platform.login()];case 2:return t.sent(),[4,platform.getUserInfo()];case 3:return e=t.sent(),[2]}})})},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return t.sent(),[4,this.loadTheme()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),console.error(e),[3,4];case 4:return[2]}})})},t.prototype.loadTheme=function(){var e=this;return new Promise(function(t,i){var n=new eui.Theme("resource/default.thm.json",e.stage);n.addEventListener(eui.UIEvent.COMPLETE,function(){t()},e)})},t.prototype.createGameScene=function(){this.textfield=new egret.TextField,this.textfield.fontFamily="ttt",GameModleManger.getInstance().init(this.stage),GameManager.getInstance().init(),window.onresize=function(){var e=window.innerWidth/window.innerHeight-GameConfig.DES_WIDTH/GameConfig.DES_HEIGHT,t=window.innerWidth/window.innerHeight*GameConfig.DES_HEIGHT;e>0?t>GameConfig.MAX_WIDTH?egret.MainContext.instance.stage.setContentSize(GameConfig.MAX_WIDTH,GameConfig.DES_HEIGHT):egret.MainContext.instance.stage.setContentSize(t,GameConfig.DES_HEIGHT):egret.MainContext.instance.stage.setContentSize(GameConfig.DES_WIDTH,GameConfig.DES_HEIGHT),core.NotifyManager.getInstance().sendNotify(core.NotifyConst.RESIZE)}},t.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,i=RES.getRes(e);return t.texture=i,t},t}(eui.UILayer);__reflect(Main.prototype,"Main");var ComonModelManager=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(core.BaseModel);__reflect(ComonModelManager.prototype,"ComonModelManager");var core;!function(e){var t=function(){function e(){if(this._deltaTime=0,e._instance)throw new Error("DateTimer使用单例")}return Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.run=function(){this._deltaTime=0},Object.defineProperty(e,"deltatime",{get:function(){return e.instance._deltaTime},enumerable:!0,configurable:!0}),e.prototype.updateServerTime=function(e){this._deltaTime=egret.getTimer()-1e3*e},Object.defineProperty(e.prototype,"now",{get:function(){return Math.floor((egret.getTimer()-this._deltaTime)/1e3)},enumerable:!0,configurable:!0}),e}();e.DateTimer=t,__reflect(t.prototype,"core.DateTimer")}(core||(core={}));var core;!function(e){var t=function(){function e(){this.m_callbacks=[]}return e.getInstance=function(){return null==e.s_instance&&(e.s_instance=new e),e.s_instance},e.prototype.init=function(e){this.m_stage=e,this.m_stage?(this.m_preTick=Date.now(),this.m_stage.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)):egret.log("Stage为null不能开启帧循环监听")},e.prototype.onEnterFrame=function(e){var t=Date.now(),i=this.m_callbacks;if(i){for(var n=i.length;n>0;n--){var o=i[n-1];o.isValid||i.splice(n-1,1)}for(var n=0,a=i.length;a>n;n++){var o=i[n];o.isValid&&o.callback&&o.callback.call(o.thisObj,t-this.m_preTick)}}this.m_preTick=t},e.prototype.addFrameEventListener=function(e,t){if(e&&t){var n=new i(e,t);this.m_callbacks.push(n)}},e.prototype.removeFrameEventListener=function(e,t){var i=this.m_callbacks;if(i)for(var n=0,o=i.length;o>n;n++){var a=i[n];a.callback===e&&a.thisObj===t&&(a.isValid=!1)}},e}();e.FrameEventCenter=t,__reflect(t.prototype,"core.FrameEventCenter");var i=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.isValid=!0,n}return __extends(t,e),t.prototype.clone=function(){var e=new t(this.callback,this.thisObj);return e.index=this.index,e.isValid=this.isValid,e},t}(e.Callback);__reflect(i.prototype,"FrameCallBack")}(core||(core={}));var GameModleManger=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.init=function(e){KeyBoardManager.getInstance().init(),mouse.enable(e);var t=new eui.UILayer;e.addChild(t),core.LayerManager.getInstance().initLayer(t),core.FrameEventCenter.getInstance().init(e),core.DateTimer.instance.run(),this.moduleMap=new Dictionary,SoundManager.getInstance().loadLocalData(),this.startCheckHashCount(),GameConfig.CasinoGame=window.CasinoGame},t.prototype.startCheckHashCount=function(){var e=egret.$hashCount;setInterval(function(){var t=egret.$hashCount,i=t-e;e=t,i>100&&console.log("性能消耗过大->"+i)},1e3)},t.prototype.getModle=function(e){if(void 0===e&&(e=core.ModleConst.COMMON_MODLE),!this.moduleMap[e]){var t=egret.getDefinitionByName(e);this.moduleMap[e]=new t}return this.moduleMap[e]},t}(egret.EventDispatcher);__reflect(GameModleManger.prototype,"GameModleManger");var KeyBoardManager=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.init=function(){this.kb=new KeyBoard,this.kb.addEventListener(KeyBoard.onkeyup,this.onkeydown,this)},t.prototype.onkeydown=function(e){var t=core.UIManager.getUI(core.UIConst.MainScenceUI);if(t&&this.kb.isContain(e.data,KeyBoard.SPACE)){var i=core.UIManager.getUI(core.UIConst.StipsUI),n=core.UIManager.getUI(core.UIConst.SetUI),o=core.UIManager.getUI(core.UIConst.HelpUI),a=core.UIManager.getUI(core.UIConst.HelpDesUI);if(i&&i.parent)return;if(n&&n.parent)return;if(o&&o.parent)return;if(a&&a.parent)return;1==t.startBtn.visible&&t.startBtn.enabled&&(t.hideWin(),GameManager.getInstance().startGame()),1==t.stopBtn.visible&&t.stopBtn.enabled&&GameManager.getInstance().stopGame()}},t}(egret.EventDispatcher);__reflect(KeyBoardManager.prototype,"KeyBoardManager");var core;!function(e){var t=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.initLayer=function(e){this.scenceLayer=new eui.UILayer,this.uiLayer=new eui.UILayer,this.topLayer=new eui.UILayer,this.tipLayer=new eui.UILayer,this.scenceLayer.touchThrough=!0,this.uiLayer.touchThrough=!0,this.topLayer.touchThrough=!0,this.tipLayer.touchThrough=!0,this.tipLayer.touchEnabled=!1,e.addChild(this.scenceLayer),e.addChild(this.uiLayer),e.addChild(this.topLayer),e.addChild(this.tipLayer)},t.prototype.addUI=function(e,i){void 0===i&&(i=1);switch(i){case t.Layer_Scence:this.scenceLayer.addChild(e);break;case t.Layer_UI:this.uiLayer.addChild(e);break;case t.Layer_Top:this.topLayer.addChild(e);break;case t.Layer_Tip:this.tipLayer.addChild(e)}},t.prototype.deleteUI=function(e,i){void 0===i&&(i=1);switch(i){case t.Layer_Scence:this.scenceLayer.removeChild(e);break;case t.Layer_UI:this.uiLayer.removeChild(e);break;case t.Layer_Top:this.topLayer.removeChild(e);break;case t.Layer_Tip:this.tipLayer.removeChild(e)}},t.prototype.getLayer=function(t){return t==e.LayerManager.Layer_Scence?this.scenceLayer:t==e.LayerManager.Layer_UI?this.uiLayer:t==e.LayerManager.Layer_Top?this.topLayer:t==e.LayerManager.Layer_Tip?this.tipLayer:void 0},t.Layer_Scence=0,t.Layer_UI=1,t.Layer_Top=2,t.Layer_Tip=3,t}();e.LayerManager=t,__reflect(t.prototype,"core.LayerManager")}(core||(core={}));var core;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),i.getInstance=function(){return this.instance||(this.instance=new i),this.instance},i.prototype.loadGroup=function(t,i,n,o){void 0===t&&(t=e.UIConst.NomalLoadingUI),RES.isGroupLoaded(i)?n.call(o):(e.UIManager.openUI(t,e.LayerManager.Layer_Top),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,function(i){var n=e.UIManager.getUI(t);n.setPross(i.itemsLoaded,i.itemsTotal),console.log(i.itemsLoaded+"/"+i.itemsTotal)},this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,function(a){if(a.groupName==i){n.call(o);e.UIManager.getUI(t);e.UIManager.closeUI(t)}},this),RES.loadGroup(i))},i}(egret.EventDispatcher);e.LoadManger=t,__reflect(t.prototype,"core.LoadManger")}(core||(core={}));var core;!function(e){var t=function(){function e(){}return e.COMMON_MODLE="ComonModelManager",e}();e.ModleConst=t,__reflect(t.prototype,"core.ModleConst")}(core||(core={}));var core;!function(e){var t=function(){function e(){}return e.HEART_CHECK="HEART_CHECK",e.RECONETING="RECONETING",e.RECONET_SUC="RECONET_SUC",e.WX_JSSDK_CONFIG="WX_JSSDK_CONFIG",e.LOGIC_XIAOCHU="LOGIC_XIAOCHU",e.LOGIC_DROP="LOGIC_DROP",e.LOGIC_DATACHANGE="LOGIC_DATACHANGE",e.LOGIC_BALANCE="LOGIC_BALANCE",e.LOGIC_ROUNDOVER="LOGIC_ROUNDOVER",e.LOGIC_ROUNDSTART="LOGIC_ROUNDSTART",e.NET_INIT="Initial",e.NET_PLAY="Play",e.NET_TOUCHTOKEN="TouchToken",e.RESIZE="RESIZE",e}();e.NotifyConst=t,__reflect(t.prototype,"core.NotifyConst")}(core||(core={}));var core;!function(e){var t=function(){function e(){this.notifyPool={}}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.registerNotify=function(e,t,i){this.notifyPool[e]||(this.notifyPool[e]=[]),this.notifyPool[e].push({callback:t,callbackobj:i})},e.prototype.sendNotify=function(e,t){void 0===t&&(t=null);var i=this.notifyPool[e];if(i&&i.length>0)for(var n=0;n<i.length;n++)i[n].callback.apply(i[n].callbackobj,[t])},e.prototype.removeRegister=function(e){for(var t in this.notifyPool){var i=this.notifyPool[t];if(i&&i.length>0){for(var n=0;n<i.length;n++)i[n].callbackobj==e&&i.splice(n--,1);0==i.length&&delete this.notifyPool[t]}}},e}();e.NotifyManager=t,__reflect(t.prototype,"core.NotifyManager")}(core||(core={}));var core;!function(e){var t=function(){function e(){if(e.s_instance)throw new Error("单例类不可实例化");egret.startTick(this.onTick,this),this.m_tickList=[]}return e.prototype.onTick=function(e){for(var t=this.m_tickList,i=t.length;i>0;i--){var n=t[i-1];n.isValid||t.splice(i-1,1)}for(var i=0,o=t.length;o>i;i++){var n=t[i];if(e-n.timestamp>n.delay){if(n.timestamp=e,n.count++,n.callback){egret.getTimer();n.callback.call(n.thisObj,n.clone());egret.getTimer()}n.count==n.maxCount&&(n.isValid=!1)}}return!1},e.prototype.addTick=function(e,t,n,o){for(var a=[],s=4;s<arguments.length;s++)a[s-4]=arguments[s];var r=this.m_tickList;if(r)for(var h=0,l=r.length;l>h;h++){var c=r[h];if(c.callback==n&&c.thisObj==o&&c.delay==e&&c.maxCount==t)return void(c.isValid||(c.isValid=!0,c.delay=e,c.count=0,c.maxCount=0>=t?Number.MAX_VALUE:t,c.callback=n,c.thisObj=o,c.args=a,c.timestamp=egret.getTimer()))}else r=[],this.m_tickList=r;var u=new i;u.delay=e,u.count=0,u.maxCount=0>=t?Number.MAX_VALUE:t,u.callback=n,u.thisObj=o,u.args=a,u.timestamp=egret.getTimer(),u.isValid=!0,r.push(u)},e.prototype.removeTick=function(e,t){var i=this.m_tickList;if(i)for(var n=0,o=i.length;o>n;n++){var a=i[n];if(a.callback==e&&a.thisObj==t)return void(a.isValid=!1)}},e.prototype.removeTicks=function(e){var t=this.m_tickList;if(t)for(var i=0,n=t.length;n>i;i++){var o=t[i];o.thisObj==e&&(o.isValid=!1)}},e.prototype.removeAllTicks=function(){this.m_tickList.length=0},Object.defineProperty(e,"instance",{get:function(){return null==e.s_instance&&(e.s_instance=new e),e.s_instance},enumerable:!0,configurable:!0}),e}();e.TimerManager=t,__reflect(t.prototype,"core.TimerManager");var i=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.clone=function(){var e=new t;return e.delay=this.delay,e.count=this.count,e.maxCount=this.maxCount,e.callback=this.callback,e.thisObj=this.thisObj,e.args=this.args,e.isValid=this.isValid,e},t}(egret.HashObject);__reflect(i.prototype,"TickData")}(core||(core={}));var core;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.WEIXIN_DEBUG=!0,e.init(),e}return __extends(i,t),i.getInstance=function(){return this._instance||(this._instance=new i),this._instance},i.prototype.init=function(){e.NotifyManager.getInstance().registerNotify(e.NotifyConst.WX_JSSDK_CONFIG,this.onNotifyJSSDK,this)},i.prototype.config=function(){if(Utils.isWeiXin()&&Utils.getURLQueryString("openid")){this.wx=window.wx;encodeURIComponent(window.location.href)}},i.prototype.onNotifyJSSDK=function(e){console.log("微信配置1",e);var t=this;this.wx.config({debug:e.data.debug,appId:e.data.appId,timestamp:e.data.timestamp,nonceStr:e.data.nonceStr,signature:e.data.signature,jsApiList:e.data.jsApiList}),this.wx.ready(function(){t.shareNomal(e.data.url)}),this.wx.error(function(e){})},i.prototype.shareNomal=function(e,t,i){void 0===t&&(t=null),void 0===i&&(i=""),this.shareURL=e,t="生态农场开始种植";window.wx},i}(egret.EventDispatcher);e.WeiXinManager=t,__reflect(t.prototype,"core.WeiXinManager")}(core||(core={}));var Commond=function(){function e(){}return e.sendHeartCheck=function(){},e.checkPlayer=function(){var t=e.initData();t.Parameter={Action:"Status",Type:"list_redis",PartnerId:t.PartnerId,McDebug:1},sockets.SocketMananger.getInstance().sendMessage(t)},e.sendInitGame=function(){var t=e.initData();t.Action="Initial",t.Parameter={Action:"Initial",Type:null,PartnerId:t.PartnerId,McDebug:1},GameConfig.gameModle==GameType.GameModule.falseModle?GameManager.getInstance().onNetgGmeInit({}):sockets.SocketMananger.getInstance().sendMessage(t)},e.sendPlay=function(t){if(void 0===t&&(t=0),!(egret.getTimer()-this.playtime<400)){var i;0==t&&(i="slot"),1==t&&(i="freeslot"),this.playtime=egret.getTimer();var n=e.initData();n.Action="Play",n.Parameter={Action:"Play",Type:i,Line:vo.GameData.line,Bet:1,Denom:vo.GameData.line*vo.GameData.betScoreArr[vo.GameData.betIndex]*1e4,PlayerId:GameConfig.CasinoGame.PlayerId,SessionData:{Bet:1,Multiply:10},DebugMode:"None"},GameConfig.gameModle==GameType.GameModule.falseModle?GameManager.getInstance().onNetGamePlay({}):sockets.SocketMananger.getInstance().sendMessage(n)}},e.sendBonus=function(t,i){void 0===t&&(t=1),void 0===i&&(i=0);var n=null;1==t?n=GameType.GameType.treasure:2==t&&(n=GameType.GameType.treasure2);var o=e.initData();o.Action="Play",o.Parameter={Type:n,BetSetup:{Bet:1,Line:vo.GameData.line+1,Multiply:vo.GameData.betScoreArr[vo.GameData.betIndex]}},sockets.SocketMananger.getInstance().sendMessage(o)},e.initData=function(){var e={};return e.Link_auth=GameConfig.CasinoGame.Link_auth,e.GameCode=GameConfig.CasinoGame.GameCode,e.Game_id=GameConfig.CasinoGame.Game_id,e.PlayerId=GameConfig.CasinoGame.PlayerId,e.Skin=GameConfig.CasinoGame.Skin,e.PartnerId=GameConfig.CasinoGame.PartnerId,e.UrlBase=GameConfig.CasinoGame.UrlBase,e.Token=GameConfig.CasinoGame.Token,e.IP=GameConfig.CasinoGame.IP,e.Language=GameConfig.CasinoGame.Language,e.GameCanvas=GameConfig.CasinoGame.GameCanvas,e.vtoken_interval=GameConfig.CasinoGame.vtoken_interval,e.guset=GameConfig.CasinoGame.guest,e.udf1=GameConfig.CasinoGame.udf1,e.udf2=GameConfig.CasinoGame.udf2,e.udf4=GameConfig.CasinoGame.udf4,e.NjsHost=GameConfig.CasinoGame.NjsHost,e.Denom=GameConfig.CasinoGame.Denom,e},e.index=0,e}();__reflect(Commond.prototype,"Commond");var GameController=function(){function e(){this.sequence=0,this.key="a95c530a7af5f492a74499e70578d150",this.serverAddress="http://54.95.43.201/80101/99"}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.getSeq=function(){return this.sequence++,this.sequence},e.prototype.sendHttp=function(e,t,i,n){var o=new XMLHttpRequest;o.open(t,i,!0),o.setRequestHeader("Content-Type","application/json"),o.onload=function(e){switch(o.status){case 200:var t=JSON.parse(o.responseText);t.status>0&&TipsManager.getInstance().showTips(ErrorCode.codeArr[t.status]),void 0!=t.server_time&&core.DateTimer.instance.updateServerTime(t.server_time),TipsManager.getInstance().showLog("receive---",t),n.call(this,t)}},o.send(JSON.stringify(e)),TipsManager.getInstance().showLog("send---",JSON.stringify(e))},e.prototype.clearRedis=function(){},e}();__reflect(GameController.prototype,"GameController");var sockets;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.url=GameConfig.CasinoGame.UrlBase,t.netState=-1,t.reconetCount=0,t.reconetMaxCount=3,t.nett=0,t}return __extends(t,e),t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.init=function(){this.heart=new i(this),this.sock.on("connect",this.onSocketOpen.bind(this)),this.sock.on("disconnect",this.onSocketClose.bind(this)),this.sock.on("connect_error",function(){core.UIManager.openUI(core.UIConst.StipsUI,core.LayerManager.Layer_Top);var e=core.UIManager.getUI(core.UIConst.StipsUI);e.showNetclose("连接断开,正在重新连接.",function(){window.location.href=window.location.href})}),this.sock.on("error",this.onSocketError.bind(this)),this.sock.on("ResponseResult",this.onReceiveMessage.bind(this))},t.prototype.connectServer=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.callFunction=e,this.callObj=t,this.sock=io.connect(this.url),this.init()},t.prototype.onSocketClose=function(){console.log("连接关闭"),this.netState=-1,core.UIManager.openUI(core.UIConst.StipsUI,core.LayerManager.Layer_Top);var e=core.UIManager.getUI(core.UIConst.StipsUI);e.showNetclose("连接断开,正在重新连接.",function(){window.location.href=window.location.href})},t.prototype.onSocketError=function(){console.log("连接异常"),this.netState=-1,core.UIManager.openUI(core.UIConst.StipsUI,core.LayerManager.Layer_Top);var e=core.UIManager.getUI(core.UIConst.StipsUI);e.showNetclose("连接断开,正在重新连接.",function(){window.location.href=window.location.href})},t.prototype.onSocketOpen=function(e){console.log(0==this.reconetCount?"连接成功":"reconect连接",e),this.heart.reset(),this.netState=0,this.callFunction&&this.callObj&&0==this.reconetCount&&this.callFunction.call(this.callObj),this.reconetCount+=1},t.prototype.onReceiveMessage=function(e){var t=JSON.parse(e);console.log("返回obj",t),core.NotifyManager.getInstance().sendNotify(t.Action,t),egret.clearTimeout(this.nett);var i=core.UIManager.getUI(core.UIConst.StipsUI);i&&i.hide()},t.prototype.sendMessage=function(e){console.log("发送",e),this.sock.emit("Action",JSON.stringify(e)),this.nett=egret.setTimeout(function(){core.UIManager.openUI(core.UIConst.StipsUI,core.LayerManager.Layer_Top);var e=core.UIManager.getUI(core.UIConst.StipsUI);e.showNetclose("连接断开,正在重新连接.",function(){window.location.href=window.location.href})},this,8e3)},t.prototype.reconet=function(){var e=this;this.netState=0,this.connectServer(function(){e.netState=1,Commond.index=0,core.NotifyManager.getInstance().sendNotify(core.NotifyConst.RECONET_SUC)},this)},t}(egret.EventDispatcher);e.SocketMananger=t,__reflect(t.prototype,"sockets.SocketMananger");var i=function(){function e(e){this.timeout=GameConfig.CasinoGame.vtoken_interval,this.timeoutObj=null,this.serverTimeoutObj=null,this.manager=e}return e.prototype.reset=function(){egret.clearInterval(this.inter),this.start()},e.prototype.start=function(){this.inter=egret.setInterval(function(){Commond.sendHeartCheck()},this,1e3*this.timeout)},e}();__reflect(i.prototype,"HeartCheck")}(sockets||(sockets={}));var qr;!function(e){var t=function(){function t(t){this.mode=e.QRMode.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var i=0,n=this.data.length;n>i;i++){var o=[],a=this.data.charCodeAt(i);a>65536?(o[0]=240|(1835008&a)>>>18,o[1]=128|(258048&a)>>>12,o[2]=128|(4032&a)>>>6,o[3]=128|63&a):a>2048?(o[0]=224|(61440&a)>>>12,o[1]=128|(4032&a)>>>6,o[2]=128|63&a):a>128?(o[0]=192|(1984&a)>>>6,o[1]=128|63&a):o[0]=a,this.parsedData.push(o)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}return t.prototype.getLength=function(e){return this.parsedData.length},t.prototype.write=function(e){for(var t=0,i=this.parsedData.length;i>t;t++)e.put(this.parsedData[t],8)},t}();e.QR8bitByte=t,__reflect(t.prototype,"qr.QR8bitByte")}(qr||(qr={}));var qr;!function(e){var t=function(){function e(){this.buffer=[],this.length=0}return e.prototype.get=function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},e.prototype.put=function(e,t){for(var i=0;t>i;i++)this.putBit(1==(e>>>t-i-1&1))},e.prototype.getLengthInBits=function(){return this.length
},e.prototype.putBit=function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++},e}();e.QRBitBuffer=t,__reflect(t.prototype,"qr.QRBitBuffer")}(qr||(qr={}));var qr;!function(e){var t=function(){function t(){}return t.create=function(i,n,o,a,s,r){void 0===n&&(n=200),void 0===o&&(o=200),void 0===a&&(a=e.QRErrorCorrectLevel.M),void 0===s&&(s=4),void 0===r&&(r=0);var h={color:r,width:n,height:o,correctLevel:a,typeNumer:s},l=new e.QRCodeModel(h.typeNumer,h.correctLevel);return l.addData(i),l.make(),t.draw(l,h)},t.draw=function(e,t){var i=new egret.Sprite,t=t,n=e.getModuleCount(),o=t.width/n,a=t.height/n,s=10;i.graphics.moveTo(-s,-s),i.graphics.beginFill(16777215),i.graphics.drawRect(-s,-s,t.width+2*s,t.height+2*s),i.graphics.endFill();for(var r=0;n>r;r++)for(var h=0;n>h;h++){var l=e.isDark(r,h);l&&(i.graphics.moveTo(h*o,r*a),i.graphics.beginFill(t.color),i.graphics.drawRect(h*o,r*a,o,a),i.graphics.endFill())}return i},t}();e.QRCode=t,__reflect(t.prototype,"qr.QRCode")}(qr||(qr={}));var qr;!function(e){var t=function(){function t(e,t){this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[],this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}return t.prototype.addData=function(t){var i=new e.QR8bitByte(t);this.dataList.push(i),this.dataCache=null},t.prototype.isDark=function(e,t){if(0>e||this.moduleCount<=e||0>t||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},t.prototype.getModuleCount=function(){return this.moduleCount},t.prototype.make=function(){this.makeImpl(!1,this.getBestMaskPattern())},t.prototype.makeImpl=function(e,i){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[n][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,i),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,i)},t.prototype.setupPositionProbePattern=function(e,t){for(var i=-1;7>=i;i++)if(!(-1>=e+i||this.moduleCount<=e+i))for(var n=-1;7>=n;n++)-1>=t+n||this.moduleCount<=t+n||(i>=0&&6>=i&&(0==n||6==n)||n>=0&&6>=n&&(0==i||6==i)||i>=2&&4>=i&&n>=2&&4>=n?this.modules[e+i][t+n]=!0:this.modules[e+i][t+n]=!1)},t.prototype.getBestMaskPattern=function(){for(var t=0,i=0,n=0;8>n;n++){this.makeImpl(!0,n);var o=e.QRUtil.getLostPoint(this);(0==n||t>o)&&(t=o,i=n)}return i},t.prototype.createMovieClip=function(e,t,i){var n=e.createEmptyMovieClip(t,i),o=1;this.make();for(var a=0;a<this.modules.length;a++)for(var s=a*o,r=0;r<this.modules[a].length;r++){var h=r*o,l=this.modules[a][r];l&&(n.beginFill(0,100),n.moveTo(h,s),n.lineTo(h+o,s),n.lineTo(h+o,s+o),n.lineTo(h,s+o),n.endFill())}return n},t.prototype.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},t.prototype.setupPositionAdjustPattern=function(){for(var t=e.QRUtil.getPatternPosition(this.typeNumber),i=0;i<t.length;i++)for(var n=0;n<t.length;n++){var o=t[i],a=t[n];if(null==this.modules[o][a])for(var s=-2;2>=s;s++)for(var r=-2;2>=r;r++)-2==s||2==s||-2==r||2==r||0==s&&0==r?this.modules[o+s][a+r]=!0:this.modules[o+s][a+r]=!1}},t.prototype.setupTypeNumber=function(t){for(var i=e.QRUtil.getBCHTypeNumber(this.typeNumber),n=0;18>n;n++){var o=!t&&1==(i>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=o}for(var n=0;18>n;n++){var o=!t&&1==(i>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=o}},t.prototype.setupTypeInfo=function(t,i){for(var n=this.errorCorrectLevel<<3|i,o=e.QRUtil.getBCHTypeInfo(n),a=0;15>a;a++){var s=!t&&1==(o>>a&1);6>a?this.modules[a][8]=s:8>a?this.modules[a+1][8]=s:this.modules[this.moduleCount-15+a][8]=s}for(var a=0;15>a;a++){var s=!t&&1==(o>>a&1);8>a?this.modules[8][this.moduleCount-a-1]=s:9>a?this.modules[8][15-a-1+1]=s:this.modules[8][15-a-1]=s}this.modules[this.moduleCount-8][8]=!t},t.prototype.mapData=function(t,i){for(var n=-1,o=this.moduleCount-1,a=7,s=0,r=this.moduleCount-1;r>0;r-=2)for(6==r&&r--;;){for(var h=0;2>h;h++)if(null==this.modules[o][r-h]){var l=!1;s<t.length&&(l=1==(t[s]>>>a&1));var c=e.QRUtil.getMask(i,o,r-h);c&&(l=!l),this.modules[o][r-h]=l,a--,-1==a&&(s++,a=7)}if(o+=n,0>o||this.moduleCount<=o){o-=n,n=-n;break}}},t.createData=function(i,n,o){for(var a=e.QRRSBlock.getRSBlocks(i,n),s=new e.QRBitBuffer,r=0;r<o.length;r++){var h=o[r];s.put(h.mode,4),s.put(h.getLength(),e.QRUtil.getLengthInBits(h.mode,i)),h.write(s)}for(var l=0,r=0;r<a.length;r++)l+=a[r].dataCount;if(s.getLengthInBits()>8*l)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*l+")");for(s.getLengthInBits()+4<=8*l&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*l)&&(s.put(t.PAD0,8),!(s.getLengthInBits()>=8*l));)s.put(t.PAD1,8);return t.createBytes(s,a)},t.createBytes=function(t,i){for(var n=0,o=0,a=0,s=new Array(i.length),r=new Array(i.length),h=0;h<i.length;h++){var l=i[h].dataCount,c=i[h].totalCount-l;o=Math.max(o,l),a=Math.max(a,c),s[h]=new Array(l);for(var u=0;u<s[h].length;u++)s[h][u]=255&t.buffer[u+n];n+=l;var p=e.QRUtil.getErrorCorrectPolynomial(c),g=new e.QRPolynomial(s[h],p.getLength()-1),d=g.mod(p);r[h]=new Array(p.getLength()-1);for(var u=0;u<r[h].length;u++){var f=u+d.getLength()-r[h].length;r[h][u]=f>=0?d.get(f):0}}for(var m=0,u=0;u<i.length;u++)m+=i[u].totalCount;for(var v=new Array(m),y=0,u=0;o>u;u++)for(var h=0;h<i.length;h++)u<s[h].length&&(v[y++]=s[h][u]);for(var u=0;a>u;u++)for(var h=0;h<i.length;h++)u<r[h].length&&(v[y++]=r[h][u]);return v},t.PAD0=236,t.PAD1=17,t}();e.QRCodeModel=t,__reflect(t.prototype,"qr.QRCodeModel")}(qr||(qr={}));var qr;!function(e){var t=function(){function e(){}return e.L=1,e.M=0,e.Q=3,e.H=2,e}();e.QRErrorCorrectLevel=t,__reflect(t.prototype,"qr.QRErrorCorrectLevel")}(qr||(qr={}));var qr;!function(e){var t=function(){function e(){}return e.PATTERN000=0,e.PATTERN001=1,e.PATTERN010=2,e.PATTERN011=3,e.PATTERN100=4,e.PATTERN101=5,e.PATTERN110=6,e.PATTERN111=7,e}();e.QRMaskPattern=t,__reflect(t.prototype,"qr.QRMaskPattern")}(qr||(qr={}));var qr;!function(e){var t=function(){function e(){}return e.glog=function(t){return e.isInit||e.init(),1>t&&console.log("错误:n="+t),e.LOG_TABLE[t]},e.gexp=function(t){for(e.isInit||e.init();0>t;)t+=255;for(;t>=256;)t-=255;return e.EXP_TABLE[t]},e.init=function(){e.isInit=!0;for(var t=0;8>t;t++)e.EXP_TABLE[t]=1<<t;for(var t=8;256>t;t++)e.EXP_TABLE[t]=e.EXP_TABLE[t-4]^e.EXP_TABLE[t-5]^e.EXP_TABLE[t-6]^e.EXP_TABLE[t-8];for(var t=0;255>t;t++)e.LOG_TABLE[e.EXP_TABLE[t]]=t},e.EXP_TABLE=new Array(256),e.LOG_TABLE=new Array(256),e}();e.QRMath=t,__reflect(t.prototype,"qr.QRMath")}(qr||(qr={}));var qr;!function(e){var t=function(){function e(){}return e.MODE_NUMBER=1,e.MODE_ALPHA_NUM=2,e.MODE_8BIT_BYTE=4,e.MODE_KANJI=8,e}();e.QRMode=t,__reflect(t.prototype,"qr.QRMode")}(qr||(qr={}));var qr;!function(e){var t=function(){function t(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var i=0;i<e.length&&0==e[i];)i++;this.num=new Array(e.length-i+t);for(var n=0;n<e.length-i;n++)this.num[n]=e[n+i]}return t.prototype.get=function(e){return this.num[e]},t.prototype.getLength=function(){return this.num.length},t.prototype.multiply=function(i){for(var n=new Array(this.getLength()+i.getLength()-1),o=0;o<this.getLength();o++)for(var a=0;a<i.getLength();a++)n[o+a]^=e.QRMath.gexp(e.QRMath.glog(this.get(o))+e.QRMath.glog(i.get(a)));return new t(n,0)},t.prototype.mod=function(i){if(this.getLength()-i.getLength()<0)return this;for(var n=e.QRMath.glog(this.get(0))-e.QRMath.glog(i.get(0)),o=new Array(this.getLength()),a=0;a<this.getLength();a++)o[a]=this.get(a);for(var a=0;a<i.getLength();a++)o[a]^=e.QRMath.gexp(e.QRMath.glog(i.get(a))+n);return new t(o,0).mod(i)},t}();e.QRPolynomial=t,__reflect(t.prototype,"qr.QRPolynomial")}(qr||(qr={}));var qr;!function(e){var t=function(){function t(e,t){this.totalCount=e,this.dataCount=t}return t.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t.getRSBlocks=function(e,i){var n=t.getRsBlockTable(e,i);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+i);for(var o=n.length/3,a=[],s=0;o>s;s++)for(var r=n[3*s+0],h=n[3*s+1],l=n[3*s+2],c=0;r>c;c++)a.push(new t(h,l));return a},t.getRsBlockTable=function(i,n){switch(n){case e.QRErrorCorrectLevel.L:return t.RS_BLOCK_TABLE[4*(i-1)+0];case e.QRErrorCorrectLevel.M:return t.RS_BLOCK_TABLE[4*(i-1)+1];case e.QRErrorCorrectLevel.Q:return t.RS_BLOCK_TABLE[4*(i-1)+2];case e.QRErrorCorrectLevel.H:return t.RS_BLOCK_TABLE[4*(i-1)+3];default:return}},t}();e.QRRSBlock=t,__reflect(t.prototype,"qr.QRRSBlock")}(qr||(qr={}));var qr;!function(e){var t=function(){function t(){}return t.getBCHTypeInfo=function(e){for(var i=e<<10;t.getBCHDigit(i)-t.getBCHDigit(t.G15)>=0;)i^=t.G15<<t.getBCHDigit(i)-t.getBCHDigit(t.G15);return(e<<10|i)^t.G15_MASK},t.getBCHTypeNumber=function(e){for(var i=e<<12;t.getBCHDigit(i)-t.getBCHDigit(t.G18)>=0;)i^=t.G18<<t.getBCHDigit(i)-t.getBCHDigit(t.G18);return e<<12|i},t.getBCHDigit=function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},t.getPatternPosition=function(e){return t.PATTERN_POSITION_TABLE[e-1]},t.getMask=function(t,i,n){switch(t){case e.QRMaskPattern.PATTERN000:return(i+n)%2==0;case e.QRMaskPattern.PATTERN001:return i%2==0;case e.QRMaskPattern.PATTERN010:return n%3==0;case e.QRMaskPattern.PATTERN011:return(i+n)%3==0;case e.QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(n/3))%2==0;case e.QRMaskPattern.PATTERN101:return i*n%2+i*n%3==0;case e.QRMaskPattern.PATTERN110:return(i*n%2+i*n%3)%2==0;case e.QRMaskPattern.PATTERN111:return(i*n%3+(i+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},t.getErrorCorrectPolynomial=function(t){for(var i=new e.QRPolynomial([1],0),n=0;t>n;n++)i=i.multiply(new e.QRPolynomial([1,e.QRMath.gexp(n)],0));return i},t.getLengthInBits=function(t,i){if(i>=1&&10>i)switch(t){case e.QRMode.MODE_NUMBER:return 10;case e.QRMode.MODE_ALPHA_NUM:return 9;case e.QRMode.MODE_8BIT_BYTE:return 8;case e.QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(27>i)switch(t){case e.QRMode.MODE_NUMBER:return 12;case e.QRMode.MODE_ALPHA_NUM:return 11;case e.QRMode.MODE_8BIT_BYTE:return 16;case e.QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(41>i))throw new Error("type:"+i);switch(t){case e.QRMode.MODE_NUMBER:return 14;case e.QRMode.MODE_ALPHA_NUM:return 13;case e.QRMode.MODE_8BIT_BYTE:return 16;case e.QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},t.getLostPoint=function(e){for(var t=e.getModuleCount(),i=0,n=0;t>n;n++)for(var o=0;t>o;o++){for(var a=0,s=e.isDark(n,o),r=-1;1>=r;r++)if(!(0>n+r||n+r>=t))for(var h=-1;1>=h;h++)0>o+h||o+h>=t||(0!=r||0!=h)&&s==e.isDark(n+r,o+h)&&a++;a>5&&(i+=3+a-5)}for(var n=0;t-1>n;n++)for(var o=0;t-1>o;o++){var l=0;e.isDark(n,o)&&l++,e.isDark(n+1,o)&&l++,e.isDark(n,o+1)&&l++,e.isDark(n+1,o+1)&&l++,(0==l||4==l)&&(i+=3)}for(var n=0;t>n;n++)for(var o=0;t-6>o;o++)e.isDark(n,o)&&!e.isDark(n,o+1)&&e.isDark(n,o+2)&&e.isDark(n,o+3)&&e.isDark(n,o+4)&&!e.isDark(n,o+5)&&e.isDark(n,o+6)&&(i+=40);for(var o=0;t>o;o++)for(var n=0;t-6>n;n++)e.isDark(n,o)&&!e.isDark(n+1,o)&&e.isDark(n+2,o)&&e.isDark(n+3,o)&&e.isDark(n+4,o)&&!e.isDark(n+5,o)&&e.isDark(n+6,o)&&(i+=40);for(var c=0,o=0;t>o;o++)for(var n=0;t>n;n++)e.isDark(n,o)&&c++;var u=Math.abs(100*c/t/t-50)/5;return i+=10*u},t.prototype.static_isSupportCanvas=function(){return"undefined"!=typeof CanvasRenderingContext2D},t._getTypeNumber=function(i,n){for(var o=1,a=t._getUTF8Length(i),s=0,r=t.QRCodeLimitLength.length;r>=s;s++){var h=0;switch(n){case e.QRErrorCorrectLevel.L:h=t.QRCodeLimitLength[s][0];break;case e.QRErrorCorrectLevel.M:h=t.QRCodeLimitLength[s][1];break;case e.QRErrorCorrectLevel.Q:h=t.QRCodeLimitLength[s][2];break;case e.QRErrorCorrectLevel.H:h=t.QRCodeLimitLength[s][3]}if(h>=a)break;o++}if(o>t.QRCodeLimitLength.length)throw new Error("Too long data");return o},t._getUTF8Length=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)},t.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],t.G15=1335,t.G18=7973,t.G15_MASK=21522,t.QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],t}();e.QRUtil=t,__reflect(t.prototype,"qr.QRUtil")}(qr||(qr={}));var core;!function(e){var t=function(){function e(){}return e.playBGMusic=function(){1==this.isBgSoundOn?playAudio("music_mp3"):stopAudio("music_mp3")},e.stopBgMusic=function(){stopAudio("music_mp3")},e.registerPageActive=function(){if(!this.haveRegistered){this.haveRegistered=!0;var e="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null,t=e.replace(/hidden/i,"visibilitychange"),i=function(){!document[e]};document.addEventListener(t,i)}},e.isBgSoundOn=1,e.isEffectSoundOn=1,e.haveRegistered=!1,e}();e.MusicManager=t,__reflect(t.prototype,"core.MusicManager")}(core||(core={}));var SoundConst=function(){function e(){}return e.ADD="Add_mp3",e.SUB="Sub_mp3",e.STARTBTN="start_mp3",e.SPEED_ON="Add_mp3",e.SPEED_OFF="Sub_mp3",e.AUTO_ON="autoStart_mp3",e.AUTO_OFF="autoStop_mp3",e.REEL="reel_mp3",e.REEL_STOP="reelStop_mp3",e.STOPBTN="stop_mp3",e.KA="kaka_mp3",e.DENG="c1Deng_mp3",e.FREEBG="freeBg_mp3",e.C1TWO="c1Two_mp3",e.DEJIANG="dejiang_mp3",e.WWMUSIC="WWMusic_mp3",e.BIGMUSIC="bigMusic_mp3",e.FOURFISH="fourFish_mp3",e}();__reflect(SoundConst.prototype,"SoundConst");var SoundManager=function(){function e(){this.effectOn=!1,this.bgOn=!1,this.bgOn=!1,this.effectOn=!1,this.bgVolume=1,this.effectVolume=1,this.lastVolume=1,this.dic=new Dictionary}return e.prototype.saveVolue=function(){this.lastVolume=this.effectVolume},e.prototype.loadLocalData=function(){var e=egret.localStorage.getItem("bgOn"),t=egret.localStorage.getItem("effectOn"),i=egret.localStorage.getItem("volume"),n=egret.localStorage.getItem("lastVolume");null!=e?this.bgOn=0==e?!1:!0:(egret.localStorage.setItem("bgOn","1"),this.bgOn=!0),null!=t?this.effectOn=0==t?!1:!0:(egret.localStorage.setItem("effectOn","1"),this.effectOn=!0),null!=i?(this.bgVolume=i,this.effectVolume=i):egret.localStorage.setItem("volume",""+this.bgVolume),null!=n?this.lastVolume=n:egret.localStorage.setItem("lastVolume",""+this.lastVolume)},e.prototype.playEffect=function(e,t){var i=this;if(void 0===t&&(t=-1),this.effectOn){var n,o=RES.getRes(e);if(o)n=o.play(0,1),this.dic.add(e,n),n.once(egret.Event.SOUND_COMPLETE,function(t){i.dic.remove(e)},this),n.volume=this.effectVolume;else{var a=function(t,o){n=t.play(0,1),i.dic.add(e,n),n.once(egret.Event.SOUND_COMPLETE,function(t){i.dic.remove(e)},i),n.volume=i.effectVolume};RES.getResAsync(e,a,this)}}},e.prototype.close=function(){for(var e=0;e<this.dic.values.length;e++){var t=this.dic.values[e];t&&(t.volume=0)}},e.prototype.open=function(){for(var e=0;e<this.dic.values.length;e++){var t=this.dic.values[e];t&&(t.volume=this.effectVolume)}},e.prototype.playBg=function(e){var t=this;this.currBg=e,this.bgOn&&this.playMusic(e).then(function(e){t.bgchanel&&(t.bgchanel.stop(),t.bgchanel=null),t.bgchanel=e,t.bgchanel.volume=t.bgVolume})},e.prototype.stopBg=function(){this.bgchanel&&(this.bgchanel.stop(),this.bgchanel=null)},e.prototype.setEffectOn=function(e){this.effectOn=e,egret.localStorage.setItem("effectOn",1==this.effectOn?"1":"0"),this.effectOn?this.open():this.close()},e.prototype.setBgOn=function(e){this.bgOn=e,egret.localStorage.setItem("bgOn",1==this.bgOn?"1":"0"),this.bgOn?this.playBg(this.currBg):this.stopBg()},e.prototype.setBgVolume=function(e){e=Math.min(e,1),e=Math.max(e,0),egret.localStorage.setItem("lastVolume",this.bgVolume+""),this.bgVolume=e,egret.localStorage.setItem("volume",e+""),this.bgchanel&&(this.bgchanel.volume=this.bgVolume)},e.prototype.getBgVolume=function(){return this.bgVolume},e.prototype.setEffectVolume=function(e){e=Math.min(e,1),e=Math.max(e,0),egret.localStorage.setItem("lastVolume",this.effectVolume+""),this.effectVolume=e,egret.localStorage.setItem("volume",e+"")},e.prototype.getEffectVolume=function(){return this.effectVolume},e.getInstance=function(){return null==this.ins&&(this.ins=new e),this.ins},e.prototype.playMusic=function(e,t){var i=this;return void 0===e&&(e=""),void 0===t&&(t=-1),new Promise(function(n,o){var a,s=RES.getRes(e);if(s)a=s.play(e,t),i.dic.add(e,a),a.once(egret.Event.SOUND_COMPLETE,function(t){i.dic.remove(e)},i),a.volume=i.effectVolume,n(a);else{var r=function(s,r){null==s?(console.log(e+"->不存在的资源"),o()):(a=s.play(e,t),i.dic.add(e,a),a.once(egret.Event.SOUND_COMPLETE,function(t){i.dic.remove(e)},i),a.volume=i.effectVolume,n(a))};RES.getResAsync(e,r,i)}})},e}();__reflect(SoundManager.prototype,"SoundManager");var game;!function(e){var t=function(){function e(){}return e.getMc=function(e,t,i){function n(t){var i=RES.getRes(e+"_png"),n=RES.getRes(e+"_json"),o=new egret.MovieClipDataFactory(n,i),a=new egret.MovieClip(o.generateMovieClipData(t));return a.fac=o,a.touchEnabled=!1,a}var o=this;void 0===t&&(t=null),void 0===i&&(i="");var a=RES.getRes(e+"_png");if(a){var s=n(i);return t&&t(s),s}return RES.getResAsync(e+"_png",function(){RES.getResAsync(e+"_json",function(){t&&t(n(i))},o)},this),null},e.changeAction=function(e,t){var i=e.fac;e.movieClipData=i.generateMovieClipData(t)},e}();e.MCUtils=t,__reflect(t.prototype,"game.MCUtils")}(game||(game={}));var core;!function(e){var t=function(){function e(){}return e.addLongTouch=function(t,i,n,o){void 0===o&&(o=null),t.startLongouch=i,t.endLongTouch=n,t.thisObj=o,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.longTouchBegin,t)},e.longTouchBegin=function(t){egret.clearTimeout(e.timeout),e.isLong=!1;var i=t.currentTarget;e.curx=t.stageX,e.cury=t.stageY,egret.MainContext.instance.stage.once(egret.TouchEvent.TOUCH_END,e.longTouchEnd,this),e.timeout=egret.setTimeout(function(){e.isLong=!0,null==i.thisObj?i.startLongouch&&i.startLongouch(t):i.startLongouch&&i.startLongouch.call(i.thisObj,t)},this,350)},e.longTouchEnd=function(t){egret.clearTimeout(e.timeout);var i=this;1==e.isLong&&(e.isLong=!1,(i.thisObj=null)?i.endLongTouch&&i.endLongTouch(t):i.endLongTouch&&i.endLongTouch.call(i.thisObj,t))},e.deleteLongtouch=function(t){t.startLongouch=null,t.endLongTouch=null,t.thisObj=null,t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.longTouchBegin,t)},e.removeDisplayObject=function(e){e.parent&&e.parent.removeChild(e)},e.removeDisplayObjectForAni=function(t,i){var n=this;return void 0===i&&(i=500),new Promise(function(o,a){egret.Tween.get(t).to({alpha:0},i).call(function(){e.removeDisplayObject(t),o()},n)})},e.setAnchorMiddle=function(e,t){void 0===t&&(t=!1),egret.callLater(function(){e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,t&&(e.x=e.x+e.width/2,e.y=e.y+e.height/2)},this)},e.addButtonScaleEffects=function(t,i){if(void 0===i&&(i=!1),t)if(i)t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onButtonTouchBegan,t);else if(egret.is(t,egret.getQualifiedClassName(eui.Button)))t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onButtonTouchBegan,t);else for(var n=t.numChildren,o=0;n>o;o++){var a=t.getChildAt(o);e.addButtonScaleEffects(a)}},e.onButtonTouchBegan=function(e){var t=e.currentTarget;egret.Tween.get(t).to({scaleX:.9,scaleY:.9},50).to({scaleX:1,scaleY:1},50)},e.isLong=!1,e}();e.MyUIUtils=t,__reflect(t.prototype,"core.MyUIUtils")}(core||(core={}));var RegUtils;!function(e){function t(e){var t=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/;return t.test(e)?!0:!1}function i(e){if(a(e))return!1;var t=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/g;return t.test(e)&&Number(RegExp.$1)<256&&Number(RegExp.$2)<256&&Number(RegExp.$3)<256&&Number(RegExp.$4)<256?!0:!1}function n(e){var t=/^(((13[0-9]{1})|(15[0-9]{1})|(17[0-9]{1})|(18[0-9]{1}))+\d{8})$/;return t.test(e)?!0:!1}function o(e){var t=/^[0][1-9]{2,3}-[0-9]{5,10}$/,i=/^[1-9]{1}[0-9]{5,8}$/;return e.length>9?t.test(e)?!0:!1:i.test(e)?!0:!1}function a(e){if(""==e)return!0;var t="^[ ]+$",i=new RegExp(t);return i.test(e)}function s(e){var t=/^[-]{0,1}[0-9]{1,}$/;return t.test(e)}function r(e){var t="^[0-9]+$",i=new RegExp(t);return-1!=e.search(i)?!0:!1}function h(e){var t="^[0-9]+[.][0-9]{0,3}$",i=new RegExp(t);return i.test(e)?!0:!1}function l(e){if(a(e))return!1;var t=/^[\u4E00-\u9FA5]{2,4}$/;return t.test(e)}function c(e){var t=/^[\u4E00-\u9FA5]/;return t.test(e)}function u(e,t){var i=" ",n=-1;if(0==t||1==t){for(;" "==i;)++n,i=e.substr(n,1);e=e.substring(n)}if(0==t||2==t){for(i=" ",n=e.length;" "==i;)--n,i=e.substr(n,1);e=e.substring(0,n+1)}return e}function p(e){var t=/^[a-z0-9]+$/;return t.test(e)}function g(e){var t=/^[a-z]+$/;return t.test(e)}function d(e){var t=/^[0-9]+$/;return t.test(e)}function f(e){var t=/^[0-9]+(.[0-9]{1})?$/,i=/^[0-9]*$/;return t.test(e)||i.test(e)}e.checkEmail=t,e.isIP=i,e.checkMobile=n,e.checkPhone=o,e.isNull=a,e.isInteger=s,e.isNumber=r,e.isMoney=h,e.isRealName=l,e.checkIsChinese=c,e.cTrim=u,e.isAccount=p,e.isAccountaz=g,e.isAccount09=d,e.isOneNumber=f}(RegUtils||(RegUtils={}));var Utils=function(){function e(){}return e.rang=function(e,t){return Math.round(Math.random()*(t-e)+e)},e.setAnchorCenter=function(e){e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2},e.distance=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},e.lineIntersectSide=function(e,t,i,n){var o=(i.y-e.y)*(e.x-t.x)-(i.x-e.x)*(e.y-t.y),a=(n.y-e.y)*(e.x-t.x)-(n.x-e.x)*(e.y-t.y);return o*a>0?!1:!0},e.sideIntersectSide=function(t,i,n,o){return e.lineIntersectSide(t,i,n,o)&&e.lineIntersectSide(n,o,t,i)?!0:!1},e.getAngleBySide=function(e,t){return Math.atan(e/t)*(180/Math.PI)},e.setRichText=function(e,t){if(e)if(t){var i=new egret.HtmlTextParser;e.textFlow=i.parse(t)}else e.text=t},e.hitTest=function(e,t){if(null!=e.getBounds&&null!=t.getBounds){var i=e.getBounds(),n=t.getBounds();return i.x=e.x,i.y=e.y,n.x=t.x,n.y=t.y,i.intersects(n)}},e.checkLength=function(e){var t=new egret.ByteArray;return t.writeUTF(e),t.length},e.pointAmongAngle=function(e,t,i,n){var o=i-e,a=n-t,s=0;return 0==o&&0==a?0:(o>=0&&a>=0?s=180*Math.atan(a/o)/Math.PI:0>=o&&a>=0?s=180*Math.atan(Math.abs(o)/a)/Math.PI+90:0>=o&&0>=a?s=180*Math.atan(Math.abs(a)/Math.abs(o))/Math.PI+180:o>=0&&0>=a&&(s=180*Math.atan(o/Math.abs(a))/Math.PI+270),s)},e.arrToArr2=function(e,t){var i=[];if(e)for(var n=void 0,o=0,a=e.length;a>o;o++)o%t===0&&(n=[],i.push(n)),n.push(e[o]);return i},e.getUrlPara=function(e){for(var t=location.search.replace(/^\?/,"").split("&"),i={},n=0,o=t.length;o>n;n++){var a=t[n].split("=");i[a[0]]=a[1]}return e?i[e]||"":i},e.limit=function(e,t,i){return t>e?t:e>t?i:e},e.limit1=function(e,t,i){return Math.max(t,Math.min(i,e))},e.showTimeFormat=function(e){e=Math.floor(e/1e3);var t=Math.floor(e/86400);e%=86400;var i=Math.floor(e/3600);e%=3600;var n=Math.floor(e/60);e%=60;var o=Math.floor(e);return 0>=t&&0>=i&&0>=n?o+"秒":0>=t&&0>=i?n+"分"+(o>9?o:"0"+o)+"秒":0>=t?i+"时"+(n>0?n:"0"+n)+"分"+(o>9?o:"0"+o)+"秒":t+"天"+(i>0?i:"0"+i)+"时"+(n>0?n:"0"+n)+"分"+(o>9?o:"0"+o)+"秒"},e.getTime1=function(){var e=new Date,t=(e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours()),i=e.getMinutes(),n=e.getSeconds(),o="";return 10>t&&(o+="0"),o+=t+":",10>i&&(o+="0"),o+=i+":",10>n&&(o+="0"),o+=n},e.getBigNumberShow=function(e){return 1e4>e?e+"":(e/=1e3,e.toFixed(1)+"K")},e.isElinArr=function(e,t){return t.indexOf(e)>-1},e.isArrCrossing=function(t,i){for(var n=0;n<t.length;n++)if(e.isElinArr(t[n],i))return!0;return!1},e.getURLQueryString=function(e){if(egret.Capabilities.runtimeType==egret.RuntimeType.WEB){var t=decodeURIComponent(window.location.href);t=t.replace(/&quot/g,'"');var i;return t.indexOf("#?")>0?(t=t.replace("#?","&"),i=t.match(new RegExp("(^|&)"+e+"=([^&]*)(&|$)"))):i=window.location.search.substr(1).match(new RegExp("(^|&)"+e+"=([^&]*)(&|$)")),i?i[2]:null}},e.isSameDay=function(e,t){var i=new Date(e),n=new Date(t);return i.setHours(0,0,0,0)==n.setHours(0,0,0,0)},e.getMaxStr=function(e){return e.length<=5?e:e.substr(0,5)+"..."},e.removeArrayItem=function(e,t){var i=e.indexOf(t);i>-1&&e.splice(i,1)},e.mtaChainSdk=function(e){var t=window.MtaH5;if(t&&t.clickStat){var i={};i[e.toLocaleLowerCase()]="true",t.clickStat("yemianshendu",i)}},e.isCollsionRect2=function(e,t,i,n,o,a,s,r){return e>=o&&e>=o+s||o>=e&&o>=e+i||t>=a&&t>=a+r||a>=t&&a>=t+n?!1:!0},e.rect1CollsionRect2=function(t,i){return e.isCollsionRect2(t.x,t.y,t.width,t.height,i.x,i.y,i.width,i.height)},e.BigNumTostring=function(t){var i=t.toString();return t>=e.MAXK&&t<e.MAXM?i=(t/1e3).toFixed(2)+"K":t>=1e6&&(i=(t/e.MAXM).toFixed(2)+"M"),i.toString()},e.BigNumTostring1=function(t){var i=t.toString();if(t>=e.MAXK1&&t<e.MAXM){i=t/1e3+"";var n=i.split(".")[0],o=i.split(".")[1];i=n+"."+(o?o.substr(0,2):"00")+"k"}else if(t>=1e6){i=t/e.MAXM+"";var n=i.split(".")[0],o=i.split(".")[1];i=n+"."+(o?o.substr(0,2):"00")+"M"}return i+""},e.getOrientationType=function(){return 180===window.orientation||0===window.orientation?0:90===window.orientation||-90===window.orientation?1:void 0},e.ArrConvert=function(e,t){for(var i=e.length%t==0?e.length/t:e.length/t+1,n=new Array,o=0;i>o;o++){for(var a=o*t,s=new Array,r=0;t>r&&a<e.length;)s.push(e[a++]),r++;n.push(s)}return n},e.timerOver=function(e,t){var i=e.replace(/-/g,"/"),n=t.replace(/-/g,"/"),o=Date.parse(i),a=Date.parse(n),s=o-a,r=Math.floor(s/864e5),h=s%864e5,l=Math.floor(h/36e5),c=h%36e5,u=Math.floor(c/6e4),p=c%6e4,g=Math.round(p/1e3),d=r+"天"+l+"时"+u+"分"+g;return d},e.playTweenAnimation=function(e,t){if(t)for(var i in e.items)e.items[i].props={loop:!0};e.play()},e.PlayBgSound=function(e,t){var i=RES.getRes(e);return i.play(0,t),i},e.isWeiXin=function(){var e=window.navigator.userAgent.toLowerCase(),t=""+e.match(/MicroMessenger/i);return"null"==t?!1:"micromessenger"==t?!0:void 0},e.getRandom=function(t,i){i=i||1,t=t||0,e.seed=(9301*e.seed+49297)%233280;var n=e.seed/233280;return t+n*(i-t)},e.MAXK=1e5,e.MAXM=1e6,e.MAXK1=1e3,e.seed=5,e}();__reflect(Utils.prototype,"Utils");var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},t.prototype.onProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var core;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.rect=new eui.Rect,e.rect.alpha=0,e.rect.width=GameConfig.WIDTH,e.rect.height=GameConfig.HEIGHT,e}return __extends(i,t),i.prototype.show=function(){var t=e.LayerManager.getInstance().getLayer(e.LayerManager.Layer_Top);t.addChild(this.rect)},i.prototype.hide=function(){if(this.parent&&this.parent.removeChild(this),this.rect.parent){var t=e.LayerManager.getInstance().getLayer(e.LayerManager.Layer_Top);t.removeChild(this.rect)}},i}(eui.Component);e.BaseTops=t,__reflect(t.prototype,"core.BaseTops")}(core||(core={}));var DebugPlatform=function(){function e(){}return e.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,{nickName:"username"}]})})},e.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var CheckBanner=function(e){function t(){var t=e.call(this)||this;return t.betArr=[],t.btnArr=[],t.leftIndex=0,t.curIndex=0,t
}return __extends(t,e),t.prototype.onAdd=function(){e.prototype.onAdd.call(this),this.leftBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSubIndex,this),this.rightBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onAddIndex,this)},t.prototype.onRemoved=function(){e.prototype.onRemove.call(this),this.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSubIndex,this),this.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onAddIndex,this)},t.prototype.initArr=function(e,t){if(this.betArr=e,this.bGroup||(this.bGroup=new eui.RadioButtonGroup,this.bGroup.addEventListener(egret.Event.CHANGE,this.onChange,this)),0==this.btnArr.length)for(var i=0;10>i;i++){var n=this["btn"+i];n&&(this.btnArr.push(n),n.group=this.bGroup,n.value=i)}this.setIndex(t)},t.prototype.onChange=function(){var e=this.bGroup.selectedValue;this.curIndex=e,this.updata(),this.dispatchEvent(new egret.Event(egret.Event.CHANGE))},t.prototype.setIndex=function(e){this.curIndex=1,this.leftIndex=e-1,this.updata(),this.dispatchEvent(new egret.Event(egret.Event.CHANGE))},t.prototype.getIndex=function(){return this.curIndex+this.leftIndex},t.prototype.onSubIndex=function(){this.curIndex>0?this.curIndex--:this.leftIndex>0&&this.leftIndex--,this.updata(),this.dispatchEvent(new egret.Event(egret.Event.CHANGE))},t.prototype.onAddIndex=function(){this.curIndex<this.btnArr.length-1?this.curIndex++:this.leftIndex<this.betArr.length-this.btnArr.length&&this.leftIndex++,this.updata(),this.dispatchEvent(new egret.Event(egret.Event.CHANGE))},t.prototype.updata=function(){0==this.leftIndex&&0==this.curIndex?this.leftBtn.enabled=!1:this.leftBtn.enabled=!0,this.leftIndex==this.betArr.length-this.btnArr.length?this.rightBtn.enabled=!1:this.rightBtn.enabled=!0,this.btnArr[this.curIndex].selected=!0;for(var e=0;e<this.btnArr.length;e++)this.btnArr[e].label=this.betArr[this.leftIndex+e].toFixed(2)},t.prototype.setTouchEnable=function(e){this.leftBtn.enabled=this.rightBtn.enabled=e;for(var t=0;t<this.btnArr.length;t++)this.btnArr[t].enabled=e},t.prototype.setEnable=function(e){for(var t=0;t<this.btnArr.length;t++)this.btnArr[t].enabled=e;this.leftBtn.enabled=e,this.rightBtn.enabled=e},t}(MyCompoment);__reflect(CheckBanner.prototype,"CheckBanner");var DesButton=function(e){function t(){var t=e.call(this)||this;return t.skinName=DesButtonSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){},this)},Object.defineProperty(t.prototype,"enable",{get:function(){return this.btn.enabled},set:function(e){this.btn.enabled=e,this.updataText(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.tLabel.text},set:function(e){this.tLabel.text=e},enumerable:!0,configurable:!0}),t.prototype.updataText=function(e){this.tLabel.textColor=e?9738398:6711920},t}(eui.Component);__reflect(DesButton.prototype,"DesButton");var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,i,n){function o(e){t.call(n,e)}function a(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),i.call(n))}var s=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){t.call(n,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(e,i){window.JSONParseClass.setData(e),egret.callLater(function(){t.call(n,generateEUI2)},s)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(e.indexOf(".exml")>-1){var r=e.split("/");r.pop();var h=r.join("/")+"_EUI.json";generateJSON.paths[e]?egret.callLater(function(){t.call(n,generateJSON.paths[e])},this):RES.getResByUrl(h,function(i){window.JSONParseClass.setData(i),egret.callLater(function(){t.call(n,generateJSON.paths[e])},s)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){t.call(n,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),RES.getResByUrl(e,o,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var MosueRadioButton=function(e){function t(){var t=e.call(this)||this;return t.initFiter(),mouse.setButtonMode(t,!0),t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAdd,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemove,t),t}return __extends(t,e),t.prototype.onAdd=function(){this.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOver,this),this.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOut,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onRollOver,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onRollOut,this),this.group.addEventListener(egret.Event.CHANGE,this.onChange,this),this.updataUI()},t.prototype.onRemove=function(){this.removeEventListener(mouse.MouseEvent.ROLL_OVER,this.onRollOver,this),this.removeEventListener(mouse.MouseEvent.ROLL_OUT,this.onRollOut,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onRollOver,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onRollOut,this)},t.prototype.onRollOver=function(e){0!=this.enabled&&(e.type==egret.TouchEvent.TOUCH_TAP&&this.onClick(),this.selected?this.currentState="rollOverAndSelected":this.currentState="rollOver",this.updataUI(),this.dispatchEventWith(egret.Event.CHANGE))},t.prototype.onRollOut=function(){this.currentState="",this.updataUI(),this.dispatchEventWith(egret.Event.CHANGE)},t.prototype.onChange=function(){this.group.selectedValue!=this.value&&this.onRollOut()},t.prototype.onClick=function(){},t.prototype.updataUI=function(){"up"==this.currentState?this.updataText(!1):this.updataText(!0)},t.prototype.updataText=function(e){this.labelDisplay.textColor=e?16777215:7896451,this.labelDisplay.filters=e?[this.colorFlilter,this.glowFilter]:[]},t.prototype.initFiter=function(){if(!this.glowFilter){var e=16777215,t=.1,i=3,n=3,o=10,a=3,s=!1,r=!1;this.glowFilter=new egret.GlowFilter(e,t,i,n,o,a,s,r)}var h=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this.colorFlilter||(this.colorFlilter=new egret.ColorMatrixFilter(h))},t}(eui.RadioButton);__reflect(MosueRadioButton.prototype,"MosueRadioButton");var GameConfig=function(){function e(){}return e.loadLocalData=function(){},Object.defineProperty(e,"WIDTH",{get:function(){return egret.MainContext.instance.stage.stageWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e,"HEIGHT",{get:function(){return egret.MainContext.instance.stage.stageHeight},enumerable:!0,configurable:!0}),e.bili=1e4,e.autoChangeBet=!0,e.autoPlay=!1,e.freeGame=!1,e.alwaysGame=!1,e.speedPlay=!1,e.lastCount=0,e.isTwo=!1,e.isTest=!1,e.isData=!1,e.emptyPlay=!1,e.J_HEIGHT=935,e.MAX_WIDTH=1600,e.DES_WIDTH=1444,e.DES_HEIGHT=990,e.ITEM_W=64,e.ITEM_H=64,e.DISTANCE=5,e.LANG="cn",e.USER_ID="18996802289",e.NICK_NAME="大西瓜",e.ACOUNT=5001,e.biliArr=[1,10,20,30,40,50,60,70,80,90,100],e.autoPlayArr=[10,20,50,75,100],e.langObj={1:{cn:"不知道干什么",tw:"不知道幹什麼",en:"nothing to do"},2:{cn:"背景音乐",tw:"背景音樂",en:"bg music"},3:{cn:"背景音效",tw:"背景音效",en:"effect music"},4:{cn:"历史下注记录",tw:"歷史下注記錄",en:"history"},5:{cn:"规则",tw:"規則",en:"rule"},6:{cn:"离开",tw:"離開",en:"leave"},7:{cn:"网络断线，请重新开始游戏或检查连线状态!",tw:"網絡斷線，請重新開始遊戲或檢查連線狀態！",en:"Network disconnection, please restart the game or check the connection status!"},8:{cn:"继续加油",tw:"繼續加油",en:"go on"},9:{cn:"不要气馁，好运气快来了",tw:"不要氣餒，好運氣快來了",en:"Don't be discouraged. Good luck is coming"},10:{cn:"好样的",tw:"好樣的",en:"Good job"}},e.CasinoGame={Game_id:"05301002004",GameCode:"We_are_family",Skin:"normal",Link_auth:"26d13639e9e663a312525c0f14f1475f",UrlBase:"ws://172.104.44.114:8083",PartnerId:"pts",PlayerId:"user-297",Token:"95142bfb7bf86d095e422e067ae9b1730415e4ac",IP:"",Language:"chs",GameCanvas:"game_block",vtoken_interval:10,Denom:"32767",guest:"0",udf1:"None",udf2:"1581044143",udf4:"pc",GameName:"美好人生",NjsHost:"172.104.44.114"},e}();__reflect(GameConfig.prototype,"GameConfig");var MouseButton2=function(e){function t(){var t=e.call(this)||this;return mouse.setButtonMode(t,!0),t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAdd,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemove,t),t}return __extends(t,e),t.prototype.onAdd=function(){this.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOver,this),this.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOut,this),egret.MainContext.instance.stage.addEventListener(mouse.MouseEvent.ROLL_OUT,this.onRollOut,this),this.iconDisplay=new eui.Image,this.iconDisplay.visible=!1,this.addChild(this.iconDisplay)},t.prototype.onRemove=function(){this.onRollOut(),this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOut,this),egret.MainContext.instance.stage.removeEventListener(mouse.MouseEvent.ROLL_OUT,this.onRollOut,this)},t.prototype.onRollOver=function(){0!=this.enabled&&(this.currentState="rollOver",this.rollover.call(this.callobj,this),this.dispatchEventWith(egret.Event.CHANGE))},t.prototype.onRollOut=function(){this.currentState="",this.rollout.call(this.callobj,this),this.dispatchEventWith(egret.Event.CHANGE)},t.prototype.setF=function(e,t,i){this.rollover=e,this.rollout=t,this.callobj=i},t.prototype.setEnable=function(e){var t=this;this.enabled=e,this.iconDisplay.visible=!e;var i=this.name.charAt(2);e?(egret.Tween.removeTweens(this),this.icon="line"+i+"_icon_png"):egret.Tween.get(this,{loop:!0}).wait(500).call(function(){t.icon="line"+i+"_aicon_png"},this).wait(500).call(function(){t.icon="line"+i+"_icon_png"},this).wait(500).call(function(){t.icon="line"+i+"_aicon_png"},this)},t}(eui.Button);__reflect(MouseButton2.prototype,"MouseButton2");var MouseButton3=function(e){function t(){var t=e.call(this)||this;return t.l=100,t.initFiter(),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.updataUI()},t.prototype.onRollOver=function(){0!=this.enabled&&(this.currentState="rollOver",this.updataUI())},t.prototype.onRollOut=function(){this.currentState="",this.updataUI()},t.prototype.updataUI=function(){"rollOver"==this.currentState?this.updataText(!0):this.updataText(!1)},t.prototype.updataText=function(e){this.labelDisplay.textColor=e?7130252:16777215},t.prototype.initFiter=function(){if(!this.glowFilter){var e=16777215,t=.01,i=1,n=1,o=.01,a=1,s=!1,r=!1;this.glowFilter=new egret.GlowFilter(e,t,i,n,o,a,s,r)}var h=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this.colorFlilter||(this.colorFlilter=new egret.ColorMatrixFilter(h))},t}(MouseButton);__reflect(MouseButton3.prototype,"MouseButton3");var MyScreenAdapter=function(){function e(){}return e.prototype.calculateStageSize=function(e,t,i,n,o){var a=t,s=i,r=n,h=o,l=t/r||0,c=i/h||0;switch(e){case egret.StageScaleMode.EXACT_FIT:break;case egret.StageScaleMode.FIXED_HEIGHT:r=Math.round(t/c);break;case egret.StageScaleMode.FIXED_WIDTH:h=Math.round(i/l);break;case egret.StageScaleMode.NO_BORDER:l>c?s=Math.round(h*l):a=Math.round(r*c);break;case egret.StageScaleMode.SHOW_ALL:l>c?a=Math.round(r*c):window.innerWidth/window.innerHeight>GameConfig.DES_WIDTH/GameConfig.DES_HEIGHT?a=Math.round(r*c):s=Math.round(h*l);break;case egret.StageScaleMode.FIXED_NARROW:l>c?r=Math.round(t/c):h=Math.round(i/l);break;case egret.StageScaleMode.FIXED_WIDE:l>c?h=Math.round(i/l):r=Math.round(t/c);break;default:r=t,h=i}return egret.Capabilities.runtimeType!=egret.RuntimeType.WXGAME&&(r%2!=0&&(r+=1),h%2!=0&&(h+=1),a%2!=0&&(a+=1),s%2!=0&&(s+=1)),{stageWidth:r,stageHeight:h,displayWidth:a,displayHeight:s}},e}();__reflect(MyScreenAdapter.prototype,"MyScreenAdapter",["egret.sys.IScreenAdapter"]);var MyHslider=function(e){function t(){var t=e.call(this)||this;return t.isPlaying=!1,t.$SliderBase[6]=0,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.addEventListener(egret.Event.CHANGE,this.onChange,this),this.maximum=100,this.minimum=0,this.value=100*SoundManager.getInstance().getEffectVolume(),this.barl=this.tsbar.width,this.tsbar.width=this.barl*this.value/this.maximum},t.prototype.onChange=function(e){this.tsbar.width=this.barl*this.value/this.maximum},t.prototype.setVolues=function(e){this.value=e,this.tsbar.width=this.barl*this.value/this.maximum},t.prototype.onTrackTouchBegin=function(t){e.prototype.onTrackTouchBegin.call(this,t),this.isPlaying=!0,this.l1x=t.stageX,this.l1y=t.stageY,this.svalue=this.value,egret.MainContext.instance.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),egret.MainContext.instance.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},t.prototype.onTouchEnd=function(e){egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),this.isPlaying=!1,e.target.parent!=this&&this.dispatchEventWith("MyHslider_STOP")},t.prototype.onTouchMove=function(e){this.l2x=e.stageX,this.l2y=e.stageY;var t=this.pointToValue(this.l2x-this.l1x,this.l2y-this.l1y);t+=this.svalue,t=this.nearestValidValue(t,this.snapInterval),this.updateWhenTouchMove(t)},t}(eui.HSlider);__reflect(MyHslider.prototype,"MyHslider");var MyScrollBar=function(e){function t(){var t=e.call(this)||this;return t.islong=!1,t.moveState=0,t.skinName=MyScrollBarSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){var e=this;this.maximum=100,this.minimum=0,this.value=100,core.MyUIUtils.addLongTouch(this.subtn,function(){e.moveState=1,e.islong=!0},function(){e.moveState=0},this),core.MyUIUtils.addLongTouch(this.addBtn,function(){e.moveState=-1,e.islong=!0},function(){e.moveState=0},this),this.addEventListener(egret.Event.ENTER_FRAME,this.onFrame,this),this.subtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.addBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this)},t.prototype.onFrame=function(){-1==this.moveState&&(this.value-=1,this.dispatchEventWith(egret.Event.CHANGE)),1==this.moveState&&(this.value+=1,this.dispatchEventWith(egret.Event.CHANGE))},t.prototype.onTab=function(e){if(this.islong)return void(this.islong=!1);switch(e.currentTarget){case this.subtn:this.value+=10,this.dispatchEventWith(egret.Event.CHANGE);break;case this.addBtn:this.value-=10,this.dispatchEventWith(egret.Event.CHANGE)}},t}(eui.VSlider);__reflect(MyScrollBar.prototype,"MyScrollBar");var core;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName=NomalLoadingUISkin,t}return __extends(t,e),t.prototype.onAdd=function(){e.prototype.onAdd.call(this),this.bar.mask=this.masks},t.prototype.setPross=function(e,t){var i=e/t;this.bar.x=this.lgroup.width*(i-1)},t}(e.BaseUI);e.NomalLoadingUI=t,__reflect(t.prototype,"core.NomalLoadingUI")}(core||(core={}));var NormalErrorTips=function(e){function t(){var t=e.call(this)||this;return t.touchEnabled=!1,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(BaseTips);__reflect(NormalErrorTips.prototype,"NormalErrorTips");var NormalOkTips=function(e){function t(){var t=e.call(this)||this;return t.touchEnabled=!1,t.skinName=NormalOkTipsSkin,t}return __extends(t,e),t}(BaseTips);__reflect(NormalOkTips.prototype,"NormalOkTips");var SScroll=function(e){function t(){var t=e.call(this)||this;return t.isScroll=!1,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),egret.MainContext.instance.stage.addEventListener(mouse.MouseEvent.MOUSE_WHEEL,this.onWhell,this),this.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onMove,this),this.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onMove,this),this.bounces=!1},t.prototype.onWhell=function(e){if(this.isScroll){var t=e.data;t>0?this.viewport.scrollV>=30?this.viewport.scrollV-=30:this.viewport.scrollV=0:this.viewport.scrollV<=this.viewport.contentHeight-this.viewport.height-30?this.viewport.scrollV+=30:this.viewport.scrollV=this.viewport.contentHeight-this.viewport.height,this.dispatchEventWith(egret.Event.CHANGE)}},t.prototype.setPerCent=function(e){var t=e/100;this.viewport.scrollV=(this.viewport.contentHeight-this.viewport.height)*t},t.prototype.getPerCent=function(){return Math.floor(this.viewport.scrollV/(this.viewport.contentHeight-this.viewport.height)*100)},t.prototype.onMove=function(e){this.hitTestPoint(e.stageX,e.stageY)?this.isScroll=!0:this.isScroll=!1},t}(eui.Scroller);__reflect(SScroll.prototype,"SScroll");var STogleButton=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAdd,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemove,t),t}return __extends(t,e),t.prototype.onAdd=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.onRemove=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.onClick=function(){},t}(eui.ToggleButton);__reflect(STogleButton.prototype,"STogleButton");var core;!function(e){var t=function(){function e(){}return e.NomalLoadingUI="core.NomalLoadingUI",e.LoginUI="LoginUI",e.MainScenceUI="MainScenceUI",e.NetUI="NetUI",e.NetCloseUI="NetCloseUI",e.SetUI="SetUI",e.AutoPlayUI="AutoPlayUI",e.StipsUI="StipsUI",e.HelpUI="HelpUI",e.HelpDesUI="HelpDesUI",e.DuanxianShowUi="DuanxianShowUi",e}();e.UIConst=t,__reflect(t.prototype,"core.UIConst")}(core||(core={}));var core;!function(e){var t=function(){function t(){}return t.openUI=function(i,n,o){void 0===n&&(n=e.LayerManager.Layer_UI),void 0===o&&(o=0),n==e.LayerManager.Layer_UI&&this.checkLastUI();var a;if(this.pool[i])a=this.pool[i],t.showUI(a,n,o);else{var s=egret.getDefinitionByName(i);a=new s,a.layer=n,this.pool[i]=a,t.showUI(a,n,o),e.LayerManager.getInstance().addUI(a,n)}},t.checkLastUI=function(){for(var t in this.pool){var i=this.pool[t];i.layer==e.LayerManager.Layer_UI&&i.isShow&&i.close()}},t.isUIOpen=function(e){return this.pool[e]?this.pool[e].isShow:!1},t.getUI=function(e){return this.pool[e]?t.pool[e]:null},t.closeUI=function(e){this.pool[e]&&this.pool[e].close()},t.showUI=function(t,i,n){void 0===n&&(n=0),e.LayerManager.getInstance().addUI(t,i),t.validateNow(),t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2;var o=GameConfig.WIDTH/2,a=GameConfig.HEIGHT/2;switch(t.x=o,t.y=a,n){case 0:t.scaleX=1,t.scaleY=1;break;case 1:egret.Tween.get(t).to({scaleX:1,scaleY:1},500);break;case 2:}t.x=0,t.y=0},t.pool={},t}();e.UIManager=t,__reflect(t.prototype,"core.UIManager")}(core||(core={}));var WebImage=function(e){function t(t){var i=e.call(this)||this;i._x=0,i._y=0,i._width=0,i._height=0,i._src="",i._scaleMode=egret.MainContext.instance.stage.scaleMode,i._imgWrapper=null,i._img=null;var n=document.getElementById("StageDelegateDiv"),o=n.parentElement,a=document.getElementById("img-wrapper");a||(a=document.createElement("div"),a.style.display="none",a.attributes.style.value+="position:absolute;",a.id="img-wrapper",n.appendChild(a)),i._imgWrapper=a,i._imgWrapper.style.display="none",i._imgWrapper.style.opacity="0";var s=document.createElement("img"),r=(new Date).getTime();s.src=t,s.id="img-"+r,s.name="img-"+r,s.style.position="absolute",s.style.top="0",s.style.left="0",s.style.opacity="0",s.style.display="none",s.border="0",s.style.width="100%",s.style.height="100%",i._imgWrapper.appendChild(s),i._img=document.getElementById("img-"+r);var h=i;i._img.onload=function(){h._imgWrapper.style.opacity="1",h._img.style.opacity="1"},i._stageW=egret.MainContext.instance.stage.stageWidth,i._stageH=egret.MainContext.instance.stage.stageHeight,i._windowW=window.innerWidth,i._windowH=window.innerHeight,i._designH=parseInt(o.attributes["data-content-height"].value),i._designW=parseInt(o.attributes["data-content-width"].value);var l=egret.sys.screenAdapter.calculateStageSize(egret.MainContext.instance.stage.scaleMode,i._windowW,i._windowH,i._designW,i._designH);return i._displayH=l.displayHeight,i._displayW=l.displayWidth,console.log("windowW:"+i._windowW),console.log("stageW:"+i._stageW),console.log("disPlayW:"+i._displayW),console.log("windowH:"+i._windowH),console.log("stageH:"+i._stageH),console.log("displayH:"+i._displayH),i}return __extends(t,e),t.prototype.show=function(){this._img.style.display="block",this._imgWrapper.style.display="block"},t.prototype.destroy=function(){this._img&&(this._imgWrapper.style.display="none",this._imgWrapper.removeChild(this._img))},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,(this._scaleMode==egret.StageScaleMode.FIXED_WIDTH||this._scaleMode==egret.StageScaleMode.FIXED_HEIGHT)&&(this._imgWrapper.style.width=this._width/this._stageW*this._windowW+"px"),(this._scaleMode==egret.StageScaleMode.SHOW_ALL||this._scaleMode==egret.StageScaleMode.NO_BORDER)&&(this._windowW==this._displayW?this._imgWrapper.style.width=this._width/this._stageW*this._windowW+"px":this._imgWrapper.style.width=this._width/this._stageW*this._displayW+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,(this._scaleMode==egret.StageScaleMode.FIXED_WIDTH||this._scaleMode==egret.StageScaleMode.FIXED_HEIGHT)&&(this._imgWrapper.style.height=this._height/this._stageH*this._windowH+"px"),(this._scaleMode==egret.StageScaleMode.SHOW_ALL||this._scaleMode==egret.StageScaleMode.NO_BORDER)&&(this._windowH==this._displayH?this._imgWrapper.style.height=this._height/this._stageH*this._windowH+"px":this._imgWrapper.style.height=this._height/this._stageH*this._displayH+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,(this._scaleMode==egret.StageScaleMode.FIXED_WIDTH||this._scaleMode==egret.StageScaleMode.FIXED_HEIGHT)&&(this._imgWrapper.style.left=this._x/this._stageW*this._windowW+"px"),(this._scaleMode==egret.StageScaleMode.SHOW_ALL||this._scaleMode==egret.StageScaleMode.NO_BORDER)&&(this._windowW==this._displayW?this._imgWrapper.style.left=this._x/this._stageW*this._windowW+"px":this._imgWrapper.style.left=this._x/this._stageW*this._displayW+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,(this._scaleMode==egret.StageScaleMode.FIXED_WIDTH||this._scaleMode==egret.StageScaleMode.FIXED_HEIGHT)&&(this._imgWrapper.style.top=this._y/this._stageH*this._windowH+"px"),(this._scaleMode==egret.StageScaleMode.SHOW_ALL||this._scaleMode==egret.StageScaleMode.NO_BORDER)&&(this._windowH==this._displayH?this._imgWrapper.style.top=this._y/this._stageH*this._windowH+"px":this._imgWrapper.style.top=this._y/this._stageH*this._displayH+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"src",{get:function(){return this._src},set:function(e){this._src=e},enumerable:!0,configurable:!0}),t}(egret.DisplayObjectContainer);__reflect(WebImage.prototype,"WebImage");var WebView=function(e){function t(t){var i=e.call(this)||this;i._x=0,i._y=0,i._width=0,i._height=0,i._src="",i._scaleMode=egret.MainContext.instance.stage.scaleMode,i.scale=1,i._iframeWrapper=null,i._iframe=null;var n=document.getElementById("StageDelegateDiv"),o=n.parentElement,a=document.getElementById("iframe-wrapper");a||(a=document.createElement("div"),a.style.display="none",a.attributes.style.value+="position:absolute;-webkit-overflow-scrolling: touch;",a.id="iframe-wrapper",n.appendChild(a)),i._iframeWrapper=a,i._iframeWrapper.style.display="none",i._iframeWrapper.style.opacity="0";var s=document.createElement("iframe"),r=(new Date).getTime();s.src=t,s.id="webview-iframe-"+r,s.name="webview-iframe-"+r,s.style.position="absolute",s.style.top="0",s.style.left="0",s.style.opacity="0",s.style.display="none",s.frameBorder="0",s.border="0",i._iframeWrapper.appendChild(s),i._iframe=document.getElementById("webview-iframe-"+r);var h=i;i._iframe.onload=function(){h._iframeWrapper.style.opacity="1",h._iframe.style.opacity="1"},i._stageW=egret.MainContext.instance.stage.stageWidth,i._stageH=egret.MainContext.instance.stage.stageHeight,i._windowW=window.innerWidth,i._windowH=window.innerHeight,i._designH=parseInt(o.attributes["data-content-height"].value),i._designW=parseInt(o.attributes["data-content-width"].value);var l=egret.sys.screenAdapter.calculateStageSize(egret.MainContext.instance.stage.scaleMode,i._windowW,i._windowH,i._designW,i._designH);return i._displayH=l.displayHeight,i._displayW=l.displayWidth,egret.log("windowW:"+i._windowW),egret.log("stageW:"+i._stageW),egret.log("disPlayW:"+i._displayW),egret.log("windowH:"+i._windowH),egret.log("stageH:"+i._stageH),egret.log("displayH:"+i._displayH),i}return __extends(t,e),t.prototype.show=function(){this._iframe.style.display="block",this._iframeWrapper.style.display="block"},t.prototype.destroy=function(){this._iframe&&(this._iframeWrapper.style.display="none",this._iframe.style.display="none")},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,(this._scaleMode==egret.StageScaleMode.FIXED_WIDTH||this._scaleMode==egret.StageScaleMode.FIXED_HEIGHT)&&(this._iframe.style.width=this.scale*this._width/this._stageW*this._windowW+"px",this._iframeWrapper.style.width=this.scale*this._width/this._stageW*this._windowW+"px"),this._scaleMode==egret.StageScaleMode.SHOW_ALL||this._scaleMode==egret.StageScaleMode.NO_BORDER?this._windowW==this._displayW?(this._iframe.style.width=this.scale*this._width/this._stageW*this._windowW+"px",this._iframeWrapper.style.width=this.scale*this._width/this._stageW*this._windowW+"px"):(this._iframe.style.width=this.scale*this._width/this._stageW*this._displayW+"px",this._iframeWrapper.style.width=this.scale*this._width/this._stageW*this._displayW+"px"):(this._iframe.style.width=this.scale*e/window.devicePixelRatio+"px",this._iframeWrapper.style.width=this.scale*e/window.devicePixelRatio+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,(this._scaleMode==egret.StageScaleMode.FIXED_WIDTH||this._scaleMode==egret.StageScaleMode.FIXED_HEIGHT)&&(this._iframe.style.height=this.scale*this._height/this._stageH*this._windowH+"px",this._iframeWrapper.style.height=this.scale*this._height/this._stageH*this._windowH+"px"),this._scaleMode==egret.StageScaleMode.SHOW_ALL||this._scaleMode==egret.StageScaleMode.NO_BORDER?this._windowH==this._displayH?(this._iframe.style.height=this.scale*this._height/this._stageH*this._windowH+"px",this._iframeWrapper.style.height=this.scale*this._height/this._stageH*this._windowH+"px"):(this._iframe.style.height=this.scale*this._height/this._stageH*this._displayH+"px",this._iframeWrapper.style.height=this.scale*this._height/this._stageH*this._displayH+"px"):(this._iframe.style.height=this.scale*e/window.devicePixelRatio+"px",this._iframeWrapper.style.height=this.scale*e/window.devicePixelRatio+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,(this._scaleMode==egret.StageScaleMode.FIXED_WIDTH||this._scaleMode==egret.StageScaleMode.FIXED_HEIGHT)&&(this._iframeWrapper.style.left=this.scale*this._x/this._stageW*this._windowW+"px"),this._scaleMode==egret.StageScaleMode.SHOW_ALL||this._scaleMode==egret.StageScaleMode.NO_BORDER?this._windowW==this._displayW?this._iframeWrapper.style.left=this.scale*this._x/this._stageW*this._windowW+"px":this._iframeWrapper.style.left=this.scale*this._x/this._stageW*this._displayW+"px":(this._iframe.style.left="0px",this._iframeWrapper.style.left=this.scale*e/window.devicePixelRatio+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,(this._scaleMode==egret.StageScaleMode.FIXED_WIDTH||this._scaleMode==egret.StageScaleMode.FIXED_HEIGHT)&&(this._iframeWrapper.style.top=this.scale*this._y/this._stageH*this._windowH+"px"),this._scaleMode==egret.StageScaleMode.SHOW_ALL||this._scaleMode==egret.StageScaleMode.NO_BORDER?this._windowH==this._displayH?this._iframeWrapper.style.top=this.scale*this._y/this._stageH*this._windowH+"px":this._iframeWrapper.style.top=this.scale*this._y/this._stageH*this._displayH+"px":(this._iframe.style.top="0px",this._iframeWrapper.style.top=this.scale*e/window.devicePixelRatio+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"src",{get:function(){return this._src},set:function(e){this._src=e},enumerable:!0,configurable:!0}),t}(egret.DisplayObjectContainer);__reflect(WebView.prototype,"WebView");var ErrorCode=function(){function e(){}return e.codeArr={9000:"短信发送时间间隔太短"},e}();__reflect(ErrorCode.prototype,"ErrorCode");var vo;!function(e){var t=function(){function e(){}return e.balance=549.88,e.autoPlayCount=0,e.allFreeCount=0,e.payData={M1:{3:50},M2:{3:40},M3:{3:30},M4:{3:10},M5:{3:10}},e.betScoreArr=[.01,.02,.05,.1,.16,.25,.4],e.betIndex=0,e.Actions=[{RoundId:egret.getTimer(),Bet:1,Denom:"parameter.Denom",type:"FreeSlot",count:10,remaining:10}],e.TotalActionCount=0,e.FreeMoney=0,e.ReelSymbols=[[["AA","JJ","M4"],["M3","QQ","C1"],["M1","M5","C1"],["QQ","WW","M4"],["C1","QQ","M5"]],[["AA","M4","M2"],["AA","M3","M5"],["AA","M5","WW"],["AA","M5","WW"],["M5","M1","TN"]],[["M4","M3","QQ"],["M1","M5","KK"],["AA","M2","JJ"],["M4","M4","M3"],["M2","M1","M5"]],[["M2","M5","M4"],["M1","M4","M5"],["JJ","AA","M5"],["QQ","M4","M3"],["M5","M2","M1"]],[["M4","M3","QQ"],["M1","M5","KK"],["AA","M2","JJ"],["M4","M4","M3"],["M2","M1","M5"]],[["M4","M5","JJ"],["AA","M4","JJ"],["JJ","M2","JJ"],["JJ","M4","M1"],["AA","NI","M1"]]],e.ReelSymbols1=[[["AA","M4","M2"],["AA","M3","M5"],["AA","M5","WW"],["AA","M5","WW"],["M5","M1","TN"]],[["M4","M3","QQ"],["M1","M5","KK"],["AA","M2","JJ"],["M4","M4","M3"],["M2","M1","M5"]],[["M2","M5","M4"],["M1","M4","M5"],["JJ","AA","M5"],["QQ","M4","M3"],["M5","M2","M1"]],[["M4","M3","QQ"],["M1","M5","KK"],["AA","M2","JJ"],["M4","M4","M3"],["M2","M1","M5"]],[["M4","M5","JJ"],["AA","M4","JJ"],["JJ","M2","JJ"],["JJ","M4","M1"],["AA","NI","M1"]]],e.WinResults=[[{Bet:100,Data:{bonus:3,PayType:"RL"},Multipliers:[1],Positions:[{X:1,Y:2},{X:2,Y:2},{X:4,Y:0}],Symbol:"C1",SymbolCount:3,Type:"Bonus",Win:0}],[{Bet:100,Data:{Line:3,PayType:"RL"},Multipliers:[25],Positions:[{X:2,Y:2},{X:3,Y:2},{X:4,Y:2}],Symbol:"TN",SymbolCount:3,Type:"Line",Win:2600},{Bet:100,Data:{Line:4,PayType:"RL"},Multipliers:[2],Positions:[{X:4,Y:0},{X:3,Y:1}],Symbol:"M5",SymbolCount:2,Type:"Line",Win:200}],[],[{Bet:100,Data:{Line:5,PayType:"LR"},Multipliers:[2],Positions:[{X:0,Y:2},{X:1,Y:1}],Symbol:"M4",SymbolCount:2,Type:"Line",Win:200}],[],[{Bet:100,Data:{Line:3,PayType:"LR"},Multipliers:[5],Positions:[{X:0,Y:2},{X:1,Y:2},{X:2,Y:2}],Symbol:"JJ",SymbolCount:3,Type:"Line",Win:500},{Bet:100,Data:{Line:3,PayType:"LR"},Multipliers:[3],Positions:[{X:3,Y:2},{X:4,Y:2}],Symbol:"M3",SymbolCount:2,Type:"Line",Win:300},{Bet:100,Data:{Line:4,PayType:"LR"},Multipliers:[2],Positions:[{X:0,Y:0},{X:1,Y:1}],Symbol:"M4",SymbolCount:2,Type:"Line",Win:200}]],e.WinResults1=[[{Bet:100,Data:{Line:3,PayType:"RL"},Multipliers:[25],Positions:[{X:2,Y:2},{X:3,Y:2},{X:4,Y:2}],Symbol:"TN",SymbolCount:3,Type:"Line",Win:2600},{Bet:100,Data:{Line:4,PayType:"RL"},Multipliers:[2],Positions:[{X:4,Y:0},{X:3,Y:1}],Symbol:"M5",SymbolCount:2,Type:"Line",Win:200}],[],[{Bet:100,Data:{Line:5,PayType:"LR"},Multipliers:[2],Positions:[{X:0,Y:2},{X:1,Y:1}],Symbol:"M4",SymbolCount:2,Type:"Line",Win:200}],[],[{Bet:100,Data:{Line:3,PayType:"LR"},Multipliers:[5],Positions:[{X:0,Y:2},{X:1,Y:2},{X:2,Y:2}],Symbol:"JJ",SymbolCount:3,Type:"Line",Win:500},{Bet:100,Data:{Line:3,PayType:"LR"},Multipliers:[3],Positions:[{X:3,Y:2},{X:4,Y:2}],Symbol:"M3",SymbolCount:2,Type:"Line",Win:300},{Bet:100,Data:{Line:4,PayType:"LR"},Multipliers:[2],Positions:[{X:0,Y:0},{X:1,Y:1}],Symbol:"M4",SymbolCount:2,Type:"Line",Win:200}]],e.lineArr={1:[1,1,1,1,1],2:[0,0,0,0,0],3:[2,2,2,2,2],4:[0,1,2,1,0],5:[2,1,0,1,2],6:[1,0,0,0,1],7:[1,2,2,2,1],8:[0,0,1,2,2],9:[2,2,1,0,0],10:[1,2,1,0,1],11:[1,0,1,2,1],12:[0,1,1,1,0],13:[2,1,1,1,2],14:[0,1,0,1,0],15:[2,1,2,1,2],16:[1,1,0,1,1],17:[1,1,2,1,1],18:[0,0,2,0,0],19:[2,2,0,2,2],20:[0,2,2,2,0],21:[2,0,0,0,2],22:[1,2,0,2,1],23:[1,0,2,0,1],24:[0,2,0,2,0],25:[2,0,2,0,2]},e.line=25,e.lineObj={1:[1,1,1,1,1],2:[0,0,0,0,0],3:[2,2,2,2,2],4:[0,1,2,1,0],5:[2,1,0,1,2],6:[1,0,0,0,1],7:[1,2,2,2,1],8:[0,0,1,2,2],9:[2,2,1,0,0],10:[1,2,1,0,1],11:[1,0,1,2,1],12:[0,1,1,1,0],13:[2,1,1,1,2],14:[0,1,0,1,0],15:[2,1,2,1,2],16:[1,1,0,1,1],17:[1,1,2,1,1],18:[0,0,2,0,0],19:[2,2,0,2,2],20:[0,2,2,2,0],21:[2,0,0,0,2],22:[1,2,0,2,1],23:[1,0,2,0,1],24:[0,2,0,2,0],25:[2,0,2,0,2]},e.reelArr=[["M4","WW","M3","M5","M0","M3","M2","M3","M4","M1","M1","M2","WW","M1"],["M4","M1","M3","M1","M1","M2","M6","M4","M1","M2","M3","M4","M4","M2"],["M4","WW","M2","M3","M1","M0","M3","M2","WW","WW","M3","M1","WW","M3"]],e
}();e.GameData=t,__reflect(t.prototype,"vo.GameData");var i=function(){function e(){}return e.prototype.readData=function(e){},e}();e.BaseInfo=i,__reflect(i.prototype,"vo.BaseInfo");var n=function(e){function t(){var t=e.call(this)||this;return t.resultArr=[],t.indexArr=[],t.allwin=0,t}return __extends(t,e),t.prototype.readData=function(e){},t.prototype.readPlayAction=function(e){},t}(i);e.SlotInfo=n,__reflect(n.prototype,"vo.SlotInfo")}(vo||(vo={}));var GameType;!function(e){var t=function(){function e(){}return e}();e.ItemType=t,__reflect(t.prototype,"GameType.ItemType");var i=function(){function e(){}return e.trueModle=0,e.falseModle=1,e}();e.GameModule=i,__reflect(i.prototype,"GameType.GameModule");var n=function(){function e(){}return e.PLAYING=1,e.STOP=0,e}();e.GameState=n,__reflect(n.prototype,"GameType.GameState");var o=function(){function e(){}return e.CN="cn",e.TW="tw",e.EN="en",e}();e.LangType=o,__reflect(o.prototype,"GameType.LangType");var a=function(){function e(){}return e.slot="slot",e.freeslot="freeslot",e.treasure="treasure",e.treasure2="treasure2",e}();e.GameType=a,__reflect(a.prototype,"GameType.GameType");var s=function(){function e(){}return e.NOMAL_REWARD=1,e.NO_REWARD=0,e.BIG_REWARD=2,e.FREE_REWARD=3,e.BIG_AND_FREE=4,e}();e.RewardType=s,__reflect(s.prototype,"GameType.RewardType")}(GameType||(GameType={}));var DuanxianShowUi=function(e){function t(){var t=e.call(this)||this;return t.skinName=DuanxianSkin,t}return __extends(t,e),t.prototype.onAdd=function(){e.prototype.onAdd.call(this),egret.Tween.removeTweens(this.bg),egret.Tween.removeTweens(this.allGroup),egret.Tween.get(this.allGroup).to({scaleX:1,scaleY:1},100),egret.Tween.get(this.bg).to({alpha:.5},100),this.registerEvent(this.closeBtn,egret.TouchEvent.TOUCH_TAP,function(){core.UIManager.getUI(core.UIConst.MainScenceUI);core.UIManager.closeUI(core.UIConst.DuanxianShowUi),GameManager.getInstance().startGame()},this)},t}(core.BaseUI);__reflect(DuanxianShowUi.prototype,"DuanxianShowUi");var LoginUI=function(e){function t(){var t=e.call(this)||this;return t.skinName=LoginSkin,t}return __extends(t,e),t.prototype.onAdd=function(){e.prototype.onAdd.call(this),this.registerEvent(this,egret.TouchEvent.TOUCH_TAP,this.onGo,this)},t.prototype.onGo=function(){core.UIManager.openUI(core.UIConst.MainScenceUI)},t}(core.BaseUI);__reflect(LoginUI.prototype,"LoginUI");var NetCloseUI=function(e){function t(){var t=e.call(this)||this;return t.skinName=netcloseSkin,t}return __extends(t,e),t.prototype.onAdd=function(){e.prototype.onAdd.call(this),this.registerEvent(this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.onTab,this)},t.prototype.onTab=function(){window.close()},t}(core.BaseUI);__reflect(NetCloseUI.prototype,"NetCloseUI");var NetUI=function(e){function t(){var t=e.call(this)||this;return t.skinName=NetSkin,t}return __extends(t,e),t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.childrenCreated=function(){},t.prototype.showNetting=function(){var e=this,t=core.LayerManager.getInstance().getLayer(core.LayerManager.Layer_Tip);t.addChild(this),this.netingIcon.rotation=0,egret.Tween.get(this.netingIcon,{loop:!0}).to({rotation:12e3},6e4).call(function(){e.netingIcon.rotation=0})},t.prototype.hideNetting=function(){egret.Tween.removeTweens(this.netingIcon),this.parent&&this.parent.removeChild(this)},t}(core.BaseUI);__reflect(NetUI.prototype,"NetUI");var SetUI=function(e){function t(){var t=e.call(this)||this;return t.skinName=SetSkin,t}return __extends(t,e),t.prototype.initDes=function(){this.desbtn0.text="跳过介绍视频",this.desbtn1.text="不再显示启动画面",this.desbtn2.text="游戏声音"},t.prototype.onAdd=function(){e.prototype.onAdd.call(this),this.initDes(),this.registerEvent(this.volueSlider,egret.Event.CHANGE,this.onVolueChange,this),this.registerEvent(this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.registerEvent(this.desbtn0.btn,egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.registerEvent(this.desbtn1.btn,egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.registerEvent(this.desbtn2.btn,egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.volueSlider.setVolues(100*SoundManager.getInstance().getEffectVolume()),this.desbtn2.btn.selected=SoundManager.getInstance().getEffectVolume()>0,this.alpha=0,this.show()},t.prototype.show=function(){egret.Tween.removeTweens(this),this.alpha=0,this.mainGroup.scaleX=1,this.mainGroup.scaleY=1,egret.Tween.get(this).to({alpha:1},200)},t.prototype.hide=function(){egret.Tween.removeTweens(this),egret.Tween.get(this.mainGroup).to({scaleX:0,scaleY:0},100).call(function(){core.UIManager.closeUI(core.UIConst.SetUI)})},t.prototype.onVolueChange=function(){var e=this.volueSlider.value/this.volueSlider.maximum;SoundManager.getInstance().setBgVolume(e),SoundManager.getInstance().setEffectVolume(e);var t=core.UIManager.getUI(core.UIConst.MainScenceUI);t.setBar.musicCheckBox.valume=e,this.desbtn2.btn.selected=e>0},t.prototype.onTab=function(e){core.UIManager.getUI(core.UIConst.MainScenceUI);switch(e.currentTarget){case this.closeBtn:this.hide();break;case this.desbtn0.btn:break;case this.desbtn1.btn:break;case this.desbtn2.btn:var t=core.UIManager.getUI(core.UIConst.MainScenceUI);if(this.desbtn2.btn.selected){t.setBar.musicCheckBox.valume=SoundManager.getInstance().lastVolume,SoundManager.getInstance().setBgVolume(SoundManager.getInstance().lastVolume),SoundManager.getInstance().setEffectVolume(SoundManager.getInstance().lastVolume);var i=SoundManager.getInstance().lastVolume*this.volueSlider.maximum;this.volueSlider.setVolues(i),SoundManager.getInstance().open()}else SoundManager.getInstance().saveVolue(),this.volueSlider.setVolues(0),SoundManager.getInstance().setBgVolume(0),SoundManager.getInstance().setEffectVolume(0),t.setBar.musicCheckBox.valume=this.volueSlider.value,SoundManager.getInstance().close()}},t}(core.BaseUI);__reflect(SetUI.prototype,"SetUI");var StipsUI=function(e){function t(){var t=e.call(this)||this;return t.skinName=StipSkin,t}return __extends(t,e),t.prototype.onAdd=function(){var t=this;e.prototype.onAdd.call(this),this.registerEvent(this.okBtn,egret.TouchEvent.TOUCH_TAP,function(){core.UIManager.closeUI(core.UIConst.StipsUI),t.okcallfun&&t.okcallfun()},this),this.registerEvent(this.confirBtn,egret.TouchEvent.TOUCH_TAP,function(){t.okcallfun&&t.okcallfun()},this),this.registerEvent(this.cancleBtn,egret.TouchEvent.TOUCH_TAP,function(){core.UIManager.closeUI(core.UIConst.StipsUI),t.canclecallfun&&t.canclecallfun()},this)},t.prototype.onRemove=function(){e.prototype.onRemove.call(this)},t.prototype.shows=function(e,t,i,n){void 0===t&&(t=""),void 0===i&&(i=""),void 0===n&&(n=null),this.titleLabel.text=t,this.desLabel.text=i,this.callfun=n,this.okBtn.visible=this.cancleBtn.visible=!1},t.prototype.showAutoBtn=function(e,t,i,n){void 0===t&&(t=""),void 0===i&&(i=null),void 0===n&&(n=null),this.autoGroup.visible=!0,this.allGroup.visible=!1,this.titleLabel.text=t,this.okcallfun=i,this.canclecallfun=n,this.okBtn.visible=this.cancleBtn.visible=!0,this.confirBtn.visible=!1,egret.Tween.removeTweens(this.bg),egret.Tween.removeTweens(this.autoGroup),egret.Tween.get(this.autoGroup).to({scaleX:1,scaleY:1},100),egret.Tween.get(this.bg).to({alpha:.6},100)},t.prototype.showNotmoney=function(e,t,i,n){void 0===t&&(t=""),void 0===i&&(i=null),void 0===n&&(n=null),this.autoGroup.visible=!0,this.allGroup.visible=!1,this.titleLabel.text=t,this.okcallfun=i,this.canclecallfun=n,this.okBtn.visible=this.cancleBtn.visible=!0,this.confirBtn.visible=!1,egret.Tween.removeTweens(this.bg),egret.Tween.removeTweens(this.autoGroup),egret.Tween.get(this.autoGroup).to({scaleX:1,scaleY:1},100),egret.Tween.get(this.bg).to({alpha:.6},100)},t.prototype.showConfirBtn=function(e,t){this.autoGroup.visible=!1,this.allGroup.visible=!0,this.desLabel.text=e,this.okcallfun=t,this.okBtn.visible=this.cancleBtn.visible=!1,this.confirBtn.visible=!0,this.img.height=70+this.desLabel.textHeight+150,egret.Tween.removeTweens(this.bg),egret.Tween.removeTweens(this.allGroup),egret.Tween.get(this.allGroup).to({scaleX:1,scaleY:1},100),egret.Tween.get(this.bg).to({alpha:.6},100)},t.prototype.showNetclose=function(e,t){this.autoGroup.visible=!1,this.allGroup.visible=!0,this.desLabel.text=e,this.okcallfun=t,this.okBtn.visible=this.cancleBtn.visible=!1,this.confirBtn.visible=!0,this.img.height=70+this.desLabel.textHeight+150,egret.Tween.removeTweens(this.bg),egret.Tween.removeTweens(this.allGroup),egret.Tween.get(this.allGroup).to({scaleX:1,scaleY:1},100),egret.Tween.get(this.bg).to({alpha:.92},100)},t.prototype.hide=function(){egret.Tween.removeTweens(this.bg),egret.Tween.removeTweens(this.allGroup),egret.Tween.removeTweens(this.autoGroup),egret.Tween.get(this.allGroup).to({scaleX:0,scaleY:0},100),egret.Tween.get(this.autoGroup).to({scaleX:0,scaleY:0},100),egret.Tween.get(this.bg).to({alpha:0},100).call(function(){core.UIManager.closeUI(core.UIConst.StipsUI)})},t}(core.BaseUI);__reflect(StipsUI.prototype,"StipsUI");var MusicBtn=function(e){function t(){var t=e.call(this)||this;return t._valume=1,t}return __extends(t,e),t.prototype.onAdd=function(){e.prototype.onAdd.call(this),this.valume=SoundManager.getInstance().getBgVolume(),this.updataImg()},Object.defineProperty(t.prototype,"valume",{get:function(){return this._valume},set:function(e){this._valume=e,this.updataImg()},enumerable:!0,configurable:!0}),t.prototype.onRollOver=function(){var t=this;e.prototype.onRollOver.call(this),egret.callLater(function(){t.updataImg()},this)},t.prototype.onRollOut=function(){var t=this;e.prototype.onRollOut.call(this),egret.callLater(function(){t.updataImg()},this)},t.prototype.updataImg=function(){if(this.selected){if(0==this.valume)return this.selected=!1,this.currentState="",void(this.volueImg.source="");var e=Math.ceil(this.valume/.334);this.volueImg.source="rollOverAndSelected"==this.currentState?this.volueImg.source="open_liang"+e+"_png":this.volueImg.source="open_an"+e+"_png"}else{if(this.valume>0){this.selected=!0,this.currentState="";var e=Math.ceil(this.valume/.334);return void(this.volueImg.source="rollOverAndSelected"==this.currentState?this.volueImg.source="open_liang"+e+"_png":this.volueImg.source="open_an"+e+"_png")}this.volueImg.source=""}},t}(MosueCheckBox);__reflect(MusicBtn.prototype,"MusicBtn");var AutoItem=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);for(var t=0;5>t;t++){var i=this["btn"+t];i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this)}this.autoBtn.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onOver,this),this.sGroup.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onOver,this),this.autoBtn.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onOut,this),this.sGroup.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onOut,this),this.sopAutoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onStop,this)},t.prototype.onOver=function(){var e=this;egret.Tween.removeTweens(this.sGroup),this.sMainGroup.visible=!0,egret.Tween.get(this.sGroup).to({y:3},500).call(function(){for(var t=0;5>t;t++){var i=e["anBg"+t];i.visible=!1}})},t.prototype.onOut=function(e){if(!this.sGroup.hitTestPoint(e.stageX,e.stageY)||!this.autoBtn.hitTestPoint(e.stageX,e.stageY)){egret.Tween.removeTweens(this.sGroup);for(var t=0;5>t;t++){var i=this["anBg"+t];i.visible=!0}egret.Tween.get(this.sGroup).to({y:275},300).call(function(){})}if(this.sGroup.hitTestPoint(e.stageX,e.stageY))for(var t=0;5>t;t++){var i=this["anBg"+t];i.visible=!1}},t.prototype.onTab=function(e){if(vo.GameData.balance<vo.GameData.betScoreArr[vo.GameData.betIndex]*vo.GameData.line){for(var t=0;5>t;t++){var i=this["anBg"+t];i.visible=!0}return egret.Tween.get(this.sGroup).to({y:275},300).call(function(){}),void GameManager.getInstance().noMoney()}switch(e.currentTarget){case this.btn0:vo.GameData.autoPlayCount=99,GameConfig.autoPlay=!0,GameConfig.alwaysGame=!1,GameConfig.lastCount=99,this.autoNum=99;break;case this.btn1:vo.GameData.autoPlayCount=50,GameConfig.autoPlay=!0,GameConfig.alwaysGame=!1,GameConfig.lastCount=50,this.autoNum=50;break;case this.btn2:vo.GameData.autoPlayCount=25,GameConfig.autoPlay=!0,GameConfig.alwaysGame=!1,GameConfig.lastCount=25,this.autoNum=25;break;case this.btn3:vo.GameData.autoPlayCount=2,GameConfig.autoPlay=!0,GameConfig.alwaysGame=!1,GameConfig.lastCount=2,this.autoNum=2;break;case this.btn4:console.log("直到游戏"),vo.GameData.autoPlayCount=9999,GameConfig.alwaysGame=!0,GameConfig.autoPlay=!0,GameConfig.lastCount=9999,this.autoNum=9999}SoundManager.getInstance().playEffect(SoundConst.AUTO_ON),this.autoBtn.visible=!1,this.autoBtn.visible||(this.autoText_an.visible=!1,this.autoText_mode.visible=!1),this.autoStopGroup.visible=!0,this.sMainGroup.visible=!1,GameManager.getInstance().startGame()},t.prototype.resetDo=function(){var e=this;return vo.GameData.balance<vo.GameData.betScoreArr[vo.GameData.betIndex]*vo.GameData.line?(egret.Tween.get(this.sGroup).to({y:450},275).call(function(){for(var t=0;5>t;t++){var i=e["anBg"+t];i.visible=!0}}),void GameManager.getInstance().noMoney()):(GameConfig.lastCount>0?vo.GameData.autoPlayCount=GameConfig.lastCount:(GameConfig.lastCount=this.autoNum,vo.GameData.autoPlayCount=GameConfig.lastCount),GameConfig.autoPlay=!0,this.autoBtn.visible=!1,this.autoText_an.visible=!1,this.autoText_mode.visible=!1,this.autoStopGroup.visible=!0,this.sMainGroup.visible=!1,void GameManager.getInstance().startGame())},t.prototype.onStop=function(){SoundManager.getInstance().playEffect(SoundConst.AUTO_OFF),GameConfig.lastCount=0,this.autoStopGroup.visible=!1,this.autoBtn.visible=!0,this.autoBtn.visible?GameManager.getInstance().gameState==GameType.GameState.STOP?(this.autoText_an.visible=!1,this.autoText_mode.visible=!0):(this.autoText_an.visible=!0,this.autoText_mode.visible=!1):(this.autoText_an.visible=!1,this.autoText_mode.visible=!1),vo.GameData.autoPlayCount=0,GameConfig.autoPlay=!1,GameConfig.alwaysGame=!1;var e=core.UIManager.getUI(core.UIConst.MainScenceUI);GameManager.getInstance().gameState==GameType.GameState.STOP&&(e.startBtn.visible=!0,e.stopBtn.visible=!1,e.updataText(!1),vo.GameData.autoPlayCount<=0&&(e.updataBtn(),e.infoBtn.enabled=!0,e.autoItem.autoBtn.enabled=!0,e.autoItem.autoText_mode.visible=!0,e.autoItem.autoText_an.visible=!1,e.speedOffBtn.enabled=!0,e.speedOnBtn.enabled=!0,GameConfig.speedPlay?e.speedOnBtn.enabled?e.speedOnTxt.visible=!0:e.speedOnTxt.visible=!1:e.speedOffBtn.enabled?e.speedOffTxt.visible=!0:e.speedOffTxt.visible=!1,e.topMask.visible=!1,e.setBar.enabled=!0,e.bottomMask.visible=!1))},t}(eui.Component);__reflect(AutoItem.prototype,"AutoItem");var CheckList=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(eui.Component);__reflect(CheckList.prototype,"CheckList");var GamePentCompoment=function(e){function t(){var t=e.call(this)||this;return t.numZeroX=[],t.numTwoX=[],t.skinName=GamePentSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.clear()},t.prototype.clear=function(){this.kuangGroup.visible=!1,this.lineGroup.visible=!1;for(var e=1;26>e;e++)this["g"+e].addEventListener(egret.TouchEvent.TOUCH_TAP,this.addLine,this),this["g"+e].name=e,this.numZeroX[e-1]=this["txt_"+e].x,this.numTwoX[e-1]=this["txt_"+e].x-2},t.prototype.tipScale=function(){console.log("ZIMU11");for(var e=1;26>e;e++)this["g"+e].scaleX=1.17,this["g"+e].scaleY=1.17},t.prototype.tipScaleSize=function(){console.log("ZIMU22");for(var e=1;26>e;e++)this["g"+e].scaleX=1.48,this["g"+e].scaleY=1.48},t.prototype.addLine=function(e){var t=core.UIManager.getUI(core.UIConst.MainScenceUI);GameManager.getInstance().gameState==GameType.GameState.STOP&&!GameConfig.autoPlay&&vo.GameData.autoPlayCount<=0&&t.updataTextBtn(parseInt(e.currentTarget.name))},t.prototype.showBg=function(e){this.anBgAll();for(var t=1;e>=t;t++)this.showLiangBg(t)},t.prototype.anBgAll=function(){for(var e=1;26>e;e++){var t=this["blueBg_"+e];t.source="anBg_png",this["txt_"+e].font="scence_f2_fnt",this["txt_"+e].x=this.numTwoX[e-1]}},t.prototype.showLiangBg=function(e){for(var t=1;e>=t;t++){var i=this["blueBg_"+t];i.source="blueBg_png",this["txt_"+t].font="scence_f0_fnt",this["txt_"+t].x=this.numZeroX[t-1]}},t.prototype.showTipLine=function(e){this.tipGroup.visible=!0,this["lineBg_"+e].visible=!0},t.prototype.clearTip=function(){for(var e=1;26>e;e++)this["lineBg_"+e].visible=!1},t.prototype.drallall=function(){var e=[0,10066329,16768426,8943513];this.gGroup.removeChildren(),this.lineGroup.visible=!0,this.gGroup.visible=!0;for(var t=0;25>t;t++)for(var i=0;3>i;i++){var n=new eui.Rect;n.fillColor=e[Math.floor(24*Math.random())],n.x=210*t+69,n.y=198*i,n.width=213,n.height=210,n.ellipseWidth=30,n.ellipseHeight=30,this.gGroup.addChild(n)}},t.prototype.showLine=function(e,t){void 0===t&&(t=null),this.lineGroup.visible=!0,this.gGroup.removeChildren();var i;if(null!=t)for(var n=1;26>n;n++)if(i=this["line_"+n],e==n){i.visible=!0;for(var o=0;o<t.length;o++){var a=new eui.Rect;a.fillColor=0;var s=this.kuangGroup.getChildAt(t[o].X),r=s.getChildAt(t[o].Y);a.x=r.x+s.x,a.y=r.y+20,a.width=r.width,a.height=r.height,this.gGroup.addChild(a),this.gGroup.visible=!1}i.mask=this.gGroup}},t.prototype.cleaAllLine=function(){for(var e=1;26>e;e++){var t=this["line_"+e];t.visible=!1}this.lineGroup.visible=!1},t.prototype.showLines=function(e){this.lineGroup.visible=!0,this.gGroup.removeChildren();var t=this["line_"+e];t.mask=null,t.visible=!0},t.prototype.showLineArr=function(e){var t=this;this.cleaAllLine();for(var i=1;e>=i;i++)this.showLines(i);egret.Tween.removeTweens(this.lineGroup),this.lineGroup.alpha=1,egret.Tween.get(this.lineGroup).wait(1e3).to({alpha:0},1e3).call(function(){t.lineGroup.visible=!1,t.lineGroup.alpha=1})},t.prototype.showKuang=function(e,t){this.kuangGroup.visible=!0;for(var i=0;i<this.kuangGroup.numChildren;i++)for(var n=this.kuangGroup.getChildAt(i),o=0;o<n.numChildren;o++){var a=n.getChildAt(o);a.visible=!1}for(var s=0;s<t.length;s++)for(var i=0;i<this.kuangGroup.numChildren;i++)for(var n=this.kuangGroup.getChildAt(i),o=0;o<n.numChildren;o++){var a=n.getChildAt(o);i==t[s].X&&o==t[s].Y&&(a.visible=!0,10>e?a.source="box0"+e+"_png":a.source="box"+e+"_png",console.log("aaaaaaaa"))}},t.prototype.showkuang2=function(e){this.kuangGroup.visible=!0;for(var t=0;t<this.kuangGroup.numChildren;t++)for(var i=this.kuangGroup.getChildAt(t),n=0;n<i.numChildren;n++){var o=i.getChildAt(n);o.visible=!1}for(var a=0;a<e.length;a++)for(var t=0;t<this.kuangGroup.numChildren;t++)for(var i=this.kuangGroup.getChildAt(t),n=0;n<i.numChildren;n++){var o=i.getChildAt(n);t==e[a].X&&n==e[a].Y&&(o.visible=!0,o.source="box07_png")}},t.prototype.getLineArrForKuang=function(e,t){for(var i=[],n=vo.GameData.lineObj[e+""],o=0;o<n.length;o++){for(var a=n[o],s=0,r=0;r<t.length&&t[r].X!=o;r++)s++;s==t.length&&i.push({X:o,Y:a})}return(18==e||19==e||22==e||23==e)&&i.push({X:1,Y:1},{X:2,Y:1},{X:3,Y:1}),(20==e||21==e)&&i.push({X:0,Y:1},{X:1,Y:1},{X:3,Y:1},{X:4,Y:1}),(24==e||25==e)&&i.push({X:0,Y:1},{X:1,Y:1},{X:2,Y:1},{X:3,Y:1},{X:4,Y:1}),i},t.prototype.clearAll=function(){this.cleaAllLine(),this.clearTip(),this.gGroup.removeChildren(),this.kuangGroup.visible=!1},t}(eui.Component);__reflect(GamePentCompoment.prototype,"GamePentCompoment");var GameScence=function(e){function t(){var t=e.call(this)||this;return t.reelArr=[],t.indexC1=0,t.skinName=GameScenceSkin,t}return __extends(t,e),t.prototype.init=function(){for(var e=0;5>e;e++){var t=this["reel"+e];this.reelArr.push(this["reel"+e]),t.index=e}},t.prototype.reset=function(){for(var e=0;5>e;e++){var t=this["reel"+e];t.curReelData=vo.GameData.initData.Value.Geninit.Main.ReelSymbols[e],t.initData()}},t.prototype.startReel=function(){for(var e=0;5>e;e++){var t=this["reel"+e];t.start()}},t.prototype.startResult=function(){this.indexC1=0,GameConfig.isTwo=!1,GameConfig.isTest=!1,GameConfig.twoC1Index=-1,GameConfig.isData=!0;for(var e=0;5>e;e++){var t=this["reel"+e];vo.GameData.resultData.Value.SpinResult.Main.ReelSymbols[e]&&(t.targetReelData=vo.GameData.resultData.Value.SpinResult.Main.ReelSymbols[e],t.resultArr());for(var i=0;i<t.targetReelData.length;i++)"C1"==t.targetReelData[i]&&(this.indexC1++,1==this.indexC1?GameConfig.oneC1Index=e:2==this.indexC1?(GameConfig.twoC1Index=e,GameConfig.isTwo=!0):this.indexC1>=3?GameConfig.threeC1Index=e:GameConfig.threeC1Index=-1)}},t.prototype.stopReel=function(){for(var e=0;e<this.reelArr.length;e++){var t=this.reelArr[e];t.stop()}},t.prototype.showAnimation=function(e){for(var t=0;t<this.reelArr.length;t++)if(t==e.X){var i=this.reelArr[t];i.showAnimation(e.Y)}},t.prototype.hideAnimation=function(e){for(var t=0;t<this.reelArr.length;t++){this.reelArr[t];if(t==e.X){var i=this.reelArr[t];i.hideAnimation(e.Y)}}},t.prototype.hideAllAnimation=function(){for(var e=0;e<this.reelArr.length;e++){var t=this.reelArr[e];t.clearAllAnimation()}},t.prototype.huanyuanC1=function(e){for(var t=0;t<e.length;t++)this.reelArr[e[t].X].huanYuan(e[t].Y)},t.prototype.displayBonus=function(e){for(var t=0;t<e.length;t++)this.reelArr[e[t].X].moveC1y(e[t].Y);this.bonusMc||(this.bonusMc=game.MCUtils.getMc("bonusMc")),this.addChild(this.bonusMc),this.bonusMc.gotoAndPlay("bonusMc",1),this.bonusMc.x=this.width/2,this.bonusMc.y=this.height/2+12,this.bonusMc.scaleX=1.31,this.bonusMc.scaleY=1.31},t.prototype.removeBonusMc=function(){this.bonusMc&&this.bonusMc.parent&&(this.bonusMc.parent.removeChild(this.bonusMc),this.bonusMc.stop())},t}(eui.Component);__reflect(GameScence.prototype,"GameScence");var HelpDesUI=function(e){function t(){var t=e.call(this)||this;return t.skinName=HelpDesSkin,window.addEventListener("message",function(e){"closedesui"==e.data&&(core.UIManager.closeUI(core.UIConst.HelpDesUI),t.webview&&t.webview.destroy())}),t}return __extends(t,e),t.prototype.onAdd=function(){e.prototype.onAdd.call(this),this.onResize(),this.webview||popstr("loadshow"),this.webview||(this.webview=new WebView("./help.html")),this.registerEvent(this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.registerEvent(this,egret.Event.ENTER_FRAME,this.onFrame,this),this.onResize(),this.webview.show()},t.prototype.onFrame=function(){this.webview&&(this.webview.width=window.innerWidth<GameConfig.MAX_WIDTH?window.innerWidth*window.devicePixelRatio:GameConfig.MAX_WIDTH*window.devicePixelRatio,this.webview.x=this.mainGroup.x*window.devicePixelRatio,this.webview.height=this.bg.height*this.bg.scaleY*window.devicePixelRatio,this.webview.y=this.bg.y*window.devicePixelRatio,window.innerWidth<768&&(this.webview.x=0,this.webview.width=768*window.devicePixelRatio))},t.prototype.onResize=function(){var e=window.innerWidth/GameConfig.DES_WIDTH||0,t=(window.innerHeight>GameConfig.J_HEIGHT?GameConfig.J_HEIGHT/GameConfig.DES_HEIGHT:window.innerHeight/GameConfig.DES_HEIGHT)||0,i=(window.innerHeight-GameConfig.J_HEIGHT,e>t?t:e);if(this.bg.scaleX=i,window.innerHeight>GameConfig.J_HEIGHT){var n=(GameConfig.J_HEIGHT-50)/GameConfig.J_HEIGHT;this.bg.scaleY=n}else{var o=(window.innerHeight-50)/GameConfig.J_HEIGHT;this.bg.scaleY=o}GameConfig.WIDTH/GameConfig.HEIGHT>GameConfig.MAX_WIDTH/GameConfig.DES_HEIGHT?GameConfig.MAX_WIDTH*i:GameConfig.WIDTH;this.mainGroup.width=window.innerWidth<GameConfig.MAX_WIDTH?window.innerWidth:GameConfig.MAX_WIDTH,this.mainGroup.height=this.bg.scaleY*this.bg.height,this.contentBg.scaleX=this.contentBg.scaleY=this.mainGroup.width/GameConfig.MAX_WIDTH,this.webview&&(this.webview.width=window.innerWidth<GameConfig.MAX_WIDTH?window.innerWidth*window.devicePixelRatio:GameConfig.MAX_WIDTH*window.devicePixelRatio,this.webview.x=this.mainGroup.x*window.devicePixelRatio,this.webview.height=this.bg.height*this.bg.scaleY*window.devicePixelRatio,this.webview.y=this.bg.y*window.devicePixelRatio),window.innerHeight<=500/window.devicePixelRatio&&(this.bg.scaleY=window.innerHeight/this.bg.height+.2),egret.updateAllScreens()},t.prototype.onTab=function(){core.UIManager.closeUI(core.UIConst.HelpDesUI)},t}(core.BaseUI);__reflect(HelpDesUI.prototype,"HelpDesUI");var HelpUI=function(e){function t(){var t=e.call(this)||this;return t.skinName=HelpSkin,t}return __extends(t,e),t.prototype.onAdd=function(){var t=this;e.prototype.onAdd.call(this),this.onResize(),this.registerEvent(this.closeBtn,egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.registerEvent(this.myScrollBar,egret.Event.CHANGE,this.onScrollBarChange,this),this.registerEvent(this.scroll,egret.Event.CHANGE,this.onScrollChange,this),this.visible=!1,NetUI.getInstance().showNetting(),egret.setTimeout(function(){NetUI.getInstance().hideNetting(),t.visible=!0},this,400)},t.prototype.onResize=function(){var e=window.innerWidth/GameConfig.DES_WIDTH||0,t=(window.innerHeight>GameConfig.J_HEIGHT?GameConfig.J_HEIGHT/GameConfig.DES_HEIGHT:window.innerHeight/GameConfig.DES_HEIGHT)||0,i=(window.innerHeight-GameConfig.J_HEIGHT,e>t?t:e);if(this.bg.scaleX=window.innerWidth/GameConfig.DES_WIDTH,this.bg.scaleX>1&&(this.bg.scaleX=1),window.innerHeight>GameConfig.J_HEIGHT){var n=(GameConfig.J_HEIGHT-55)/GameConfig.J_HEIGHT;this.bg.scaleY=n}else{var o=(window.innerHeight-55)/GameConfig.J_HEIGHT;this.bg.scaleY=o}GameConfig.WIDTH/GameConfig.HEIGHT>GameConfig.MAX_WIDTH/GameConfig.DES_HEIGHT?GameConfig.MAX_WIDTH*i:GameConfig.WIDTH;this.mainGroup.width=window.innerWidth<GameConfig.MAX_WIDTH?window.innerWidth:GameConfig.MAX_WIDTH,window.innerWidth<768?(this.mainGroup.width=768,this.mainGroup.horizontalCenter=void 0,this.mainGroup.left=0):(this.mainGroup.horizontalCenter=0,this.mainGroup.left=void 0),this.mainGroup.height=this.bg.scaleY*this.bg.height,this.contentBg.scaleX=this.contentBg.scaleY=this.mainGroup.width/GameConfig.MAX_WIDTH-.022,this.onScrollBarChange(),egret.updateAllScreens(),window.innerHeight<=500/window.devicePixelRatio&&(this.bg.scaleY=window.innerHeight/this.bg.height+.2)},t.prototype.onTab=function(){var e=core.UIManager.getUI(core.UIConst.MainScenceUI);core.UIManager.closeUI(core.UIConst.HelpUI),e.mainGroup.visible=!0},t.prototype.onScrollBarChange=function(){var e=this.myScrollBar.value;this.scroll.setPerCent(100-e),this.scroll.viewport.scrollV=(this.contentBg.scaleY*this.contentBg.height-this.scroll.viewport.height)/100*(100-e)},t.prototype.onScrollChange=function(){var e=100-this.scroll.getPerCent();this.myScrollBar.value=e>0?e:0},t}(core.BaseUI);__reflect(HelpUI.prototype,"HelpUI");var MainScenceUI=function(e){function t(){var t=e.call(this)||this;return t.labelArr=["新游戏","经典老虎机","电动吃角子老虎","桌面游戏","累积游戏"],t.lineState=0,t.betState=0,t.longTouch=!1,t.index=-1,t.CountArr=[5,7,15,10,8],t.indexNum=0,t.fanbei=2,t.roteNum=8,t.curtime=0,t.isPlay=!0,t.winIndex=0,t._rewardNum=0,t._freeNum=0,t.skinName=MainScenceUISkin,t}return __extends(t,e),t.prototype.onAdd=function(){var t=this;e.prototype.onAdd.call(this),SoundManager.getInstance().setEffectOn(!0),this.gameScence.init(),this.gameScence.reset(),this.updataUI(),this.registerEvent(this.stage,egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.registerEvent(this.topListGroup,egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.registerEvent(this.setBar,egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.registerEvent(this.topGroup,egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.registerEvent(this.infoBtn,egret.TouchEvent.TOUCH_TAP,this.onControllTab,this),this.registerEvent(this.lineSubBtn,egret.TouchEvent.TOUCH_TAP,this.onControllTab,this),this.registerEvent(this.lineAddBtn,egret.TouchEvent.TOUCH_TAP,this.onControllTab,this),this.registerEvent(this.betSubBtn,egret.TouchEvent.TOUCH_TAP,this.onControllTab,this),this.registerEvent(this.betAddBtn,egret.TouchEvent.TOUCH_TAP,this.onControllTab,this),this.registerEvent(this.speedOffBtn,egret.TouchEvent.TOUCH_TAP,this.onControllTab,this),this.registerEvent(this.speedOnBtn,egret.TouchEvent.TOUCH_TAP,this.onControllTab,this),this.registerEvent(this.startBtn,egret.TouchEvent.TOUCH_TAP,this.onControllTab,this),this.registerEvent(this.stopBtn,egret.TouchEvent.TOUCH_TAP,this.onControllTab,this),this.registerEvent(this.bonusBtn,egret.TouchEvent.TOUCH_TAP,this.onControllTab,this),this.registerEvent(this.pickFreeBtn,egret.TouchEvent.TOUCH_TAP,this.closeFreeUi,this),this.registerEvent(this.overFreeBtn,egret.TouchEvent.TOUCH_TAP,this.endFreeUi,this),this.registerEvent(this.gameScence.dianji,egret.TouchEvent.TOUCH_TAP,this.onControllTab,this),this.bonusBtn.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.test1,this),this.bonusBtn.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.test3,this),this.balanceLabel.text="￥"+GameManager.numberToCommonStr(vo.GameData.balance),core.MyUIUtils.addLongTouch(this.lineSubBtn,function(){t.lineState=-1,t.hideWin(),t.longTouch=!0},function(){t.lineState=0},this),core.MyUIUtils.addLongTouch(this.lineAddBtn,function(){t.lineState=1,t.hideWin(),t.longTouch=!0},function(){t.lineState=0},this),core.MyUIUtils.addLongTouch(this.betSubBtn,function(){t.betState=-1,t.hideWin(),t.longTouch=!0},function(){t.betState=0},this),core.MyUIUtils.addLongTouch(this.betAddBtn,function(){t.betState=1,t.hideWin(),t.longTouch=!0},function(){t.betState=0},this),this.updataBtn(),this.updataText(!1),this.setReward(0),core.TimerManager.instance.addTick(1e3,-1,this.onFrame,this),core.TimerManager.instance.addTick(200,-1,this.onFrame1,this);for(var i=0;5>i;i++){var n=this["t"+i];n.label0.text=this.labelArr[i],n.label1.text=this.labelArr[i],this.registerEvent(n,egret.TouchEvent.TOUCH_TAP,this.onSetTab,this)}this.registerEvent(this.tGameBtn,egret.TouchEvent.TOUCH_TAP,this.onSetTab,this),this.tGameBtn.label0.text="游戏",this.tGameBtn.label1.text="游戏",this.onResize();var o=egret.localStorage.getItem("today");if(o){var a=(new Date).getTime();if(!Utils.isSameDay(parseInt(o),a)){core.UIManager.openUI(core.UIConst.StipsUI,core.LayerManager.Layer_Top);var s=core.UIManager.getUI(core.UIConst.StipsUI);s.showConfirBtn("您的存款已被通过.我们希望您在我们的赌城玩得愉快.祝您好运！",function(){s.hide(),egret.setTimeout(function(){core.UIManager.openUI(core.UIConst.StipsUI,core.LayerManager.Layer_Top),s.showConfirBtn("您的要求的 CNY"+GameManager.numberToCommonStr(vo.GameData.balance)+" 提款已被通过.",function(){s.hide()})},t,100)})}}else{core.UIManager.openUI(core.UIConst.StipsUI,core.LayerManager.Layer_Top);var r=core.UIManager.getUI(core.UIConst.StipsUI);r.showConfirBtn("您的存款已被通过.我们希望您在我们的赌城玩得愉快.祝您好运！",function(){r.hide(),egret.setTimeout(function(){core.UIManager.openUI(core.UIConst.StipsUI,core.LayerManager.Layer_Top),r.showConfirBtn("您的要求的 CNY"+GameManager.numberToCommonStr(vo.GameData.balance)+" 提款已被通过.",function(){r.hide()})},t,100)})}egret.localStorage.setItem("today",(new Date).getTime()+"")},t.prototype.updataText=function(e){void 0===e&&(e=!0),this.lineLabel.text=vo.GameData.line+"",this.betLabel.text="x"+vo.GameData.betScoreArr[vo.GameData.betIndex].toFixed(2),this.allBetLabel.text="x"+(vo.GameData.line*vo.GameData.betScoreArr[vo.GameData.betIndex]).toFixed(2),e&&(this.gameScence.pent.showBg(vo.GameData.line),this.gameScence.pent.showLineArr(vo.GameData.line))},t.prototype.updataTextBtn=function(e){this.hideWin(),vo.GameData.betIndex>0&&(vo.GameData.betIndex-=1),this.betSubBtn.enabled=vo.GameData.betIndex>0,this.betAddBtn.enabled=vo.GameData.betIndex<vo.GameData.betScoreArr.length-1,vo.GameData.line=e,this.lineLabel.text=e+"",this.betLabel.text="x"+vo.GameData.betScoreArr[vo.GameData.betIndex].toFixed(2),this.allBetLabel.text="x"+(e*vo.GameData.betScoreArr[vo.GameData.betIndex]).toFixed(2),this.lineSubBtn.enabled=e>1,this.lineAddBtn.enabled=25>e,this.gameScence.pent.showLineArr(e),this.gameScence.pent.showBg(e)},t.prototype.updataBtn=function(){this.lineSubBtn.enabled=vo.GameData.line>1,this.lineAddBtn.enabled=vo.GameData.line<25,this.betSubBtn.enabled=vo.GameData.betIndex>0,this.betAddBtn.enabled=vo.GameData.betIndex<vo.GameData.betScoreArr.length-1},t.prototype.setdataArr=function(){var e=RES.getRes("config_json")[this.index+""];this.topList.setArr(e)},t.prototype.setSelected=function(e){void 0===e&&(e=-1);for(var t=0;5>t;t++){var i=this["t"+t];
e==t?i.setSelected(!0):i.setSelected(!1)}},t.prototype.onSetTab=function(e){switch(e.currentTarget){case this.t0:this.topList.isShow?0!=this.index&&(this.index=0,this.setdataArr(),this.setSelected(0)):(this.index=0,this.setdataArr(),this.topList.show(),this.setSelected(0));break;case this.t1:this.topList.isShow?1!=this.index&&(this.index=1,this.setdataArr(),this.setSelected(1)):(this.index=1,this.setdataArr(),this.topList.show(),this.setSelected(1));break;case this.t2:this.topList.isShow?2!=this.index&&(this.index=2,this.setdataArr(),this.setSelected(2)):(this.index=2,this.setdataArr(),this.topList.show(),this.setSelected(2));break;case this.t3:this.topList.isShow?3!=this.index&&(this.index=3,this.setdataArr(),this.setSelected(3)):(this.index=3,this.setdataArr(),this.topList.show(),this.setSelected(3));break;case this.t4:this.topList.isShow?4!=this.index&&(this.index=4,this.setdataArr(),this.setSelected(4)):(this.index=4,this.setdataArr(),this.topList.show(),this.setSelected(4));break;case this.tGameBtn:this.topList.isShow?this.topList.hide():(this.index=0,this.setdataArr(),this.topList.show(),this.setSelected(0))}},t.prototype.onControllTab=function(e){switch(e.currentTarget){case this.infoBtn:this.mainGroup.visible=!1,core.UIManager.openUI(core.UIConst.HelpUI,core.LayerManager.Layer_Top);break;case this.lineSubBtn:if(this.longTouch)return;this.hideWin(),vo.GameData.line>1&&(vo.GameData.line-=1,SoundManager.getInstance().playEffect(SoundConst.SUB)),this.lineSubBtn.enabled=vo.GameData.line>1,this.lineAddBtn.enabled=vo.GameData.line<25,console.log("vo.GameData.line === "+vo.GameData.line),this.updataText(),this.longTouch=!1;break;case this.lineAddBtn:if(this.longTouch)return;this.hideWin(),vo.GameData.line<25&&(vo.GameData.line+=1,SoundManager.getInstance().playEffect(SoundConst.ADD)),this.lineSubBtn.enabled=vo.GameData.line>1,this.lineAddBtn.enabled=vo.GameData.line<25,this.updataText(),this.longTouch=!1;break;case this.betSubBtn:if(this.longTouch)return;this.hideWin(),vo.GameData.betIndex>0&&(vo.GameData.betIndex-=1,SoundManager.getInstance().playEffect(SoundConst.SUB)),this.betSubBtn.enabled=vo.GameData.betIndex>0,this.betAddBtn.enabled=vo.GameData.betIndex<vo.GameData.betScoreArr.length-1,this.updataText(!1),this.longTouch=!1;break;case this.betAddBtn:if(this.longTouch)return;this.hideWin(),vo.GameData.betIndex<vo.GameData.betScoreArr.length-1&&(vo.GameData.betIndex+=1,SoundManager.getInstance().playEffect(SoundConst.ADD)),this.betSubBtn.enabled=vo.GameData.betIndex>0,this.betAddBtn.enabled=vo.GameData.betIndex<vo.GameData.betScoreArr.length-1,this.updataText(!1),this.longTouch=!1;break;case this.startBtn:SoundManager.getInstance().playEffect(SoundConst.STARTBTN),GameManager.getInstance().startGame();break;case this.stopBtn:SoundManager.getInstance().playEffect(SoundConst.STOPBTN),GameManager.getInstance().stopGame();break;case this.speedOnBtn:this.speedOnBtn.visible=!1,this.speedOnTxt.visible=!1,this.speedOffBtn.visible=!0,this.speedOffTxt.visible=!0,GameConfig.speedPlay=!1,SoundManager.getInstance().playEffect(SoundConst.SPEED_ON);break;case this.speedOffBtn:this.speedOnBtn.visible=!0,this.speedOnTxt.visible=!0,this.speedOffBtn.visible=!1,this.speedOffTxt.visible=!1,GameConfig.speedPlay=!0,SoundManager.getInstance().playEffect(SoundConst.SPEED_OFF);break;case this.gameScence.dianji:GameManager.getInstance().gameState!=GameType.GameState.STOP&&this.stopBtn.visible&&(SoundManager.getInstance().playEffect(SoundConst.STOPBTN),console.log("点击了屏幕"),GameManager.getInstance().stopGame());break;case this.bonusBtn:console.log("免费游戏界面"),this.removeEventListener(egret.Event.ENTER_FRAME,this.taouchBonus,this),this.startBtn.visible=!0,this.bonusBtn.visible=!1,this.bonusBtnShan.visible=!1,this.gameScence.huanyuanC1(this.bonusPos),this.gameScence.removeBonusMc(),this.showFreeUi()}},t.prototype.initFree=function(){this.logo1.visible=!1,this.logo2.visible=!0,this.free_group.visible=!0,vo.GameData.initData.Actions.freeslot},t.prototype.showFreeUi=function(){console.log("打开了免费界面"),this.hideWin(),GameConfig.emptyPlay=!1,this.bg.visible=!1,this.bg1.visible=!0,this.mainGroup.visible=!1,this.freeGroup.visible=!0,this.fanbei=2,this.roteNum=8,this.CountArr=this.CountArr.sort(function(){return Math.random()-.5}).slice(0,5);for(var e=0;5>e;e++)this["beiKe_"+e].pixelHitTest=!0,this["beiKe_"+e].addEventListener(egret.TouchEvent.TOUCH_TAP,this.changeBeiKe,this)},t.prototype.changeBeiKe=function(e){var t,i,n=this;switch(this.indexNum++,e.currentTarget){case this.beiKe_0:t=0,i=this.CountArr[t];break;case this.beiKe_1:t=1,i=this.CountArr[t];break;case this.beiKe_2:t=2,i=this.CountArr[t];break;case this.beiKe_3:t=3,i=this.CountArr[t];break;case this.beiKe_4:t=4,i=this.CountArr[t]}if(1==this.indexNum&&(8==i||5==i?this.fanbei+=i:this.roteNum+=i,vo.GameData.TotalActionCount=this.roteNum),this.indexNum>=2&&(8==i||5==i?this.fanbei+=i:this.roteNum+=i,vo.GameData.TotalActionCount=this.roteNum),this["beiKe_"+t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.changeBeiKe,this),this.indexNum>=2)for(var o=0;5>o;o++)this["beiKe_"+o].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.changeBeiKe,this);egret.Tween.get(this["beiKe_"+t]).call(function(){n["beiKe_"+t].source="with_pearl_01_png"}).wait(300).call(function(){n["beiKe_"+t].source="with_pearl_02_png"}).wait(500).call(function(){n["beiKe_"+t].source="with_pearl_03_png",n.freeNum.text="",n.beiNum.text="",n.rotateNum.text=""+vo.GameData.TotalActionCount,n.fanbeiNum.text="X"+n.fanbei,n.freeNumGroup.visible=!0,2>=t?n["beiKe_x"+t].y=327:n["beiKe_x"+t].y=525,n["beiKe_x"+t].source="pearl_text"+i+"_png",n["beiKe_x"+t].visible=!0,egret.setTimeout(function(){if(n.indexNum>=2){for(var e=0;5>e;e++)n["beiKe_x"+e].visible||(2>=e?n["beiKe_x"+e].y=433:n["beiKe_x"+e].y=630,n["beiKe_x"+t].source="pearl_text"+i+"_png",n["beiKe_x"+e].visible=!0);n.fanbeiNum.text="X"+n.fanbei,n.rotateNum.text=""+vo.GameData.TotalActionCount,n.freeNum.text=""+vo.GameData.TotalActionCount,n.beiNum.text="X"+n.fanbei,console.log("vo.GameData.TotalActionCount === "+vo.GameData.TotalActionCount),n.tipsGroup.visible=!0,vo.GameData.TotalActionCount-=1}},n,200)})},t.prototype.closeFreeUi=function(){this.indexNum=0,vo.GameData.FreeMoney=0,GameConfig.emptyPlay=!0,GameConfig.freeGame=!1,this.bg.visible=!0,this.bg1.visible=!1,this.mainGroup.visible=!0,this.freeGroup.visible=!1,this.tipsGroup.visible=!1,this.logo1.visible=!1,this.logo2.visible=!0,this.free_group.visible=!0,this.gameScence.freeBg.visible=!0,this.free_fanbei.text=this.fanbeiNum.text,this.free_Num.text=""+vo.GameData.TotalActionCount;for(var e=0;5>e;e++)this["beiKe_"+e].source="with_pearl_01_png",this["beiKe_x"+e].visible=!1;Commond.sendBonus(1,vo.GameData.TotalActionCount)},t.prototype.endFree=function(){this.logo_group.visible=!1,this.tipsGroup.visible=!0,this.pickFree.visible=!1,this.overFree.visible=!0,this.stopMusic()},t.prototype.endFreeUi=function(){this.logo_group.visible=!0,this.logo1.visible=!0,this.logo2.visible=!1,this.free_group.visible=!1,this.gameScence.freeBg.visible=!1,this.tipsGroup.visible=!1,this.pickFree.visible=!0,this.overFree.visible=!1,this.autoItem.sopAutoBtn.enabled=!0;var e=vo.GameData.resultData,t=(e.Value.SpinResult.TotalBet,e.Value.SpinResult.TotalWin,e.Value.SpinResult.Denom/1e4),i=e.Value.Dollar,n=i/t;console.log(t+" == 最后的分数 == "+i),n>=30&&this.setReward(i,!0,4,!0),n>=8&&30>n&&this.setReward(i,!0,3,!0),n>=1&&8>n&&this.setReward(i,!0,2,!0),1>n&&this.setReward(i,!0,1,!0)},t.prototype.onResize=function(){var e=this,t=window.innerWidth/GameConfig.DES_WIDTH||0,i=window.innerHeight>GameConfig.J_HEIGHT?GameConfig.J_HEIGHT/GameConfig.DES_HEIGHT:window.innerHeight/GameConfig.DES_HEIGHT||0,n=t>i?i:t;this.gameScence.pent.tipScale(),window.innerWidth<769?(console.log("AAAAAAA"),this.mainGroup.horizontalCenter=void 0,this.mainGroup.left=85,this.freeGroup.left=85,this.tipsGroup.left=85,this.topGroup.horizontalCenter=this.bottomGroup.horizontalCenter=void 0,this.topGroup.left=this.bottomGroup.left=0,this.textGroup.horizontalCenter=void 0,this.textGroup.left=150,this.setBar.left=480,this.setBar.right=void 0):(console.log("BBBBBB"),this.mainGroup.horizontalCenter=0,this.mainGroup.left=void 0,this.freeGroup.left=void 0,this.tipsGroup.left=void 0,this.topGroup.horizontalCenter=this.bottomGroup.horizontalCenter=0,this.topGroup.left=this.bottomGroup.left=void 0,this.textGroup.horizontalCenter=0,this.textGroup.left=void 0,this.setBar.left=void 0,this.setBar.right=0),window.innerWidth<800/window.devicePixelRatio||.48>=n?(this.mainGroup.scaleX=.62,this.mainGroup.scaleY=.62,this.freeGroup.scaleX=this.freeGroup.scaleY=.62,this.tipsGroup.scaleX=this.tipsGroup.scaleY=.62,this.logo_group.y=32,this.tool_group.y=760,this.gameScence.y=140,window.innerWidth>768/window.devicePixelRatio?(console.log("DDDDDD"),this.gameScence.pent.tipScaleSize(),this.mainGroup.horizontalCenter=0,this.mainGroup.left=void 0,this.freeGroup.horizontalCenter=0,this.tipsGroup.horizontalCenter=0,this.freeGroup.left=void 0,this.tipsGroup.left=void 0,this.topGroup.horizontalCenter=this.bottomGroup.horizontalCenter=0,this.topGroup.left=this.bottomGroup.left=void 0,this.textGroup.horizontalCenter=0,this.textGroup.left=void 0,this.setBar.left=void 0,this.setBar.right=0):(console.log("EEEEEE"),this.mainGroup.horizontalCenter=void 0,this.mainGroup.left=85,this.freeGroup.left=85,this.tipsGroup.left=85,this.topGroup.horizontalCenter=this.bottomGroup.horizontalCenter=void 0,this.topGroup.left=this.bottomGroup.left=0,this.textGroup.horizontalCenter=void 0,this.textGroup.left=150,this.setBar.left=480,this.setBar.right=void 0)):(console.log("FFFFFF"),this.mainGroup.scaleX=1.08*n,this.mainGroup.scaleY=1.08*n,this.freeGroup.scaleX=1.08*n,this.freeGroup.scaleY=1.08*n,this.tipsGroup.scaleX=1.08*n,this.tipsGroup.scaleY=1.08*n,console.log("sss->",this.mainGroup.scaleX),this.mainGroup.horizontalCenter=0,this.mainGroup.left=void 0,this.freeGroup.horizontalCenter=0,this.tipsGroup.horizontalCenter=0,this.freeGroup.left=void 0,this.tipsGroup.left=void 0,this.topGroup.horizontalCenter=this.bottomGroup.horizontalCenter=0,this.topGroup.left=this.bottomGroup.left=void 0,this.textGroup.horizontalCenter=0,this.textGroup.left=void 0,this.setBar.left=void 0,this.setBar.right=0,1366==window.screen.width&&768==window.screen.height&&window.innerWidth>=945&&window.innerWidth<=955&&window.innerHeight>=642&&window.innerHeight<=652&&(console.log("RRRRR"),this.mainGroup.scaleX=this.mainGroup.scaleY=.9*n,this.freeGroup.scaleX=this.freeGroup.scaleY=.9*n,this.tipsGroup.scaleX=this.tipsGroup.scaleY=.9*n),window.screen.width==1920/window.devicePixelRatio&&window.screen.height==1080/window.devicePixelRatio&&(window.innerWidth>=1180&&window.innerWidth<=1190&&window.innerHeight>=794&&window.innerHeight<=804&&(console.log("AAAAAA1111"),this.mainGroup.scaleX=this.mainGroup.scaleY=1.088*n,this.tipsGroup.scaleX=this.tipsGroup.scaleY=1.088*n,this.logo_group.y=53,this.tool_group.y=778,this.gameScence.y=160),window.innerWidth>=947&&window.innerWidth<=957&&window.innerHeight>=645&&window.innerHeight<=655&&(console.log("AAAAAA2222"),this.mainGroup.scaleX=this.mainGroup.scaleY=.9*n,this.freeGroup.scaleX=this.freeGroup.scaleY=.9*n,this.tipsGroup.scaleX=this.tipsGroup.scaleY=.9*n)));GameConfig.WIDTH/GameConfig.HEIGHT>GameConfig.MAX_WIDTH/GameConfig.DES_HEIGHT?GameConfig.MAX_WIDTH*n:GameConfig.WIDTH;if(this.topGroup.width=window.innerWidth<GameConfig.MAX_WIDTH?window.innerWidth:GameConfig.MAX_WIDTH,this.bottomGroup.width=window.innerWidth<GameConfig.MAX_WIDTH?window.innerWidth:GameConfig.MAX_WIDTH,window.innerHeight>GameConfig.J_HEIGHT){var o=GameConfig.DES_HEIGHT-GameConfig.J_HEIGHT,a=(window.innerHeight-GameConfig.J_HEIGHT)/o*o/2;this.topGroup.top=a,this.bottomGroup.bottom=a}else this.topGroup.top=0,this.bottomGroup.bottom=0;if(this.bg.scaleX=window.innerWidth/GameConfig.MAX_WIDTH,this.bg1.scaleX=window.innerWidth/GameConfig.MAX_WIDTH,this.bg.scaleX>1&&(this.bg.scaleX=1,this.bg1.scaleX=1),window.innerHeight>GameConfig.J_HEIGHT){var s=(GameConfig.J_HEIGHT-55)/GameConfig.J_HEIGHT;this.bg.scaleY=s,this.bg1.scaleY=s}else{var r=(window.innerHeight-55)/GameConfig.J_HEIGHT;this.bg.scaleY=r,this.bg1.scaleY=r}window.innerWidth<=768/window.devicePixelRatio&&(this.bottomGroup.width=768/window.devicePixelRatio,this.topGroup.width=768/window.devicePixelRatio),window.innerWidth<=768/window.devicePixelRatio&&(this.bottomGroup.width=768/window.devicePixelRatio,this.topGroup.width=768/window.devicePixelRatio),window.innerHeight<=500/window.devicePixelRatio?(this.topGroup.visible=this.bottomGroup.visible=!1,this.bg.scaleY=window.innerHeight/this.bg.height+.2,this.bg1.scaleY=window.innerHeight/this.bg1.height+.2):this.topGroup.visible=this.bottomGroup.visible=!0,egret.clearTimeout(this.clet),this.clet=egret.setTimeout(function(){e.topList.updataPosition()},this,100),egret.updateAllScreens()},t.prototype.updataUI=function(){},t.prototype.onTab=function(e){switch(e.currentTarget){case this.stage:this.topList.hide(),this.setBar.closeall(),this.longTouch=!1;break;case this.topListGroup:e.stopPropagation(),e.stopImmediatePropagation();break;case this.setBar:e.stopPropagation(),e.stopImmediatePropagation();break;case this.topGroup:e.stopPropagation(),e.stopImmediatePropagation()}this.updataUI()},t.prototype.onFrame=function(){this.timeLabel.text=Utils.getTime1()},t.prototype.onFrame1=function(){-1==this.betState?(vo.GameData.betIndex>0&&(vo.GameData.betIndex-=1,SoundManager.getInstance().playEffect(SoundConst.SUB)),this.betSubBtn.enabled=vo.GameData.betIndex>0,this.betAddBtn.enabled=vo.GameData.betIndex<vo.GameData.betScoreArr.length-1,this.updataText()):1==this.betState&&(vo.GameData.betIndex<vo.GameData.betScoreArr.length-1&&(vo.GameData.betIndex+=1,SoundManager.getInstance().playEffect(SoundConst.ADD)),this.betSubBtn.enabled=vo.GameData.betIndex>0,this.betAddBtn.enabled=vo.GameData.betIndex<vo.GameData.betScoreArr.length-1,this.updataText()),-1==this.lineState?(vo.GameData.line>1&&(vo.GameData.line-=1,SoundManager.getInstance().playEffect(SoundConst.SUB)),this.lineSubBtn.enabled=vo.GameData.line>1,this.lineAddBtn.enabled=vo.GameData.line<25,this.updataText()):1==this.lineState&&(vo.GameData.line<25&&(vo.GameData.line+=1,SoundManager.getInstance().playEffect(SoundConst.ADD)),this.lineSubBtn.enabled=vo.GameData.line>1,this.lineAddBtn.enabled=vo.GameData.line<25,this.updataText())},t.prototype.test1=function(e){var t=e.currentTarget.hitTestPoint(e.stageX,e.stageY);t&&this.addEventListener(egret.Event.ENTER_FRAME,this.taouchBonus,this)},t.prototype.test3=function(e){this.removeEventListener(egret.Event.ENTER_FRAME,this.taouchBonus,this),this.bonusBtnSource()},t.prototype.taouchBonus=function(){this.bonusBtnShan.visible=!0,egret.clearTimeout(this.bonusBtnAni)},t.prototype.bonusBtnSource=function(){var e=this;this.bonusBtn.visible&&(this.bonusBtnShan.visible=!1,this.bonusBtnAni=egret.setTimeout(function(){e.bonusBtnShan.visible=!0,e.test()},this,200))},t.prototype.test=function(){var e=this;this.bonusBtn.visible&&(this.bonusBtnAni=egret.setTimeout(function(){e.bonusBtnSource()},this,200))},t.prototype.stopMusic=function(){this.chanel&&(this.chanel.stop(),this.chanel=null)},t.prototype.showWin=function(e){var t=this;if(e.length>0&&"Bonus"==e[0].Type&&e[0].SymbolCount>=3&&"freeslot"==vo.GameData.resultData.ActionType,e.length>0&&"Bonus2"==e[0].Type&&e[0].SymbolCount>=3){if(console.log("免费游戏中奖"),"slot"==vo.GameData.resultData.ActionType&&(GameConfig.freeGame=!0),SoundManager.getInstance().effectOn&&null==this.chanel&&SoundManager.getInstance().playMusic(SoundConst.FREEBG,-1).then(function(e){t.chanel=e}),GameConfig.freeGame){this.bonusBtn.visible=!0,this.bonusBtnShan.visible=!0,this.bonusBtnAni=egret.setTimeout(function(){t.bonusBtnSource()},this,200),this.gameScence.displayBonus(e[0].Positions),this.bonusPos=[],this.bonusPos=e[0].Positions;for(var i=e[0].Positions,n=0;n<i.length;n++){var o=i[n];this.gameScence.showAnimation(o)}this.startBtn.visible=!0,this.startBtn.enabled=!1,this.stopBtn.visible=!1,this.infoBtn.enabled=!1,this.autoItem.sopAutoBtn.enabled=!1,this.betSubBtn.enabled=this.betAddBtn.enabled=!1,this.lineSubBtn.enabled=this.lineAddBtn.enabled=!1,this.autoItem.autoBtn.enabled=!1,this.autoItem.autoBtn.visible?(this.autoItem.autoText_mode.visible=!1,this.autoItem.autoText_an.visible=!0):(this.autoItem.autoText_mode.visible=!1,this.autoItem.autoText_an.visible=!1),this.speedOffBtn.enabled=!1,this.speedOnBtn.enabled=!1,GameConfig.speedPlay?this.speedOnBtn.enabled?this.speedOnTxt.visible=!0:this.speedOnTxt.visible=!1:this.speedOffBtn.enabled?this.speedOffTxt.visible=!0:this.speedOffTxt.visible=!1,this.topMask.visible=!0,this.setBar.enabled=!1,this.bottomMask.visible=!0}}else{this.gameScence.pent.clearTip(),this.gameScence.pent.cleaAllLine();for(var a=0;a<e.length;a++){var s=e[a].Data,i=e[a].Positions;if(s){var r=s.Line;e.length>1&&(this.gameScence.pent.showTipLine(r),this.gameScence.pent.showLines(r))}for(var n=0;n<i.length;n++){var o=i[n];this.gameScence.showAnimation(o)}}var h=e.length>1?1e3:0;this.tt=egret.setTimeout(function(){t.gameScence.pent.clearTip(),t.gameScence.pent.cleaAllLine();var i=e[t.winIndex];if("Bonus"!=i.Type){var n=t.gameScence.pent.getLineArrForKuang(i.Data.Line,i.Positions);GameConfig.speedPlay&&GameConfig.autoPlay?t.gameScence.pent.showLines(i.Data.Line):(t.gameScence.pent.showLine(i.Data.Line,n),t.gameScence.pent.showKuang(i.Data.Line,i.Positions)),t.gameScence.pent.showTipLine(i.Data.Line)}else t.gameScence.pent.showkuang2(i.Positions);t.winIndex++,t.winIndex>=e.length&&(t.winIndex=0),t.clert=egret.setInterval(function(){t.gameScence.pent.clearTip(),t.gameScence.pent.cleaAllLine();var i=e[t.winIndex];if(e.length>1&&SoundManager.getInstance().playEffect(SoundConst.KA),"Bonus"!=i.Type){var n=t.gameScence.pent.getLineArrForKuang(i.Data.Line,i.Positions);GameConfig.speedPlay&&GameConfig.autoPlay?t.gameScence.pent.showLines(i.Data.Line):(t.gameScence.pent.showLine(i.Data.Line,n),t.gameScence.pent.showKuang(i.Data.Line,i.Positions)),t.gameScence.pent.showTipLine(i.Data.Line)}else t.gameScence.pent.showkuang2(i.Positions);t.winIndex++,t.winIndex>=e.length&&(t.winIndex=0)},t,1e3)},this,h);var l=vo.GameData.resultData,c=(l.Value.SpinResult.TotalBet,l.Value.SpinResult.TotalWin,l.Value.SpinResult.Denom/1e4),u=l.Value.Dollar,p=u/c;console.log(c+" == 最后的分数 == "+u),GameManager.getInstance().getFreeCount()>0&&(vo.GameData.FreeMoney=vo.GameData.FreeMoney+u,console.log("免费游戏奖金 === "+vo.GameData.FreeMoney),this.reward1=vo.GameData.FreeMoney,egret.Tween.get(this).to({reward1:vo.GameData.FreeMoney},1e3)),p>=30&&this.setReward(u,!0,4),p>=8&&30>p&&this.setReward(u,!0,3),p>=1&&8>p&&this.setReward(u,!0,2),1>p&&this.setReward(u,!0,1)}},t.prototype.hideWin=function(){egret.clearInterval(this.clert),egret.clearTimeout(this.tt),egret.clearTimeout(this.fourFishAni),this.gameScence.pent.clearAll(),this.gameScence.hideAllAnimation(),this.rewardGroup.y=46,this.rewardGroup.scaleX=1,this.rewardGroup.scaleY=1,this.hideBigReward(),this.stopMusic(),egret.Tween.removeTweens(this.rewardGroup),this.winIndex=0,this.hideFiveAnimation()},t.prototype.setReward=function(e,t,i,n){var o=this;void 0===t&&(t=!0),void 0===i&&(i=1),void 0===n&&(n=!1),egret.Tween.removeTweens(this),t&&this.reward<e?(GameConfig.speedPlay&&SoundManager.getInstance().playEffect(SoundConst.DEJIANG),1==i&&(SoundManager.getInstance().effectOn&&null==this.chanel&&SoundManager.getInstance().playMusic(SoundConst.DEJIANG,1).then(function(e){o.chanel=e}),egret.Tween.get(this).to({reward:e},1e3)),2==i&&(!GameConfig.speedPlay&&SoundManager.getInstance().effectOn&&null==this.chanel&&SoundManager.getInstance().playMusic(SoundConst.WWMUSIC,1).then(function(e){o.chanel=e}),egret.Tween.get(this).to({reward:e},1e3)),3==i&&(!GameConfig.speedPlay&&SoundManager.getInstance().effectOn&&null==this.chanel&&SoundManager.getInstance().playMusic(SoundConst.WWMUSIC,1).then(function(e){o.chanel=e}),GameConfig.speedPlay?egret.Tween.get(this).to({reward:e},1e3):(egret.Tween.get(this).to({reward:e},1e3),egret.Tween.get(this.rewardGroup).to({scaleX:1.2,scaleY:1.2},1e3).wait(2e3).to({scaleX:1,scaleY:1},1e3))),4==i&&(console.log("大奖了大奖了大奖了"),!GameConfig.speedPlay&&SoundManager.getInstance().effectOn&&null==this.chanel&&SoundManager.getInstance().playMusic(SoundConst.BIGMUSIC,1).then(function(e){o.chanel=e}),GameConfig.speedPlay?egret.Tween.get(this).to({reward:e},1e3):(egret.Tween.get(this).to({reward:e},8e3),egret.Tween.get(this.rewardGroup).to({scaleX:1.2,scaleY:1.2},1e3).wait(2e3).to({y:-280},1e3).wait(2e3).call(function(){o.showBigReward()},this).wait(4e3).call(function(){o.hideBigReward(),egret.Tween.get(o.rewardGroup).to({scaleX:1,scaleY:1},500).to({y:46},500)},this))),this.isAutoGame(n)):(this.reward=e,this.isAutoGame(n))},t.prototype.isAutoGame=function(e){GameConfig.lastCount>0&&e&&(GameConfig.autoPlay=!0,GameConfig.alwaysGame?GameManager.getInstance().isJIxuAuto():this.autoItem.resetDo())},Object.defineProperty(t.prototype,"reward",{get:function(){return this._rewardNum},set:function(e){this._rewardNum=e,this.rewardLabel.text="x"+GameManager.numberToCommonStr(this._rewardNum)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reward1",{get:function(){return this._freeNum},set:function(e){this._freeNum=e,this.free_money.text=""+GameManager.numberToCommonStr(this._freeNum)},enumerable:!0,configurable:!0}),t.prototype.showFourFish=function(e,t){var i=this;void 0===t&&(t=null),SoundManager.getInstance().effectOn&&null==this.chanel&&SoundManager.getInstance().playMusic(SoundConst.FOURFISH,1).then(function(e){i.chanel=e});for(var n=0;n<e.Positions.length;n++){var o=e.Positions[n];this.gameScence.showAnimation(o)}this.fourFishAni=egret.setTimeout(function(){i.stopMusic(),t&&t()},this,3800)},t.prototype.showFiveAimation=function(e,t){var i=this;if(void 0===t&&(t=null),this.aGroup.visible=!0,this.bigRewardLabel.source="five_png",this.bigRewardGroup.verticalCenter=0,this.bigRewardGroup.scaleX=.5,this.bigRewardGroup.scaleY=.5,e.Data){var n=this.gameScence.pent.getLineArrForKuang(e.Data.Line,e.Positions);this.gameScence.pent.showLine(e.Data.Line,n),this.gameScence.pent.showKuang(e.Data.Line,e.Positions),this.gameScence.pent.showTipLine(e.Data.Line)}else this.gameScence.pent.showkuang2(e.Positions);egret.Tween.removeTweens(this.bigRewardGroup),egret.Tween.get(this.bigRewardGroup).to({scaleX:1.2,scaleY:1.2},800).to({scaleX:.5,scaleY:.5},800).to({scaleX:1.2,scaleY:1.2},800).to({scaleX:.5,scaleY:.5},800).to({scaleX:1.2,scaleY:1.2},800).call(function(){i.hideFiveAnimation(),t&&t()},this)},t.prototype.hideFiveAnimation=function(){egret.Tween.removeTweens(this.bigRewardGroup),this.aGroup.visible=!1},t.prototype.showBigReward=function(e){var t=this;void 0===e&&(e=null),this.aGroup.visible=!0,this.bigRewardLabel.source="big_png",this.bigRewardGroup.scaleX=1,this.bigRewardGroup.scaleY=1,this.bigRewardGroup.verticalCenter=-150,egret.Tween.removeTweens(this.bigRewardGroup),egret.Tween.get(this.bigRewardGroup).to({scaleX:.85,scaleY:.85},400).to({scaleX:1,scaleY:1},400).to({scaleX:.85,scaleY:.85},400).to({scaleX:1,scaleY:1},400).to({scaleX:.85,scaleY:.85},400).to({scaleX:1,scaleY:1},400).to({scaleX:.85,scaleY:.85},400).to({scaleX:1,scaleY:1},400).to({scaleX:.85,scaleY:.85},400).to({scaleX:1,scaleY:1},400).to({scaleX:.85,scaleY:.85},400).to({scaleX:1,scaleY:1},400).call(function(){t.hideBigReward(),e&&e()},this),this.rewardMc||(this.rewardMc=game.MCUtils.getMc("reward"),this.mcGroup.addChild(this.rewardMc),this.rewardMc.x=this.aGroup.width/2,this.rewardMc.y=this.aGroup.height/2+30),this.rewardMc.visible=!0,this.rewardMc.gotoAndPlay("a0",-1)},t.prototype.hideBigReward=function(){egret.Tween.removeTweens(this.bigRewardGroup),this.rewardMc&&(this.rewardMc.visible=!1,this.rewardMc.stop(),this.aGroup.visible=!1)},t}(core.BaseUI);__reflect(MainScenceUI.prototype,"MainScenceUI");var Reel=function(e){function t(){var t=e.call(this)||this;return t.isTest=0,t.isAction=!1,t.curReelData=["M1","M1","M2"],t.targetReelData=["M1","0","M2"],t.reelSpeed=80,t.curTime=0,t.index=0,t.aIndex=0,t.stopState=!1,t.skinName=ReelSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.addEventListener(egret.Event.ENTER_FRAME,this.onFrame,this)},t.prototype.showAnimation=function(e){var t=this.kGroup.getChildAt(e+1);t.goAnimation()},t.prototype.hideAnimation=function(e){var t=this.kGroup.getChildAt(e+1);t.hideAnimation()},t.prototype.clearAllAnimation=function(){for(var e=0;e<this.kGroup.numChildren;e++){var t=this.kGroup.getChildAt(e);t.hideAnimation()}},t.prototype.stopMusic=function(){this.chanel&&(this.chanel.stop(),this.chanel=null)},t.prototype.moveC1y=function(e){for(var t=0;t<this.kGroup.numChildren;t++){var i=this.kGroup.getChildAt(t),n=i.y+201,o=i.y-201;0==e&&egret.Tween.get(i).to({y:n},700),2==e&&egret.Tween.get(i).to({y:o},700)}},t.prototype.huanYuan=function(e){for(var t=0;t<this.kGroup.numChildren;t++){var i=this.kGroup.getChildAt(t),n=i.y+201,o=i.y-201;0==e&&egret.Tween.get(i).to({y:o},1),2==e&&egret.Tween.get(i).to({y:n},1)}},t.prototype.onFrame=function(){var e=this;if(this.isAction)for(var t=0;t<this.kGroup.numChildren;t++){var i=this.kGroup.getChildAt(t),n=400;if(i.y+=this.reelSpeed,i.y>=this.height){for(var o=4-GameConfig.twoC1Index,a=1;o>=a;a++)GameConfig.isTwo&&this.index==GameConfig.twoC1Index+a&&(n=1700);for(var s=GameConfig.speedPlay?250:400,r=GameConfig.speedPlay?250:n,h=1;o>=h;h++)this.index==GameConfig.twoC1Index+h&&GameConfig.isTest&&(SoundManager.getInstance().effectOn&&null==this.chanel&&SoundManager.getInstance().playMusic(SoundConst.C1TWO,1).then(function(t){e.chanel=t}),this.c1MC||(this.c1MC=game.MCUtils.getMc("c1mc")),this.addChild(this.c1MC),this.c1MC.gotoAndPlay("c1mc",-1),this.c1MC.x=this.kGroup.width/2,this.c1MC.y=this.kGroup.height/2,this.c1MC.scaleX=1,this.c1MC.scaleY=1,GameConfig.isTest=!1,r+=1500);var l=400;if(egret.getTimer()-this.curTime>s+(r*this.index+l)&&!GameConfig.isTest)return-1!=GameConfig.twoC1Index&&(this.index==GameConfig.twoC1Index&&(GameConfig.isTest=!0),this.index==GameConfig.twoC1Index+1&&(GameConfig.isTest=!0),this.index==GameConfig.twoC1Index+2&&(GameConfig.isTest=!0)),this.isAction=!1,void this.overReel();i.y=this.kGroup.getChildAt(0).y-this.kGroup.getChildAt(0).height,i.value="M"+Math.ceil(5*Math.random()),this.kGroup.setChildIndex(i,0)}}},t.prototype.overReel=function(){var e=this;egret.Tween.removeTweens(this),this.stopState||SoundManager.getInstance().playEffect(SoundConst.REEL_STOP);for(var t=function(t){var n=i.kGroup.getChildAt(t);egret.Tween.removeTweens(n);var o=void 0;o=t*n.height-n.height,n.y=i.stopState?o:t*n.height-n.height+100,n.value=t>0&&4>t?i.curReelData[t-1]:"M"+Math.ceil(5*Math.random()),"C1"==(t>0&&4>t?i.curReelData[t-1]:"M"+Math.ceil(5*Math.random()))&&i.index<=2&&!i.stopState&&SoundManager.getInstance().playEffect(SoundConst.DENG);var a=i.stopState?0:300;egret.setTimeout(function(){e.c1MC&&e.c1MC.parent&&(e.c1MC.parent.removeChild(e.c1MC),e.c1MC.stop(),e.stopMusic())},i,300),egret.Tween.get(n).to({y:o},a,egret.Ease.cubicOut).call(function(){4==e.index&&t==e.kGroup.numChildren-1&&(GameConfig.isTest=!1,core.NotifyManager.getInstance().sendNotify(core.NotifyConst.LOGIC_ROUNDOVER))},i)},i=this,n=0;n<this.kGroup.numChildren;n++)t(n)},t.prototype.initData=function(){for(var e=0;e<this.kGroup.numChildren;e++){var t=this.kGroup.getChildAt(e);t.value=e>0&&4>e?this.curReelData[e-1]:"M"+Math.ceil(5*Math.random())}},t.prototype.start=function(){for(var e=this,t=0;t<this.kGroup.numChildren;t++){var i=this.kGroup.getChildAt(t),n=i.y-50;egret.Tween.get(i).to({y:n},100).to({y:n+50},100)}egret.Tween.get(this).wait(300).call(function(){e.isAction=!0,e.stopState=!1,e.curTime=egret.getTimer()},this)},t.prototype.resultArr=function(){this.curReelData=JSON.parse(JSON.stringify(this.targetReelData))},t.prototype.stop=function(){this.isAction=!1,this.stopState=!0,this.overReel()},t.ShowNum=3,t.TIME=500,t.QUK_TIME=300,t.STOPTIME=600,t.QUK_STOPTIME=300,t}(eui.Component);__reflect(Reel.prototype,"Reel");var ReelItem=function(e){function t(){var t=e.call(this)||this;return t.isVir=!1,t.isA=!1,t.skinName=ReelItemSkin,t}return __extends(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,void 0!=this.value&&(this.icons.scaleX=1.25,this.icons.scaleY=1.25,this.icons.source=this._value+"_icon_png",this.icons.visible=!0)},enumerable:!0,configurable:!0}),t.prototype.goAnimation=function(){this.isA||(this.isA=!0,egret.Tween.removeTweens(this.icons),this.value=this._value,"WW"==this.value&&(!GameConfig.speedPlay,this.maoziMC||(this.maoziMC=game.MCUtils.getMc("ww")),this.addChild(this.maoziMC),this.maoziMC.gotoAndPlay("ww",-1),this.maoziMC.x=this.width/2,this.maoziMC.y=this.height/2,this.maoziMC.scaleX=1.4,this.maoziMC.scaleY=1.4,this.icons.visible=!1),"M5"==this.value&&(this.maoziMC1||(this.maoziMC1=game.MCUtils.getMc("m5")),this.addChild(this.maoziMC1),this.maoziMC1.gotoAndPlay("m5",-1),this.maoziMC1.x=this.width/2,this.maoziMC1.y=this.height/2,this.maoziMC1.scaleX=1.4,this.maoziMC1.scaleY=1.4,this.icons.visible=!1),"M3"==this.value&&(this.maoziMC2||(this.maoziMC2=game.MCUtils.getMc("m3")),this.addChild(this.maoziMC2),this.maoziMC2.gotoAndPlay("m3",-1),this.maoziMC2.x=this.width/2,this.maoziMC2.y=this.height/2,this.maoziMC2.scaleX=1.4,this.maoziMC2.scaleY=1.4,this.icons.visible=!1),"M1"==this.value&&(this.maoziMC3||(this.maoziMC3=game.MCUtils.getMc("m1")),this.addChild(this.maoziMC3),this.maoziMC3.gotoAndPlay("m1",-1),this.maoziMC3.x=this.width/2,this.maoziMC3.y=this.height/2,this.maoziMC3.scaleX=1.4,this.maoziMC3.scaleY=1.4,this.icons.visible=!1),"M2"==this.value&&(this.maoziMC4||(this.maoziMC4=game.MCUtils.getMc("m2")),this.addChild(this.maoziMC4),this.maoziMC4.gotoAndPlay("m2",-1),this.maoziMC4.x=this.width/2,this.maoziMC4.y=this.height/2,this.maoziMC4.scaleX=1.4,this.maoziMC4.scaleY=1.4,this.icons.visible=!1),"M4"==this.value&&(console.log("看看多少次"),!GameConfig.speedPlay,this.maoziMC5||(this.maoziMC5=game.MCUtils.getMc("m4")),this.addChild(this.maoziMC5),this.maoziMC5.gotoAndPlay("m4",-1),this.maoziMC5.x=this.width/2,this.maoziMC5.y=this.height/2,this.maoziMC5.scaleX=1.4,this.maoziMC5.scaleY=1.4,this.icons.visible=!1),"C1"==this.value?(this.maoziMC6||(this.maoziMC6=game.MCUtils.getMc("c1")),this.addChild(this.maoziMC6),this.maoziMC6.gotoAndPlay("c1",-1),this.maoziMC6.x=this.width/2,this.maoziMC6.y=this.height/2,this.maoziMC6.scaleX=1.3,this.maoziMC6.scaleY=1.3,this.icons.visible=!1):egret.Tween.get(this.icons,{loop:!0}).to({scaleX:1,scaleY:1},600).to({scaleX:1.25,scaleY:1.25},600))},t.prototype.hideAnimation=function(){this.isA=!1,this.maoziMC&&this.maoziMC.parent&&(this.maoziMC.parent.removeChild(this.maoziMC),this.maoziMC.stop()),this.maoziMC1&&this.maoziMC1.parent&&(this.maoziMC1.parent.removeChild(this.maoziMC1),this.maoziMC1.stop()),this.maoziMC2&&this.maoziMC2.parent&&(this.maoziMC2.parent.removeChild(this.maoziMC2),this.maoziMC2.stop()),this.maoziMC3&&this.maoziMC3.parent&&(this.maoziMC3.parent.removeChild(this.maoziMC3),this.maoziMC3.stop()),this.maoziMC4&&this.maoziMC4.parent&&(this.maoziMC4.parent.removeChild(this.maoziMC4),this.maoziMC4.stop()),this.maoziMC5&&this.maoziMC5.parent&&(this.maoziMC5.parent.removeChild(this.maoziMC5),this.maoziMC5.stop()),this.maoziMC6&&this.maoziMC6.parent&&(this.maoziMC6.parent.removeChild(this.maoziMC6),this.maoziMC6.stop()),egret.Tween.removeTweens(this.icons),this.icons.scaleX=1.25,this.icons.scaleY=1.25,this.icons.visible=!0,this.value=this._value},t}(eui.Component);__reflect(ReelItem.prototype,"ReelItem");var SetBar=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.musicCheckBox.addEventListener(egret.Event.CHANGE,this.onChange,this),this.musicCheckBox.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCheck,this),core.TimerManager.instance.addTick(200,-1,this.onFrame,this),this.setBtn.addEventListener(egret.Event.CHANGE,this.onChange,this),this.checkList.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onOver2,this),this.volueSlider.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onOver1,this),this.volueSlider.addEventListener("MyHslider_STOP",this.onTouchStop,this),this.volueSlider.addEventListener(egret.Event.CHANGE,this.onVolueChange,this),this.checkList.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onOut2,this),this.volueSlider.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onOut1,this),this.musicCheckBox.selected=SoundManager.getInstance().getBgVolume()>0?!0:!1,this.checkList.checkBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.checkList.helpBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.checkList.hisBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.checkList.rewardBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this)
},t.prototype.onTab=function(e){switch(e.currentTarget){case this.checkList.checkBtn:core.UIManager.openUI(core.UIConst.SetUI,core.LayerManager.Layer_Top),this.misShow=!1,this.checkisShow=!1;break;case this.checkList.helpBtn:this.misShow=!1,this.checkisShow=!1,core.UIManager.openUI(core.UIConst.HelpDesUI,core.LayerManager.Layer_Top);break;case this.checkList.hisBtn:openHistory(),this.misShow=!1,this.checkisShow=!1;break;case this.checkList.rewardBtn:core.UIManager.openUI(core.UIConst.HelpUI,core.LayerManager.Layer_Top),this.misShow=!1,this.checkisShow=!1}},t.prototype.closeall=function(){this.misShow=!1,this.checkisShow=!1},t.prototype.onChange=function(e){var t=this,i=core.UIManager.getUI(core.UIConst.MainScenceUI),n=e.currentTarget;n==this.musicCheckBox?"rollOver"==n.currentState||"rollOverAndSelected"==n.currentState||"down"==n.currentState||"downAndSelected"==n.currentState?(this.misShow=!0,this.volueSlider.setVolues(100*SoundManager.getInstance().getEffectVolume()),this.checkisShow=!1,egret.clearTimeout(this.mt),i.topList.hide()):this.mt=egret.setTimeout(function(){t.misShow=!1},this,1e3):n==this.setBtn&&(i.topList.hide(),"rollOver"==n.currentState?(this.checkisShow=!0,this.misShow=!1,egret.clearTimeout(this.ct)):this.ct=egret.setTimeout(function(){t.checkisShow=!1},this,1e3))},t.prototype.onTouchStop=function(){this.misShow=!1},t.prototype.onOver1=function(e){this.misShow=!0,this.checkisShow=!1,egret.clearTimeout(this.mt),this.volueSlider.setVolues(100*SoundManager.getInstance().getEffectVolume())},t.prototype.onOver2=function(e){egret.clearTimeout(this.ct),this.checkisShow=!0,this.misShow=!1},t.prototype.onOut1=function(e){var t=this;this.volueSlider.hitTestPoint(e.stageX,e.stageY)||(this.mt=egret.setTimeout(function(){t.misShow=!1},this,1e3))},t.prototype.onOut2=function(e){var t=this;this.checkList.hitTestPoint(e.stageX,e.stageY)||(this.ct=egret.setTimeout(function(){t.checkisShow=!1},this,1e3))},t.prototype.onFrame=function(){this.misShow?(this.volueSlider.y=0,this.volueSlider.enabled=!0,egret.Tween.removeTweens(this.volueSlider),egret.Tween.get(this.volueSlider).to({alpha:1},200)):0==this.misShow&&0==this.volueSlider.isPlaying&&(this.musicCheckBox.currentState="",this.volueSlider.enabled=!1,egret.Tween.removeTweens(this.volueSlider),egret.Tween.get(this.volueSlider).to({alpha:0},200)),this.checkisShow?(this.checkList.y=0,this.checkList.enabled=!0,egret.Tween.removeTweens(this.checkList),egret.Tween.get(this.checkList).to({alpha:1},200)):(this.setBtn.currentState="",this.checkList.enabled=!1,egret.Tween.removeTweens(this.checkList),egret.Tween.get(this.checkList).to({alpha:0},200)),this.musicCheckBox.updataImg()},t.prototype.onVolueChange=function(){var e=this.volueSlider.value/this.volueSlider.maximum;SoundManager.getInstance().setBgVolume(e),SoundManager.getInstance().setEffectVolume(e),this.musicCheckBox.valume=e},t.prototype.onCheck=function(){core.UIManager.getUI(core.UIConst.MainScenceUI);if(this.musicCheckBox.selected){this.musicCheckBox.valume=SoundManager.getInstance().lastVolume,SoundManager.getInstance().setBgVolume(SoundManager.getInstance().lastVolume),SoundManager.getInstance().setEffectVolume(SoundManager.getInstance().lastVolume);var e=SoundManager.getInstance().lastVolume*this.volueSlider.maximum;this.volueSlider.setVolues(e),SoundManager.getInstance().open()}else SoundManager.getInstance().saveVolue(),this.volueSlider.setVolues(0),SoundManager.getInstance().setBgVolume(0),SoundManager.getInstance().setEffectVolume(0),this.musicCheckBox.valume=this.volueSlider.value,SoundManager.getInstance().close()},t}(eui.Component);__reflect(SetBar.prototype,"SetBar");var ShowItem=function(e){function t(){var t=e.call(this)||this;return t.index=0,t.tx=0,t.ty=0,t.skinName=ShowItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.anchorOffsetX=45,this.anchorOffsetY=45,this.tGroup.scaleX=.84,this.tGroup.scaleY=.84,this.nameLabel.alpha=0,this.tGroup.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOver,this),this.tGroup.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOut,this),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onEnd,this),mouse.setButtonMode(this,!0)},t.prototype.onBegin=function(e){this.tx=e.stageX,this.ty=e.stageY},t.prototype.onEnd=function(e){Math.abs(e.stageX-this.tx)<3&&Math.abs(e.stageY-this.ty)<3&&window.open("http://www.baidu.com","_blank","height=833, width=1065, top=0, left=0, toolbar=no, menubar=no, scrollbars=no,resizable=no,location=no, status=no")},t.prototype.setData=function(e){this.data=e,this.nameLabel.text=e.name},t.prototype.goIndex=function(e){void 0===e&&(e=0),this.startpos=e,egret.Tween.removeTweens(this);var t=this.startpos+this.index*(TopList.WIDTH+TopList.DISTANCE)+TopList.WIDTH/2;this.x=t},t.prototype.goIndexAimation=function(e){void 0===e&&(e=0),this.startpos=e,egret.Tween.removeTweens(this);var t=this.startpos+this.index*(TopList.WIDTH+TopList.DISTANCE)+TopList.WIDTH/2;egret.Tween.get(this).to({x:t},300)},t.prototype.goIndexStep=function(e){this.startpos+=e,egret.Tween.removeTweens(this);var t=this.startpos+this.index*(TopList.WIDTH+TopList.DISTANCE)+TopList.WIDTH/2;this.x=t},t.prototype.goAnimation=function(e){void 0===e&&(e=-1),egret.Tween.removeTweens(this);var t=this.startpos+this.index*(TopList.WIDTH+TopList.DISTANCE)+TopList.WIDTH/2,i=t+2*e*TopList.DISTANCE;egret.Tween.get(this).to({x:i},200)},t.prototype.goBack=function(){egret.Tween.removeTweens(this);var e=this.startpos+this.index*(TopList.WIDTH+TopList.DISTANCE)+TopList.WIDTH/2;egret.Tween.get(this).to({x:e},300)},t.prototype.onRollOver=function(){egret.Tween.removeTweens(this.tGroup),egret.Tween.removeTweens(this.nameLabel),egret.Tween.get(this.tGroup).to({scaleX:1,scaleY:1},300),egret.Tween.get(this.nameLabel).to({alpha:1},300),this.dispatchEventWith("rollchangeover",!1,this.index)},t.prototype.onRollOut=function(){egret.Tween.removeTweens(this.tGroup),egret.Tween.removeTweens(this.nameLabel),egret.Tween.get(this.tGroup).to({scaleX:.84,scaleY:.84},300),egret.Tween.get(this.nameLabel).to({alpha:0},300),this.dispatchEventWith("rollchangeout",!1,this.index)},t}(eui.Component);__reflect(ShowItem.prototype,"ShowItem");var TextButton=function(e){function t(){var t=e.call(this)||this;return t.isselected=!1,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAdd,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemove,t),mouse.setButtonMode(t,!0),t}return __extends(t,e),t.prototype.onAdd=function(){this.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOver,this),this.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOut,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onRollOut,this),this.label0.alpha=1,this.label1.alpha=0},t.prototype.onRemove=function(){this.onRollOut(),this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOut,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onRollOut,this)},t.prototype.setSelected=function(e){this.isselected=e,this.label1.textColor=this.isselected?2598399:5424622,e?this.onRollOver():this.onRollOut()},t.prototype.onRollOver=function(){egret.Tween.removeTweens(this.label0),egret.Tween.removeTweens(this.label1),egret.Tween.get(this.label0).to({alpha:0},200),egret.Tween.get(this.label1).to({alpha:1},200)},t.prototype.onRollOut=function(){this.isselected||(egret.Tween.removeTweens(this.label0),egret.Tween.removeTweens(this.label1),egret.Tween.get(this.label0).to({alpha:1},200),egret.Tween.get(this.label1).to({alpha:0},200))},t}(eui.Button);__reflect(TextButton.prototype,"TextButton");var TopList=function(e){function t(){var t=e.call(this)||this;return t.isShow=!1,t.isCanMove=!1,t.moveState=0,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.leftBtn.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onLeftBtnRollOver,this),this.leftBtn.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onLeftBtnRollOut,this),this.rightBtn.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRightBtnRollOver,this),this.rightBtn.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRightBtnRollOut,this),core.TimerManager.instance.addTick(-20,-1,this.onFrame,this),mouse.setButtonMode(this.leftBtn,!0),mouse.setButtonMode(this.rightBtn,!0),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMove,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onEnd,this)},t.prototype.onBegin=function(e){this.isCanMove&&(this.tx=e.stageX,this.ty=e.stageY)},t.prototype.onMove=function(e){if(this.isCanMove){var i=e.stageX-this.tx;this.tx=e.stageX,this.ty=e.stageY;for(var n=0;n<this.contentGroup.numChildren;n++){var o=this.contentGroup.getChildAt(n);o.goIndexStep(i)}this.startpox+=i,this.startpox>=40?this.leftBtn.visible=!1:this.leftBtn.visible=!0;var a=this.contentGroup.numChildren*t.WIDTH+(this.contentGroup.numChildren-1)*t.DISTANCE;this.startpox<=this.contentGroup.width-a-40?this.rightBtn.visible=!1:this.rightBtn.visible=!0}},t.prototype.onEnd=function(e){if(this.isCanMove){if(this.startpox>40){for(var i=0;i<this.contentGroup.numChildren;i++){var n=this.contentGroup.getChildAt(i);n.goIndexAimation(40)}this.startpox=40}var o=this.contentGroup.numChildren*t.WIDTH+(this.contentGroup.numChildren-1)*t.DISTANCE;if(this.startpox<this.contentGroup.width-o-40){for(var i=0;i<this.contentGroup.numChildren;i++){var n=this.contentGroup.getChildAt(i);n.goIndexAimation(this.contentGroup.width-o-40)}this.startpox=this.contentGroup.width-o-40}}},t.prototype.show=function(){this.isShow=!0,egret.Tween.get(this.parent).to({y:0,alpha:1},600)},t.prototype.hide=function(){this.isShow=!1,egret.Tween.get(this.parent).to({y:-154,alpha:0},600);var e=core.UIManager.getUI(core.UIConst.MainScenceUI);e.setSelected(-1)},t.prototype.setArr=function(e){var t=this;egret.Tween.get(this.contentGroup).to({alpha:0},200).call(function(){t.contentGroup.removeChildren();for(var i=0;i<e.length;i++){var n=new ShowItem;n.addEventListener("rollchangeover",t.onRollOver,t),n.addEventListener("rollchangeout",t.onRollOut,t),t.contentGroup.addChild(n),n.setData(e[i]),n.y=61.5,n.index=i}t.updataPosition(),egret.Tween.get(t.contentGroup).to({alpha:1},200)},this)},t.prototype.updataPosition=function(){var e,i=this.contentGroup.numChildren*t.WIDTH+(this.contentGroup.numChildren-1)*t.DISTANCE;i>=this.contentGroup.width?(e=40,this.leftBtn.visible=!1,this.rightBtn.visible=!0,this.isCanMove=!0):(e=this.contentGroup.width/2-i/2,this.leftBtn.visible=!1,this.rightBtn.visible=!1,this.isCanMove=!1),this.startpox=e;for(var n=0;n<this.contentGroup.numChildren;n++){var o=this.contentGroup.getChildAt(n);o.goIndex(e)}},t.prototype.onRollOver=function(e){egret.clearTimeout(this.cleart);for(var t=e.data,i=0;t>i;i++){var n=this.contentGroup.getChildAt(i);n.goAnimation(-1)}for(var i=t+1;i<this.contentGroup.numChildren;i++){var o=this.contentGroup.getChildAt(i);o.goAnimation(1)}var a=this.contentGroup.getChildAt(t);a.goBack()},t.prototype.onRollOut=function(e){var t=this;e.data;this.cleart=egret.setTimeout(function(){for(var e=0;e<t.contentGroup.numChildren;e++){var i=t.contentGroup.getChildAt(e);i.goBack()}},this,100)},t.prototype.onLeftBtnRollOver=function(){this.moveState=-1,this.leftBtn.source="left_hover_png"},t.prototype.onLeftBtnRollOut=function(){this.moveState=0,this.leftBtn.source="left_png"},t.prototype.onRightBtnRollOver=function(){this.moveState=1,this.rightBtn.source="left_hover_png"},t.prototype.onRightBtnRollOut=function(){this.moveState=0,this.rightBtn.source="left_png"},t.prototype.onFrame=function(){if(-1==this.moveState)if(this.startpox<=30){for(var e=0;e<this.contentGroup.numChildren;e++){var i=this.contentGroup.getChildAt(e);i.goIndexStep(10)}this.startpox+=10,this.rightBtn.visible=!0}else this.leftBtn.visible=!1;else if(1==this.moveState){var n=this.contentGroup.numChildren*t.WIDTH+(this.contentGroup.numChildren-1)*t.DISTANCE;if(this.startpox>=this.contentGroup.width-n+10-40){for(var e=0;e<this.contentGroup.numChildren;e++){var i=this.contentGroup.getChildAt(e);i.goIndexStep(-10)}this.startpox-=10,this.leftBtn.visible=!0}else this.rightBtn.visible=!1}},t.DISTANCE=9,t.WIDTH=76,t.HEIGHT=76,t}(eui.Component);__reflect(TopList.prototype,"TopList");var GameManager=function(e){function t(){var t=e.call(this)||this;return t.gameState=0,t.isStart=!0,t.curtime=egret.getTimer(),t}return __extends(t,e),t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.init=function(){var e=this;GameController.getInstance().clearRedis(),GameConfig.gameModle=GameType.GameModule.trueModle,core.NotifyManager.getInstance().registerNotify(core.NotifyConst.NET_INIT,this.onNetgGmeInit,this),core.NotifyManager.getInstance().registerNotify(core.NotifyConst.NET_PLAY,this.onNetGamePlay,this),core.NotifyManager.getInstance().registerNotify(core.NotifyConst.LOGIC_ROUNDOVER,this.onLogicGameOver,this),core.NotifyManager.getInstance().registerNotify(core.NotifyConst.NET_TOUCHTOKEN,this.onNetTouchToken,this),sockets.SocketMananger.getInstance().connectServer(function(){e.initData(),Commond.sendInitGame()},this),window.addEventListener("message",function(e){if("closedesui"!=e.data&&"loadhide"!=e.data&&"loadshow"!=e.data){core.UIManager.openUI(core.UIConst.StipsUI,core.LayerManager.Layer_Tip);var t=core.UIManager.getUI(core.UIConst.StipsUI);t.showConfirBtn(e.data,function(){core.UIManager.closeUI(core.UIConst.StipsUI),0!=sockets.SocketMananger.getInstance().netState&&NetUI.getInstance().showNetting()})}})},t.prototype.initData=function(){vo.GameData.slotInfo=new vo.SlotInfo,vo.GameData.slotInfo.readData(null),vo.GameData.slotInfo.readPlayAction(null)},t.prototype.onNetgGmeInit=function(e){var t=e;this.initAlysInitialData(t),core.LoadManger.getInstance().loadGroup(core.UIConst.NomalLoadingUI,"main",function(){core.UIManager.openUI(core.UIConst.MainScenceUI)},this)},t.prototype.initAlysInitialData=function(e){core.UIManager.getUI(core.UIConst.MainScenceUI);vo.GameData.initData=JSON.parse(JSON.stringify(e)),vo.GameData.balance=parseFloat(e.Value.TokenInfo.Balance+""),vo.GameData.reelArr.length=0,vo.GameData.slotInfo.resultArr=e.Value.Geninit.Main.ReelSymbols,vo.GameData.initData=e,GameConfig.isData=!0,vo.GameData.initData.Actions.freeslot&&(vo.GameData.TotalActionCount=vo.GameData.initData.Actions.freeslot.count,vo.GameData.allFreeCount=vo.GameData.initData.Actions.freeslot.total,egret.setTimeout(function(){},this,2e3))},t.prototype.stopMusic=function(){this.chanel&&(this.chanel.stop(),this.chanel=null)},t.prototype.onNetGamePlay=function(e){var i=this;this.initAlaysPlayData(e);var n=core.UIManager.getUI(core.UIConst.MainScenceUI);n.balanceLabel.text="￥"+t.numberToCommonStr(vo.GameData.balance),"freeslot"!=vo.GameData.resultData.ActionType&&this.getFreeCount()<=0&&!GameConfig.speedPlay&&SoundManager.getInstance().effectOn&&null==this.chanel&&egret.getTimer()-this.curtime>400&&(this.curtime=egret.getTimer(),SoundManager.getInstance().playMusic(SoundConst.REEL,1).then(function(e){i.chanel=e})),"freeslot"==vo.GameData.resultData.ActionType&&(vo.GameData.resultData.Actions.freeslot?n.free_Num.text=""+vo.GameData.resultData.Actions.freeslot.count:n.free_Num.text="0"),egret.setTimeout(function(){n.startBtn.visible=!1,n.startBtn.enabled=!0,n.stopBtn.visible=!0},this,210),"treasure"!=vo.GameData.resultData.ActionType?n.gameScence.startResult():(this.startGame(),vo.GameData.TotalActionCount=vo.GameData.resultData.Actions.freeslot.count,vo.GameData.allFreeCount=vo.GameData.resultData.Actions.freeslot.total)},t.prototype.initAlaysPlayData=function(e){vo.GameData.resultData=JSON.parse(JSON.stringify(e)),vo.GameData.initData.Value.Actions=e.Value.Actions},t.prototype.onNetTouchToken=function(e){},t.prototype.onLogicGameOver=function(){var e=this;console.log("游戏结束"),GameConfig.isData=!1;var i=core.UIManager.getUI(core.UIConst.MainScenceUI);this.gameState=GameType.GameState.STOP,"freeslot"==vo.GameData.resultData.ActionType&&(vo.GameData.resultData.Actions.freeslot?(vo.GameData.TotalActionCount=vo.GameData.resultData.Actions.freeslot.count,vo.GameData.allFreeCount=vo.GameData.resultData.Actions.freeslot.total,i.totalMoney.text=vo.GameData.resultData.Actions.freeslot.TotalWin,i.gongNengMoney.text=vo.GameData.resultData.Actions.freeslot.ActionWin,i.gameMoney.text=""+(vo.GameData.resultData.Actions.freeslot.TotalWin-vo.GameData.resultData.Actions.freeslot.ActionWin)):(vo.GameData.TotalActionCount=0,vo.GameData.allFreeCount=0)),console.log("免费次数 === "+this.getFreeCount()),0==this.getFreeCount()&&"freeslot"==vo.GameData.resultData.ActionType&&(GameConfig.autoPlay=!1,vo.GameData.autoPlayCount=0,i.endFree()),this.isStart=!0,GameConfig.autoPlay||(i.startBtn.visible=!0,i.stopBtn.visible=!1,i.infoBtn.enabled=!0,i.topMask.visible=!1,i.setBar.enabled=!0,i.bottomMask.visible=!1,i.updataText(!1),i.updataBtn(),i.autoItem.autoBtn.enabled=!0,i.autoItem.autoBtn.visible?t.getInstance().gameState==GameType.GameState.STOP?(i.autoItem.autoText_an.visible=!1,i.autoItem.autoText_mode.visible=!0):(i.autoItem.autoText_an.visible=!0,i.autoItem.autoText_mode.visible=!1):(i.autoItem.autoText_an.visible=!1,i.autoItem.autoText_mode.visible=!1),i.speedOffBtn.enabled=!0,i.speedOnBtn.enabled=!0,GameConfig.speedPlay?i.speedOnBtn.enabled?i.speedOnTxt.visible=!0:i.speedOnTxt.visible=!1:i.speedOffBtn.enabled?i.speedOffTxt.visible=!0:i.speedOffTxt.visible=!1),vo.GameData.initData.Value.TokenInfo.Balance=vo.GameData.resultData.Value.Balance,vo.GameData.balance=vo.GameData.initData.Value.TokenInfo.Balance,i.balanceLabel.text="￥"+t.numberToCommonStr(vo.GameData.balance);var n=vo.GameData.resultData,o=n.Value.SpinResult.Main.WinResults,a=[];if(o?a=this.getFiveArr(o):a.length=0,a=this.getFiveArr(o),this.stopMusic(),0==a.length)if(o.length>0){var s=[];s=this.getFishArr(o),0!=s.length?i.showFourFish(s[0],function(){i.showWin(o),egret.setTimeout(function(){e.doNext()},e,1300*o.length)}):(i.showWin(o),egret.setTimeout(function(){e.doNext()},this,1300*o.length))}else this.doNext();else i.showFiveAimation(a[0],function(){i.showWin(o),egret.setTimeout(function(){e.doNext()},e,2e3)})},t.prototype.playMusic=function(e){var t=this;SoundManager.getInstance().effectOn&&null==this.chanel&&SoundManager.getInstance().playMusic(e,1).then(function(e){t.chanel=e})},t.prototype.getFishArr=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];"M4"==n.Symbol&&4==n.SymbolCount&&t.push(n)}return t},t.prototype.getFiveArr=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];5==n.Positions.length&&t.push(n)}return t},t.prototype.doNext=function(){var e=core.UIManager.getUI(core.UIConst.MainScenceUI);if(t.getInstance().gameState=GameType.GameState.STOP,e.updataUI(),vo.GameData.autoPlayCount>0)this.getFreeCount()<=0&&(GameConfig.freeGame?console.log("自动游戏有免费游戏"):(console.log("自动游戏无免费游戏"),e.hideWin(),this.startGame()));else if(GameConfig.autoPlay){if(console.log("自动游戏最后一把"),GameConfig.freeGame?(console.log("自动游戏最后一把开出红利"),e.autoItem.autoBtn.visible=!1,e.autoItem.autoText_an.visible=!1,e.autoItem.autoText_mode.visible=!1,e.autoItem.autoStopGroup.visible=!0,e.autoItem.sMainGroup.visible=!0):(e.autoItem.autoBtn.visible=!0,e.autoItem.autoBtn.visible?t.getInstance().gameState==GameType.GameState.STOP?(e.autoItem.autoText_an.visible=!1,e.autoItem.autoText_mode.visible=!0):(e.autoItem.autoText_an.visible=!0,e.autoItem.autoText_mode.visible=!1):(e.autoItem.autoText_an.visible=!1,e.autoItem.autoText_mode.visible=!1),e.autoItem.autoStopGroup.visible=!1,e.autoItem.sMainGroup.visible=!0),vo.GameData.autoPlayCount=0,GameConfig.autoPlay=!1,console.log("this.isStart  == "+this.isStart),!this.isStart)return;core.UIManager.openUI(core.UIConst.StipsUI,core.LayerManager.Layer_Top),GameConfig.emptyPlay=!1;var i=core.UIManager.getUI(core.UIConst.StipsUI);i.showAutoBtn(0,"自动游戏已停止。\n您想重复自动游戏吗？",function(){core.UIManager.closeUI(core.UIConst.StipsUI),e.autoItem.resetDo()},function(){core.UIManager.closeUI(core.UIConst.StipsUI);var e=core.UIManager.getUI(core.UIConst.MainScenceUI);GameConfig.alwaysGame=!1,t.getInstance().gameState==GameType.GameState.STOP&&(e.startBtn.visible=!0,e.stopBtn.visible=!1,e.updataText(!1),vo.GameData.autoPlayCount<=0&&(e.updataBtn(),e.infoBtn.enabled=!0,e.autoItem.autoBtn.enabled=!0,e.autoItem.autoBtn.visible?(e.autoItem.autoText_mode.visible=!0,e.autoItem.autoText_an.visible=!1):(e.autoItem.autoText_mode.visible=!1,e.autoItem.autoText_an.visible=!1),e.speedOffBtn.enabled=!0,e.speedOnBtn.enabled=!0,GameConfig.speedPlay?e.speedOnBtn.enabled?e.speedOnTxt.visible=!0:e.speedOnTxt.visible=!1:e.speedOffBtn.enabled?e.speedOffTxt.visible=!0:e.speedOffTxt.visible=!1,e.topMask.visible=!1,e.setBar.enabled=!0,e.bottomMask.visible=!1)),GameConfig.emptyPlay=!0})}else GameConfig.freeGame?(e.startBtn.visible=!0,e.startBtn.enabled=!1,e.stopBtn.visible=!1,e.infoBtn.enabled=!1,e.betSubBtn.enabled=e.betAddBtn.enabled=!1,e.lineSubBtn.enabled=e.lineAddBtn.enabled=!1,e.autoItem.autoBtn.enabled=!1,e.autoItem.autoText_mode.visible=!1,e.autoItem.autoText_an.visible=!0,e.speedOffBtn.enabled=!1,e.speedOnBtn.enabled=!1,GameConfig.speedPlay?e.speedOnBtn.enabled?e.speedOnTxt.visible=!0:e.speedOnTxt.visible=!1:e.speedOffBtn.enabled?e.speedOffTxt.visible=!0:e.speedOffTxt.visible=!1,e.topMask.visible=!0,e.setBar.enabled=!1,e.bottomMask.visible=!0):(console.log("手动无红利"),GameConfig.alwaysGame&&(GameConfig.autoPlay=!0,vo.GameData.autoPlayCount=9999));this.getFreeCount()>0&&!GameConfig.freeGame&&(e.hideWin(),this.startGame()),0==this.getFreeCount()&&"freeslot"==vo.GameData.resultData.ActionType&&(console.log("免费游戏结束"),t.getInstance().gameState=GameType.GameState.STOP,vo.GameData.allFreeCount=vo.GameData.TotalActionCount=vo.GameData.resultData.Value.TotalActionCount=0,vo.GameData.autoPlayCount>0&&GameConfig.autoPlay?console.log("自动游戏弹窗 == "+vo.GameData.autoPlayCount):console.log("不是自动游戏按钮状态等 == "+vo.GameData.autoPlayCount))},t.prototype.noMoney=function(){core.UIManager.openUI(core.UIConst.StipsUI,core.LayerManager.Layer_Top);var e=core.UIManager.getUI(core.UIConst.StipsUI);core.UIManager.getUI(core.UIConst.MainScenceUI);e.shows(0,"余额不足，无法下所请求的赌注。","请下一个较低的赌注，或访问 出纳柜台 进行存款。",function(){core.UIManager.closeUI(core.UIConst.StipsUI)})},t.prototype.isJIxuAuto=function(){var e=core.UIManager.getUI(core.UIConst.MainScenceUI);if(e.autoItem.autoBtn.visible=!0,e.autoItem.autoBtn.visible?t.getInstance().gameState==GameType.GameState.STOP?(e.autoItem.autoText_an.visible=!1,e.autoItem.autoText_mode.visible=!0):(e.autoItem.autoText_an.visible=!0,e.autoItem.autoText_mode.visible=!1):(e.autoItem.autoText_an.visible=!1,e.autoItem.autoText_mode.visible=!1),e.autoItem.autoStopGroup.visible=!1,e.autoItem.sMainGroup.visible=!0,e.autoItem.sopAutoBtn.enabled=!0,GameConfig.autoPlay){if(vo.GameData.autoPlayCount=0,GameConfig.autoPlay=!1,!this.isStart)return;core.UIManager.openUI(core.UIConst.StipsUI,core.LayerManager.Layer_Top),GameConfig.emptyPlay=!1;var i=core.UIManager.getUI(core.UIConst.StipsUI);i.showAutoBtn(0,"自动游戏已停止。\n您想重复自动游戏吗？",function(){core.UIManager.closeUI(core.UIConst.StipsUI),e.autoItem.resetDo()},function(){core.UIManager.closeUI(core.UIConst.StipsUI),GameConfig.emptyPlay=!0})}},t.prototype.startGame=function(e){void 0===e&&(e=!1);var i=core.UIManager.getUI(core.UIConst.MainScenceUI);if(this.isStart){i.hideWin(),this.getFreeCount()>0?(i.initFree(),Commond.sendPlay(1)):(vo.GameData.FreeMoney=0,vo.GameData.balance<vo.GameData.betScoreArr[vo.GameData.betIndex]*vo.GameData.line?(GameConfig.autoPlay=!1,vo.GameData.autoPlayCount=0,this.noMoney()):t.getInstance().gameState==GameType.GameState.STOP&&(t.getInstance().gameState=GameType.GameState.PLAYING,GameConfig.autoPlay&&(GameConfig.alwaysGame?(vo.GameData.autoPlayCount=9998,i.autoItem.autoCountLabel.text="直到环节",GameConfig.lastCount=vo.GameData.autoPlayCount):(vo.GameData.autoPlayCount-=1,i.autoItem.autoCountLabel.text=vo.GameData.autoPlayCount+"",GameConfig.lastCount=vo.GameData.autoPlayCount)),Commond.sendPlay(0)));var n=vo.GameData.resultData,o=0;o=n?n.Value.TotalWinDollar:0,i.setReward(0),this.isStart=!1,i.startBtn.visible=!0,i.startBtn.enabled=!1,i.stopBtn.visible=!1,i.infoBtn.enabled=!1,i.betSubBtn.enabled=i.betAddBtn.enabled=!1,i.lineSubBtn.enabled=i.lineAddBtn.enabled=!1,i.autoItem.autoBtn.enabled=!1,GameConfig.autoPlay?(i.autoItem.autoText_mode.visible=!1,i.autoItem.autoText_an.visible=!1):(i.autoItem.autoText_mode.visible=!1,i.autoItem.autoText_an.visible=!0),i.speedOffBtn.enabled=!1,i.speedOnBtn.enabled=!1,GameConfig.speedPlay?i.speedOnBtn.enabled?i.speedOnTxt.visible=!0:i.speedOnTxt.visible=!1:i.speedOffBtn.enabled?i.speedOffTxt.visible=!0:i.speedOffTxt.visible=!1,i.topMask.visible=!0,i.setBar.enabled=!1,i.bottomMask.visible=!0,i.gameScence.startReel()}},t.prototype.getFreeCount=function(){var e=0;return vo.GameData.TotalActionCount>0&&(e=vo.GameData.TotalActionCount),e},t.prototype.getAllFreeCount=function(){var e=vo.GameData.initData.Value.Actions;if(e.freeslot.total,!e)return 0;for(var t=0,i=0;i<e.length;i++)t+=e[i].count;return t},t.prototype.stopGame=function(){var e=core.UIManager.getUI(core.UIConst.MainScenceUI);GameConfig.isData&&(e.gameScence.stopReel(),e.stopBtn.visible=!1,e.startBtn.visible=!0)},t.numberToCommonStr=function(e){for(var t=e+"",i=t.split("."),n=i[0],o="",a=0,s=n.length-1;s>=0;s--)o=n.substr(s,1)+o,a++,3==a&&s>0&&(o=","+o,a=0);return i.length>1?1==i[1].length?o+="."+i[1]+"0":o=o+"."+i[1].substr(0,2):o+=".00",o},t.numberToCommonStr1=function(e){for(var t=e+"",i=t.split("."),n=i[0],o="",a=0,s=n.length-1;s>=0;s--)o=n.substr(s,1)+o,a++,3==a&&s>0&&(o=","+o,a=0);return i.length>1&&(1==i[1].length?o+="."+i[1]+"0":o=o+"."+i[1].substr(0,2)),o},t.prototype.getMoneyIsFull=function(){return vo.GameData.balance>=vo.GameData.betScoreArr[vo.GameData.betIndex]?!0:!1},t}(egret.EventDispatcher);__reflect(GameManager.prototype,"GameManager");var ServerManager=function(e){function t(){var t=e.call(this)||this;return GameConfig.gameModle=GameType.GameModule.falseModle,t}return __extends(t,e),t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.acpetCommond=function(e){var t;switch(e.Parameter.Action){case"Initial":t=JSON.parse(JSON.stringify(serverData.initData));break;case"Play":t=this.resetPlay(e)}GameConfig.gameModle==GameType.GameModule.falseModle?core.NotifyManager.getInstance().sendNotify(e.Parameter.Action,t):sockets.SocketMananger.getInstance().sendMessage(e)},t.prototype.resetPlay=function(e){var t=e.Parameter,i=JSON.parse(JSON.stringify(serverData.playData));i.ActionType=t.Type,i.ActionParameter=t,i.Value.Main.ReelResults=[{Idx:0,Pos:Math.floor(14*Math.random())},{Idx:1,Pos:Math.floor(14*Math.random())},{Idx:2,Pos:Math.floor(14*Math.random())}];for(var n=[[],[],[]],o=serverData.initData.Value.Symbolstripes.Main.Stripes,a=0;a<o.length;a++)for(var s=o[a].Symbols,r=i.Value.Main.ReelResults[a].Pos+1>s.length-1?0:i.Value.Main.ReelResults[a].Pos+1,h=0;h<Reel.ShowNum;h++)n[a].push(s[(r+h)%s.length]);var l=[];"M0"==n[0][1]&&"M0"==n[1][1]&&"M0"==n[2][1]?l.push({Type:"Line",Symbol:"M0",SymbolCount:3,Positions:[{X:0,Y:1},{X:1,Y:1},{X:2,Y:1}],Data:{Line:2,PayType:"RL"},Reward:{BetMultiplier:88},Bet:1,Win:88*t.Denom,Multipliers:[100,1]}):"M1"==n[0][1]&&"M1"==n[1][1]&&"M1"==n[2][1]?l.push({Type:"Line",Symbol:"M1",SymbolCount:3,Positions:[{X:0,Y:1},{X:1,Y:1},{X:2,Y:1}],Data:{Line:2,PayType:"RL"},Reward:{BetMultiplier:58},Bet:1,Win:58*t.Denom,Multipliers:[100,1]}):"M2"==n[0][1]&&"M2"==n[1][1]&&"M2"==n[2][1]?l.push({Type:"Line",Symbol:"M2",SymbolCount:3,Positions:[{X:0,Y:1},{X:1,Y:1},{X:2,Y:1}],Data:{Line:2,PayType:"RL"},Reward:{BetMultiplier:28},Bet:1,Win:28*t.Denom,Multipliers:[100,1]}):"BN"!=n[0][1]&&"BN"!=n[1][1]&&"BN"!=n[2][1]&&l.push({Type:"all",Symbol:"Random",SymbolCount:3,Positions:[{X:0,Y:1},{X:1,Y:1},{X:2,Y:1}],Data:{Line:2,PayType:"RL"},Reward:{BetMultiplier:8},Bet:1,Win:8*t.Denom,Multipliers:[100,1]}),i.Value.Main.WinResults=l,i.Value.Main.ReelSymbols=n;for(var c=0,a=0;a<l.length;a++)c+=l[a].Win;return i.Value.Main.TotalWin=c,i.Value.Main.TotalWinDollar=c/GameConfig.bili,serverData.initData.Value.TokenInfo.Balance=serverData.initData.Value.TokenInfo.Balance+i.Value.Main.TotalWinDollar-t.Denom/GameConfig.bili,i.Value.Balance=serverData.initData.Value.TokenInfo.Balance,i},t.prototype.isallNum=function(e,t){for(var i=0;i<t.length;i++)if(e==t[i])return!0;return!1},t.prototype.isAllW=function(e){for(var t=0;t<e.length;t++)for(var i=e[t],n=i[0],o=0;o<i.length;o++)if(n!=i[o])return!1;return!0},t}(egret.EventDispatcher);__reflect(ServerManager.prototype,"ServerManager");var serverData=function(){function e(){}return e.initData={Action:"Initial",ProcessTime:{Spend:0},ScreenData:{ScreenActions:[{Status:"Initial"}]},IsSuccess:!0,Marquees:"",Message:"",kick_rightnow:!1,Value:{MC_Reset_At:"2019-04-24 10:11:02",SpinConstraint:{Lines:[1,2,3,4,5],MinLineBet:1,MaxLineBet:1e3,MinDenom:1,MaxDenom:2147483647},FreeLine:[],JackpotPaytables:{1:279,2:558,3:837,4:1116},Symbolstripes:{Main:{Stripes:[{Symbols:["M2","BN","M2","BN","M0","BN","M1","BN","M2","BN","M1","BN","M2","BN","M2","BN"]},{Symbols:["M2","BN","M2","BN","M0","BN","M1","BN","M2","BN","M1","BN","M2","BN","M2","BN"]},{Symbols:["M2","BN","M2","BN","M0","BN","M1","BN","M2","BN","M1","BN","M2","BN","M2","BN"]}]}},Geninit:{Main:{ReelResults:[{Idx:0,Pos:0},{Idx:1,Pos:0},{Idx:2,Pos:0}],ReelSymbols:[["WW","WW","WW"],["WW","WW","WW"],["WW","WW","WW"]],StripesCode:"E0qVFEFC97AqoF0riEJANg",TotalBet:0,TotalWin:0,WinResults:[]}},Denoms:[500,1e3,2e3,5e3,1e4,2e4,5e4,1e5,2e5,25e4,5e5,1e6,2e6],Status:{CurrentAction:"Initial",CurrentActionType:"slot",GameLevel:"1",GameLevel_UpCount:"0"},Actions:null,LastRound:{LastRoundId:"3e9e115565226945178",LastRoundResult:{RoundId:"3e9e115565226945178",SubRoundId:0,SessionData:{Bet:10,Multiply:1},TotalBet:1e3,TotalWin:0,TotalBetDollar:.1,TotalWinDollar:0,Denom:10,ScreenData:[],Main:{MathVersion:"triple_monkey",TotalBet:1e3,TotalWin:0,TotalBetDollar:.1,TotalWinDollar:0,Denom:10,ReelSymbols:[["M1","M0","M0"],["M2","M4","M1"],["M2","M1","M2"]],WinResults:[]},Status:{CurrentAction:"Play",CurrentActionType:"slot",GameLevel:"1",GameLevel_UpCount:"0"},Actions:null}},TokenInfo:{Balance:10.2,Currency:"CNY",FrontEndDebug:1}}},e.playData={Action:"Play",ProcessTime:{Spend:0},ScreenData:{},IsSuccess:!0,Marquees:[],Message:"",kick_rightnow:!1,ActionType:"freeslot",ActionParameter:{Action:"Play",Type:"freeslot",Line:5,Bet:1,Denom:100,SessionData:{Bet:.05}},Value:{RoundId:"3e9e115565229947859",SubRoundId:0,SessionData:{Bet:.05},TotalBet:500,TotalWin:5e4,TotalBetDollar:.45,TotalWinDollar:.15,Denom:10,ScreenData:[],FreeLine:[],Main:{MathVersion:"triple_monkey",TotalBet:500,TotalWin:5e4,TotalBetDollar:.05,TotalWinDollar:5,Denom:10,ReelSymbols:[["M0","M0","M3"],["M1","M2","M3"],["M3","M2","M1"]],WinResults:[{Type:"Line",Symbol:"M2",SymbolCount:3,Positions:[{X:0,Y:1},{X:1,Y:1},{X:2,Y:1}],Data:{Line:2,PayType:"RL"},Bet:500,Win:5e4,Multipliers:[100,1]}],ReelResults:[{Idx:0,Pos:4},{Idx:1,Pos:16},{Idx:2,Pos:28}]},Status:{CurrentAction:"Play",CurrentActionType:"freeslot"},Actions:[],Balance:180583851.93}},e}();__reflect(serverData.prototype,"serverData");