function createBitmapByName(t){var e=new egret.Bitmap,n=RES.getRes(t);return e.texture=n,e}function createBitmapFromSheet(t,e){void 0===e&&(e="gameRes");var n=RES.getRes(e),i=n.getTexture(t),o=new egret.Bitmap;return o.texture=i,o}function getTextureFromSheet(t,e){void 0===e&&(e="gameRes");var n=RES.getRes(e),i=n.getTexture(t);return i}function dateFtt(t,e){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in n)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return t}var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},__awaiter=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function r(t){try{h(i.next(t))}catch(e){a(e)}}function s(t){try{h(i["throw"](t))}catch(e){a(e)}}function h(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(r,s)}h((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;h;)try{if(o=1,a&&(r=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(r=r.call(a,n[1])).done)return r;switch(a=0,r&&(n=[0,r.value]),n[0]){case 0:case 1:r=n;break;case 4:return h.label++,{value:n[1],done:!1};case 5:h.label++,a=n[1],n=[0];continue;case 7:n=h.ops.pop(),h.trys.pop();continue;default:if(r=h.trys,!(r=r.length>0&&r[r.length-1])&&(6===n[0]||2===n[0])){h=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){h.label=n[1];break}if(6===n[0]&&h.label<r[1]){h.label=r[1],r=n;break}if(r&&h.label<r[2]){h.label=r[2],h.ops.push(n);break}r[2]&&h.ops.pop(),h.trys.pop();continue}n=e.call(t,h)}catch(i){n=[6,i],a=0}finally{o=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,r,s,h={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},core;!function(t){var e=function(){function t(t,e){this.callback=t,this.thisObj=e}return t}();t.Callback=e,__reflect(e.prototype,"core.Callback")}(core||(core={}));var core;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(egret.EventDispatcher);t.BaseModel=e,__reflect(e.prototype,"core.BaseModel")}(core||(core={}));var BaseTips=function(t){function e(){var e=t.call(this)||this;return e.touchEnabled=!1,e}return __extends(e,t),e}(eui.Component);__reflect(BaseTips.prototype,"BaseTips");var core;!function(t){var e=function(e){function n(){var n=e.call(this)||this;return n.eventPool=[],n.initSize(),n.addEventListener(egret.Event.ADDED_TO_STAGE,n.onAdd,n),n.addEventListener(egret.Event.REMOVED_FROM_STAGE,n.onRemove,n),t.LayerManager.getInstance().addEventListener(SetEvent.SET_OR_CHANGE,n.onOChange,n),n.onOChange(),n}return __extends(n,e),n.prototype.onOChange=function(){var t=this;egret.clearTimeout(this.ts);window.innerHeight/window.innerWidth;window.innerWidth>=window.innerHeight?("iOS"==egret.Capabilities.os&&(window.$("#gamediv").css("height",window.innerHeight+1),window.$("#gamediv").css("width",window.innerWidth+1)),this.currentState="hor",egret.MainContext.instance.stage.setContentSize(1334,750)):("iOS"==egret.Capabilities.os&&(window.$("#gamediv").css("height",window.innerHeight+1),window.$("#gamediv").css("width",window.innerWidth+1)),this.currentState="ver",egret.MainContext.instance.stage.setContentSize(750,GameConfig.HEIGHT)),this.ts=egret.setTimeout(function(){t.onResize()},this,300)},n.prototype.upDataStateVer=function(){},n.prototype.upDataStateHor=function(){},n.prototype.onResize=function(){egret.updateAllScreens(),window.innerWidth>=window.innerHeight?this.updataHor():this.updataVer()},n.prototype.updataHor=function(){var e=t.UIManager.getUI(t.UIConst.MainScenceUI);e&&e.setUI.updataState()},n.prototype.updataVer=function(){var e=t.UIManager.getUI(t.UIConst.MainScenceUI);e&&e.setUI.updataState()},n.prototype.initSize=function(){this.top=0,this.left=0,this.bottom=0,this.right=0},n.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},n.prototype.onAdd=function(){this.isShow=!0,this.initListener()},n.prototype.onRemove=function(){this.clearEvent(),t.NotifyManager.getInstance().removeRegister(this)},n.prototype.registerEvent=function(t,e,n,i){t.addEventListener(e,n,i),this.eventPool.push({target:t,type:e,callback:n,callbackobj:i})},n.prototype.clearEvent=function(){if(this.eventPool.length>0)for(var t=0;t<this.eventPool.length;t++){var e=this.eventPool[t].target,n=this.eventPool[t].type,i=this.eventPool[t].callback,o=this.eventPool[t].callbackobj;e.removeEventListener(n,i,o)}},n.prototype.initListener=function(){},n.prototype.addRegister=function(e,n,i){t.NotifyManager.getInstance().registerNotify(e,n,i)},n.prototype.removeRegister=function(e){t.NotifyManager.getInstance().removeRegister(e)},n.prototype.close=function(){this.isShow=!1,this.parent&&this.parent.removeChild(this)},n}(eui.Component);t.BaseUI=e,__reflect(e.prototype,"core.BaseUI");var n=function(){function t(){}return t}();t.EventObj=n,__reflect(n.prototype,"core.EventObj")}(core||(core={}));var MosueCheckBox=function(t){function e(){var e=t.call(this)||this;return mouse.setButtonMode(e,!0),e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAdd,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.onRemove,e),e}return __extends(e,t),e.prototype.onAdd=function(){this.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOver,this),this.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOut,this),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onRollOut,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onRollOver,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onRollOut,this)},e.prototype.onRemove=function(){this.onRollOut(),this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOut,this),this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onRollOut,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onRollOver,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onRollOut,this)},e.prototype.onRollOver=function(){0==this.enabled&&(this.currentState=this.selected?"rollOverAndDisabled":"disabled"),this.selected?this.currentState="rollOverAndSelected":this.currentState="rollOver",this.dispatchEventWith(egret.Event.CHANGE)},e.prototype.onRollOut=function(){this.currentState="",this.dispatchEventWith(egret.Event.CHANGE)},e.prototype.onClick=function(){SoundManager.getInstance().playEffect(SoundConst.CHECKSTART)},e}(eui.CheckBox);__reflect(MosueCheckBox.prototype,"MosueCheckBox");var MouseButton=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAdd,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.onRemove,e),mouse.setButtonMode(e,!0),e}return __extends(e,t),e.prototype.onAdd=function(){this.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOver,this),this.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOut,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onRollOver,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onRollOut,this),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onRollOut,this)},e.prototype.onRemove=function(){this.onRollOut(),this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOut,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onRollOver,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onRollOut,this),this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onRollOut,this)},e.prototype.onRollOver=function(){0!=this.enabled&&(this.currentState="rollOver",this.dispatchEventWith(egret.Event.CHANGE))},e.prototype.onRollOut=function(){this.currentState="",this.dispatchEventWith(egret.Event.CHANGE)},e.prototype.onClick=function(){SoundManager.getInstance().playEffect(SoundConst.CHECKSTART)},e}(eui.Button);__reflect(MouseButton.prototype,"MouseButton");var MyCompoment=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAdd,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.onRemove,e),e}return __extends(e,t),e.prototype.onAdd=function(){},e.prototype.onRemove=function(){},e}(eui.Component);__reflect(MyCompoment.prototype,"MyCompoment");var DesButton=function(t){function e(){var e=t.call(this)||this;return e.skinName=DesButtonSkin,e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SoundManager.getInstance().playEffect(SoundConst.CHECKSTART)},this)},Object.defineProperty(e.prototype,"enable",{get:function(){return this.btn.enabled},set:function(t){this.btn.enabled=t,this.updataText(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.tLabel.text},set:function(t){this.tLabel.text=t},enumerable:!0,configurable:!0}),e.prototype.updataText=function(t){this.tLabel.textColor=t?9738398:6711920},e}(eui.Component);__reflect(DesButton.prototype,"DesButton");var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,n){function i(i){e.call(n,i,t)}if(RES.hasRes(t)){var o=RES.getRes(t);o?i(o):RES.getResAsync(t,i,this)}else RES.getResByUrl(t,i,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var Dictionary=function(){function t(){this.m_keys=[],this.m_values=[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.m_keys.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){return this.m_values.concat()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keys",{get:function(){return this.m_keys.concat()},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.m_keys.indexOf(t)},t.prototype.add=function(t,e){var n=this.indexOf(t);n>=0?this.m_values[n]=e:(this.m_keys.push(t),this.m_values.push(e))},t.prototype.get=function(t){var e=this.indexOf(t);return e>=0?this.m_values[e]:null},t.prototype.remove=function(t){var e=this.indexOf(t);return e>=0?(this.m_keys.splice(e,1),this.m_values.splice(e,1)[0]):null},t.prototype.clear=function(){this.m_keys.length=0,this.m_values.length=0},t.prototype.getRandomData=function(){var t=Math.random()*this.keys.length<<0;return this.m_values[t]},t}();__reflect(Dictionary.prototype,"Dictionary");var core;!function(t){var e=function(){function t(t){this.data=t}return t}();t.Node=e,__reflect(e.prototype,"core.Node")}(core||(core={}));var core;!function(t){var e=function(){function e(e,n){if(void 0===n&&(n=!1),this.m_list=[],e)for(var i=0,o=e.length;o>i;i++){var a=new t.Node(e[i]);this.m_list.push(a)}for(var r=this.m_list,i=0,o=r.length;o>i;i++){var a=r[i];i+1==o?a.nextNode=n?r[0]:null:a.nextNode=r[i+1],0==i?a.preNode=n?r[o-1]:null:a.preNode=r[i-1]}}return e.prototype.getLen=function(){return this.m_list.length},e.prototype.getFirst=function(){return this.m_list[0]},e.prototype.getEnd=function(){return this.m_list[this.m_list.length-1]},e.prototype.getNode=function(t){return this.m_list[t]},e.prototype.clear=function(){this.m_list.length=0},e}();t.NodeList=e,__reflect(e.prototype,"core.NodeList")}(core||(core={}));var Main=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(t){}),egret.lifecycle.onPause=function(){},egret.lifecycle.onResume=function(){};var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(t){console.log(t)})},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,this.loadResource()];case 1:return e.sent(),this.createGameScene(),[4,platform.login()];case 2:return e.sent(),[4,platform.getUserInfo()];case 3:return t=e.sent(),[2]}})})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return e.sent(),[4,this.loadTheme()];case 2:return e.sent(),[4,RES.loadGroup("preload",0)];case 3:return e.sent(),[3,5];case 4:return t=e.sent(),console.error(t),[3,5];case 5:return[2]}})})},e.prototype.loadTheme=function(){var t=this;return new Promise(function(e,n){var i=new eui.Theme("resource/default.thm.json",t.stage);i.addEventListener(eui.UIEvent.COMPLETE,function(){e()},t)})},e.prototype.createGameScene=function(){GameModleManger.getInstance().init(this.stage),GameManager.getInstance().init()},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,n=RES.getRes(t);return e.texture=n,e},e}(eui.UILayer);__reflect(Main.prototype,"Main");var ComonModelManager=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(core.BaseModel);__reflect(ComonModelManager.prototype,"ComonModelManager");var core;!function(t){var e=function(){function t(){if(this._deltaTime=0,t._instance)throw new Error("DateTimer使用单例")}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.run=function(){this._deltaTime=0},Object.defineProperty(t,"deltatime",{get:function(){return t.instance._deltaTime},enumerable:!0,configurable:!0}),t.prototype.updateServerTime=function(t){this._deltaTime=egret.getTimer()-1e3*t},Object.defineProperty(t.prototype,"now",{get:function(){return Math.floor((egret.getTimer()-this._deltaTime)/1e3)},enumerable:!0,configurable:!0}),t}();t.DateTimer=e,__reflect(e.prototype,"core.DateTimer")}(core||(core={}));var core;!function(t){var e=function(){function t(){this.m_callbacks=[]}return t.getInstance=function(){return null==t.s_instance&&(t.s_instance=new t),t.s_instance},t.prototype.init=function(t){this.m_stage=t,this.m_stage?(this.m_preTick=Date.now(),this.m_stage.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)):egret.log("Stage为null不能开启帧循环监听")},t.prototype.onEnterFrame=function(t){var e=Date.now(),n=this.m_callbacks;if(n){for(var i=n.length;i>0;i--){var o=n[i-1];o.isValid||n.splice(i-1,1)}for(var i=0,a=n.length;a>i;i++){var o=n[i];o.isValid&&o.callback&&o.callback.call(o.thisObj,e-this.m_preTick)}}this.m_preTick=e},t.prototype.addFrameEventListener=function(t,e){if(t&&e){var i=new n(t,e);this.m_callbacks.push(i)}},t.prototype.removeFrameEventListener=function(t,e){var n=this.m_callbacks;if(n)for(var i=0,o=n.length;o>i;i++){var a=n[i];a.callback===t&&a.thisObj===e&&(a.isValid=!1)}},t}();t.FrameEventCenter=e,__reflect(e.prototype,"core.FrameEventCenter");var n=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.isValid=!0,i}return __extends(e,t),e.prototype.clone=function(){var t=new e(this.callback,this.thisObj);return t.index=this.index,t.isValid=this.isValid,t},e}(t.Callback);__reflect(n.prototype,"FrameCallBack")}(core||(core={}));var GameModleManger=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.init=function(t){KeyBoardManager.getInstance().init();var e=new eui.UILayer;t.addChild(e),core.LayerManager.getInstance().initLayer(e),core.FrameEventCenter.getInstance().init(t),core.DateTimer.instance.run(),this.moduleMap=new Dictionary,SoundManager.getInstance().loadLocalData(),this.startCheckHashCount(),LayerSetManager.getInstance().init(),GameConfig.CasinoGame=window.CasinoGame},e.prototype.startCheckHashCount=function(){var t=egret.$hashCount;setInterval(function(){var e=egret.$hashCount,n=e-t;t=e,n>100&&console.log("性能消耗过大->"+n)},1e3)},e.prototype.getModle=function(t){if(void 0===t&&(t=core.ModleConst.COMMON_MODLE),!this.moduleMap[t]){var e=egret.getDefinitionByName(t);this.moduleMap[t]=new e}return this.moduleMap[t]},e}(egret.EventDispatcher);__reflect(GameModleManger.prototype,"GameModleManger");var KeyBoardManager=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.init=function(){this.kb=new KeyBoard,this.kb.addEventListener(KeyBoard.onkeydown,this.onkeydown,this)},e.prototype.onkeydown=function(t){this.kb.isContain(t.data,KeyBoard.SPACE)},e}(egret.EventDispatcher);__reflect(KeyBoardManager.prototype,"KeyBoardManager");var core;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.getInstance=function(){return this._instance||(this._instance=new n),this._instance},n.prototype.initLayer=function(t){var e=this;this.scenceLayer=new eui.UILayer,this.uiLayer=new eui.UILayer,this.topLayer=new eui.UILayer,this.tipLayer=new eui.UILayer,this.scenceLayer.touchThrough=!0,this.uiLayer.touchThrough=!0,this.topLayer.touchThrough=!0,this.tipLayer.touchThrough=!0,this.tipLayer.touchEnabled=!1,t.addChild(this.scenceLayer),t.addChild(this.uiLayer),t.addChild(this.topLayer),t.addChild(this.tipLayer);window.onresize=function(){e.dispatchEventWith(SetEvent.SET_OR_CHANGE)}},n.prototype.addUI=function(t,e){void 0===e&&(e=1);switch(e){case n.Layer_Scence:this.scenceLayer.addChild(t);break;case n.Layer_UI:this.uiLayer.addChild(t);break;case n.Layer_Top:this.topLayer.addChild(t);break;case n.Layer_Tip:this.tipLayer.addChild(t)}},n.prototype.deleteUI=function(t,e){void 0===e&&(e=1);switch(e){case n.Layer_Scence:this.scenceLayer.removeChild(t);break;case n.Layer_UI:this.uiLayer.removeChild(t);break;case n.Layer_Top:this.topLayer.removeChild(t);break;case n.Layer_Tip:this.tipLayer.removeChild(t)}},n.prototype.getLayer=function(e){return e==t.LayerManager.Layer_Scence?this.scenceLayer:e==t.LayerManager.Layer_UI?this.uiLayer:e==t.LayerManager.Layer_Top?this.topLayer:e==t.LayerManager.Layer_Tip?this.tipLayer:void 0},n.Layer_Scence=0,n.Layer_UI=1,n.Layer_Top=2,n.Layer_Tip=3,n}(egret.EventDispatcher);t.LayerManager=e,__reflect(e.prototype,"core.LayerManager")}(core||(core={}));var LayerSetManager=function(t){function e(){var e=t.call(this)||this;return e.s=GameConfig.HEIGHT/GameConfig.WIDTH,e}return __extends(e,t),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.init=function(){var t=this;window.scrollTo(0,0);var e=window.innerWidth>window.innerHeight,n=e?160:162,i=e?83:85,o=window.innerWidth/2-n/2,a=window.innerHeight/2-i/2-10,r=window.$;r("#nvImg").css({left:o,top:a,width:n,height:i});var s,h=this;if(window.addEventListener("onorientationchange"in window?"orientationchange":"resize",function(){clearTimeout(s),s=setTimeout(function(){var t=window.innerWidth>window.innerHeight,e=t?160:162,n=t?83:85,i=window.innerWidth/2-e/2,o=window.innerHeight/2-n/2-10;r("#nvImg").css({left:i,top:o,width:e,height:n}),"iOS"==egret.Capabilities.os&&h.resizeCompete()},200)}),"iOS"==egret.Capabilities.os){var c=window.$;c("#nvLayer").show(),window.onscroll=function(){egret.clearTimeout(t.timeout),t.timeout=egret.setTimeout(function(){t.resizeCompete()},t,200)}}},e.prototype.resizeCompete=function(){var t=window.$;if(window.innerHeight>=window.innerWidth)console.log("h",window.screen.height),console.log("w",window.innerHeight),window.screen.height-window.innerHeight>=100?t("#nvLayer").show():t("#nvLayer").hide();else{var e=window.screen.width-window.innerHeight;Math.abs(e)<2?t("#nvLayer").hide():t("#nvLayer").show()}window.scrollTo(0,0),core.LayerManager.getInstance().dispatchEventWith(SetEvent.SET_OR_CHANGE)},e}(egret.EventDispatcher);__reflect(LayerSetManager.prototype,"LayerSetManager");var core;!function(t){var e=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.getInstance=function(){return this.instance||(this.instance=new n),this.instance},n.prototype.loadGroup=function(e,n,i,o){void 0===e&&(e=t.UIConst.NomalLoadingUI),RES.isGroupLoaded(n)?i.call(o):(t.UIManager.openUI(e,t.LayerManager.Layer_Top),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,function(n){var i=t.UIManager.getUI(e);i.setPross(n.itemsLoaded,n.itemsTotal),console.log(n.itemsLoaded+"/"+n.itemsTotal)},this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,function(a){if(a.groupName==n){i.call(o);t.UIManager.getUI(e);t.UIManager.closeUI(e)}},this),RES.loadGroup(n))},n}(egret.EventDispatcher);t.LoadManger=e,__reflect(e.prototype,"core.LoadManger")}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t.COMMON_MODLE="ComonModelManager",t}();t.ModleConst=e,__reflect(e.prototype,"core.ModleConst")}(core||(core={}));var core;!function(t){var e=function(){function t(){}return t.HEART_CHECK="HEART_CHECK",t.RECONETING="RECONETING",t.RECONET_SUC="RECONET_SUC",t.WX_JSSDK_CONFIG="WX_JSSDK_CONFIG",t.LOGIC_XIAOCHU="LOGIC_XIAOCHU",t.LOGIC_DROP="LOGIC_DROP",t.LOGIC_DATACHANGE="LOGIC_DATACHANGE",t.LOGIC_BALANCE="LOGIC_BALANCE",t.LOGIC_ROUNDOVER="LOGIC_ROUNDOVER",t.LOGIC_ROUNDSTART="LOGIC_ROUNDSTART",t.NET_INIT="Initial",t.NET_PLAY="Play",t.NET_TOUCHTOKEN="TouchToken",t}();t.NotifyConst=e,__reflect(e.prototype,"core.NotifyConst")}(core||(core={}));var core;!function(t){var e=function(){function t(){this.notifyPool={}}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.registerNotify=function(t,e,n){this.notifyPool[t]||(this.notifyPool[t]=[]),this.notifyPool[t].push({callback:e,callbackobj:n})},t.prototype.sendNotify=function(t,e){void 0===e&&(e=null);var n=this.notifyPool[t];if(n&&n.length>0)for(var i=0;i<n.length;i++)n[i].callback.apply(n[i].callbackobj,[e])},t.prototype.removeRegister=function(t){for(var e in this.notifyPool){var n=this.notifyPool[e];if(n&&n.length>0){for(var i=0;i<n.length;i++)n[i].callbackobj==t&&n.splice(i--,1);0==n.length&&delete this.notifyPool[e]}}},t}();t.NotifyManager=e,__reflect(e.prototype,"core.NotifyManager")}(core||(core={}));var core;!function(t){var e=function(){function t(){if(t.s_instance)throw new Error("单例类不可实例化");egret.startTick(this.onTick,this),this.m_tickList=[]}return t.prototype.onTick=function(t){for(var e=this.m_tickList,n=e.length;n>0;n--){var i=e[n-1];i.isValid||e.splice(n-1,1)}for(var n=0,o=e.length;o>n;n++){var i=e[n];if(t-i.timestamp>i.delay){if(i.timestamp=t,i.count++,i.callback){egret.getTimer();i.callback.call(i.thisObj,i.clone());egret.getTimer()}i.count==i.maxCount&&(i.isValid=!1)}}return!1},t.prototype.addTick=function(t,e,i,o){for(var a=[],r=4;r<arguments.length;r++)a[r-4]=arguments[r];var s=this.m_tickList;if(s)for(var h=0,c=s.length;c>h;h++){var l=s[h];if(l.callback==i&&l.thisObj==o&&l.delay==t&&l.maxCount==e)return void(l.isValid||(l.isValid=!0,l.delay=t,l.count=0,l.maxCount=0>=e?Number.MAX_VALUE:e,l.callback=i,l.thisObj=o,l.args=a,l.timestamp=egret.getTimer()))}else s=[],this.m_tickList=s;var u=new n;u.delay=t,u.count=0,u.maxCount=0>=e?Number.MAX_VALUE:e,u.callback=i,u.thisObj=o,u.args=a,u.timestamp=egret.getTimer(),u.isValid=!0,s.push(u)},t.prototype.removeTick=function(t,e){var n=this.m_tickList;if(n)for(var i=0,o=n.length;o>i;i++){var a=n[i];if(a.callback==t&&a.thisObj==e)return void(a.isValid=!1)}},t.prototype.removeTicks=function(t){var e=this.m_tickList;if(e)for(var n=0,i=e.length;i>n;n++){var o=e[n];o.thisObj==t&&(o.isValid=!1)}},t.prototype.removeAllTicks=function(){this.m_tickList.length=0},Object.defineProperty(t,"instance",{get:function(){return null==t.s_instance&&(t.s_instance=new t),t.s_instance},enumerable:!0,configurable:!0}),t}();t.TimerManager=e,__reflect(e.prototype,"core.TimerManager");var n=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.clone=function(){var t=new e;return t.delay=this.delay,t.count=this.count,t.maxCount=this.maxCount,t.callback=this.callback,t.thisObj=this.thisObj,t.args=this.args,t.isValid=this.isValid,t},e}(egret.HashObject);__reflect(n.prototype,"TickData")}(core||(core={}));var core;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.WEIXIN_DEBUG=!0,t.init(),t}return __extends(n,e),n.getInstance=function(){return this._instance||(this._instance=new n),this._instance},n.prototype.init=function(){t.NotifyManager.getInstance().registerNotify(t.NotifyConst.WX_JSSDK_CONFIG,this.onNotifyJSSDK,this)},n.prototype.config=function(){if(Utils.isWeiXin()&&Utils.getURLQueryString("openid")){this.wx=window.wx;encodeURIComponent(window.location.href)}},n.prototype.onNotifyJSSDK=function(t){console.log("微信配置1",t);var e=this;this.wx.config({debug:t.data.debug,appId:t.data.appId,timestamp:t.data.timestamp,nonceStr:t.data.nonceStr,signature:t.data.signature,jsApiList:t.data.jsApiList}),this.wx.ready(function(){e.shareNomal(t.data.url)}),this.wx.error(function(t){})},n.prototype.shareNomal=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=""),this.shareURL=t,e="生态农场开始种植";window.wx},n}(egret.EventDispatcher);t.WeiXinManager=e,__reflect(e.prototype,"core.WeiXinManager")}(core||(core={}));var Commond=function(){function t(){}return t.sendHeartCheck=function(){},t.checkPlayer=function(){var e=t.initData();e.Parameter={Action:"Status",Type:"list_redis",PartnerId:e.PartnerId,McDebug:1},sockets.SocketMananger.getInstance().sendMessage(e)},t.sendInitGame=function(){var e=t.initData();e.Action="Initial",e.Parameter={Action:"Initial",Type:null,PartnerId:e.PartnerId,McDebug:1},GameConfig.gameModle==GameType.GameModule.trueModle?GameManager.getInstance().onNetgGmeInit({}):sockets.SocketMananger.getInstance().sendMessage(e)},t.sendPlay=function(e){void 0===e&&(e=!1);var n=t.initData();n.Action="Play",n.Parameter={Action:"Play",Type:e?"freeslot":"slot",Line:vo.GameData.line,Bet:1,Denom:1e4*vo.GameData.betScoreArr[vo.GameData.betIndex],PlayerId:GameConfig.CasinoGame.PlayerId,BetSetup:{Line:vo.GameData.line,Bet:vo.GameData.betScoreArr[vo.GameData.betIndex],Multiply:1},SessionData:{Bet:1,Multiply:10},DebugMode:"None"},GameConfig.gameModle==GameType.GameModule.trueModle?GameManager.getInstance().onNetGamePlay({}):sockets.SocketMananger.getInstance().sendMessage(n)},t.sendBonus=function(e,n){void 0===e&&(e=1),void 0===n&&(n=0);var i=null;1==e?i=GameType.GameType.treasure:2==e&&(i=GameType.GameType.treasure2);var o=t.initData();o.Action="Play",o.Parameter={Type:i,BetSetup:{Bet:1,Line:vo.GameData.line+1,Multiply:vo.GameData.betScoreArr[vo.GameData.betIndex]}},sockets.SocketMananger.getInstance().sendMessage(o)},t.initData=function(){var t={};return t.Link_auth=GameConfig.CasinoGame.Link_auth,t.GameCode=GameConfig.CasinoGame.GameCode,t.Game_id=GameConfig.CasinoGame.Game_id,t.PlayerId=GameConfig.CasinoGame.PlayerId,t.Skin=GameConfig.CasinoGame.Skin,t.PartnerId=GameConfig.CasinoGame.PartnerId,t.UrlBase=GameConfig.CasinoGame.UrlBase,t.Token=GameConfig.CasinoGame.Token,t.IP=GameConfig.CasinoGame.IP,t.Language=GameConfig.CasinoGame.Language,t.GameCanvas=GameConfig.CasinoGame.GameCanvas,t.vtoken_interval=GameConfig.CasinoGame.vtoken_interval,t.guset=GameConfig.CasinoGame.guest,t.udf1=GameConfig.CasinoGame.udf1,t.udf2=GameConfig.CasinoGame.udf2,t.udf3=GameConfig.CasinoGame.udf3,t.udf4=GameConfig.CasinoGame.udf4,t.udf5=GameConfig.CasinoGame.udf5,t.NjsHost=GameConfig.CasinoGame.NjsHost,t.Denom=GameConfig.CasinoGame.Denom,t.crnex=GameConfig.CasinoGame.crnex,t.UrlRes=GameConfig.CasinoGame.UrlRes,t},t.index=0,t}();__reflect(Commond.prototype,"Commond");var GameController=function(){function t(){this.sequence=0,this.key="a95c530a7af5f492a74499e70578d150",this.serverAddress="http://54.95.43.201/80101/99"}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.getSeq=function(){return this.sequence++,this.sequence},t.prototype.sendHttp=function(t,e,n,i){var o=new XMLHttpRequest;o.open(e,n,!0),o.setRequestHeader("Content-Type","application/json"),o.onload=function(t){switch(o.status){case 200:var e=JSON.parse(o.responseText);e.status>0&&TipsManager.getInstance().showTips(ErrorCode.codeArr[e.status]),void 0!=e.server_time&&core.DateTimer.instance.updateServerTime(e.server_time),TipsManager.getInstance().showLog("receive---",e),i.call(this,e)}},o.send(JSON.stringify(t)),TipsManager.getInstance().showLog("send---",JSON.stringify(t))},t.prototype.clearRedis=function(){},t}();__reflect(GameController.prototype,"GameController");var sockets;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.url=GameConfig.CasinoGame.UrlBase,e.netState=-1,e.reconetCount=0,e.reconetMaxCount=3,e.isTips=!1,e}return __extends(e,t),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.init=function(){var t=this;this.heart=new n(this),this.sock.on("connect",this.onSocketOpen.bind(this)),this.sock.on("disconnect",this.onSocketClose.bind(this)),this.sock.on("connect_error",function(){0==t.isTips&&(NetUI.getInstance().showNetting(),t.isTips=!0)}),this.sock.on("error",this.onSocketError.bind(this)),this.sock.on("ResponseResult",this.onReceiveMessage.bind(this))},e.prototype.connectServer=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),NetUI.getInstance().showNetting(),this.callFunction=t,this.callObj=e,this.sock=io.connect(this.url),this.init()},e.prototype.onSocketClose=function(){console.log("连接关闭"),0==this.isTips&&(NetUI.getInstance().showNetting(),this.isTips=!0)},e.prototype.onSocketError=function(){console.log("连接异常"),0==this.isTips&&(NetUI.getInstance().showNetting(),this.isTips=!0)},e.prototype.onSocketOpen=function(t){NetUI.getInstance().hideNetting(),core.UIManager.closeUI(core.UIConst.NetCloseUI),console.log(0==this.reconetCount?"init连接":"reconect连接"),this.heart.reset(),this.netState=0,this.isTips=!1,this.callFunction&&this.callObj&&0==this.reconetCount&&this.callFunction.call(this.callObj),this.reconetCount+=1},e.prototype.onReceiveMessage=function(t){var e=JSON.parse(t);console.log("返回obj",e),core.NotifyManager.getInstance().sendNotify(e.Action,e)},e.prototype.sendMessage=function(t){console.log(t),this.sock.emit("Action",JSON.stringify(t))},e.prototype.reconet=function(){var t=this;this.netState=0,this.connectServer(function(){t.netState=1,Commond.index=0,core.NotifyManager.getInstance().sendNotify(core.NotifyConst.RECONET_SUC)},this)},e}(egret.EventDispatcher);t.SocketMananger=e,__reflect(e.prototype,"sockets.SocketMananger");var n=function(){function t(t){this.timeout=GameConfig.CasinoGame.vtoken_interval,this.timeoutObj=null,this.serverTimeoutObj=null,this.manager=t}return t.prototype.reset=function(){egret.clearInterval(this.inter),this.start()},t.prototype.start=function(){this.inter=egret.setInterval(function(){Commond.sendHeartCheck()},this,1e3*this.timeout)},t}();__reflect(n.prototype,"HeartCheck")}(sockets||(sockets={}));var qr;!function(t){var e=function(){function e(e){this.mode=t.QRMode.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var n=0,i=this.data.length;i>n;n++){var o=[],a=this.data.charCodeAt(n);a>65536?(o[0]=240|(1835008&a)>>>18,o[1]=128|(258048&a)>>>12,o[2]=128|(4032&a)>>>6,o[3]=128|63&a):a>2048?(o[0]=224|(61440&a)>>>12,o[1]=128|(4032&a)>>>6,o[2]=128|63&a):a>128?(o[0]=192|(1984&a)>>>6,o[1]=128|63&a):o[0]=a,this.parsedData.push(o)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))
}return e.prototype.getLength=function(t){return this.parsedData.length},e.prototype.write=function(t){for(var e=0,n=this.parsedData.length;n>e;e++)t.put(this.parsedData[e],8)},e}();t.QR8bitByte=e,__reflect(e.prototype,"qr.QR8bitByte")}(qr||(qr={}));var qr;!function(t){var e=function(){function t(){this.buffer=[],this.length=0}return t.prototype.get=function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},t.prototype.put=function(t,e){for(var n=0;e>n;n++)this.putBit(1==(t>>>e-n-1&1))},t.prototype.getLengthInBits=function(){return this.length},t.prototype.putBit=function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++},t}();t.QRBitBuffer=e,__reflect(e.prototype,"qr.QRBitBuffer")}(qr||(qr={}));var qr;!function(t){var e=function(){function e(){}return e.create=function(n,i,o,a,r,s){void 0===i&&(i=200),void 0===o&&(o=200),void 0===a&&(a=t.QRErrorCorrectLevel.M),void 0===r&&(r=4),void 0===s&&(s=0);var h={color:s,width:i,height:o,correctLevel:a,typeNumer:r},c=new t.QRCodeModel(h.typeNumer,h.correctLevel);return c.addData(n),c.make(),e.draw(c,h)},e.draw=function(t,e){var n=new egret.Sprite,e=e,i=t.getModuleCount(),o=e.width/i,a=e.height/i,r=10;n.graphics.moveTo(-r,-r),n.graphics.beginFill(16777215),n.graphics.drawRect(-r,-r,e.width+2*r,e.height+2*r),n.graphics.endFill();for(var s=0;i>s;s++)for(var h=0;i>h;h++){var c=t.isDark(s,h);c&&(n.graphics.moveTo(h*o,s*a),n.graphics.beginFill(e.color),n.graphics.drawRect(h*o,s*a,o,a),n.graphics.endFill())}return n},e}();t.QRCode=e,__reflect(e.prototype,"qr.QRCode")}(qr||(qr={}));var qr;!function(t){var e=function(){function e(t,e){this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[],this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}return e.prototype.addData=function(e){var n=new t.QR8bitByte(e);this.dataList.push(n),this.dataCache=null},e.prototype.isDark=function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},e.prototype.getModuleCount=function(){return this.moduleCount},e.prototype.make=function(){this.makeImpl(!1,this.getBestMaskPattern())},e.prototype.makeImpl=function(t,n){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[i][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,n),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},e.prototype.setupPositionProbePattern=function(t,e){for(var n=-1;7>=n;n++)if(!(-1>=t+n||this.moduleCount<=t+n))for(var i=-1;7>=i;i++)-1>=e+i||this.moduleCount<=e+i||(n>=0&&6>=n&&(0==i||6==i)||i>=0&&6>=i&&(0==n||6==n)||n>=2&&4>=n&&i>=2&&4>=i?this.modules[t+n][e+i]=!0:this.modules[t+n][e+i]=!1)},e.prototype.getBestMaskPattern=function(){for(var e=0,n=0,i=0;8>i;i++){this.makeImpl(!0,i);var o=t.QRUtil.getLostPoint(this);(0==i||e>o)&&(e=o,n=i)}return n},e.prototype.createMovieClip=function(t,e,n){var i=t.createEmptyMovieClip(e,n),o=1;this.make();for(var a=0;a<this.modules.length;a++)for(var r=a*o,s=0;s<this.modules[a].length;s++){var h=s*o,c=this.modules[a][s];c&&(i.beginFill(0,100),i.moveTo(h,r),i.lineTo(h+o,r),i.lineTo(h+o,r+o),i.lineTo(h,r+o),i.endFill())}return i},e.prototype.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},e.prototype.setupPositionAdjustPattern=function(){for(var e=t.QRUtil.getPatternPosition(this.typeNumber),n=0;n<e.length;n++)for(var i=0;i<e.length;i++){var o=e[n],a=e[i];if(null==this.modules[o][a])for(var r=-2;2>=r;r++)for(var s=-2;2>=s;s++)-2==r||2==r||-2==s||2==s||0==r&&0==s?this.modules[o+r][a+s]=!0:this.modules[o+r][a+s]=!1}},e.prototype.setupTypeNumber=function(e){for(var n=t.QRUtil.getBCHTypeNumber(this.typeNumber),i=0;18>i;i++){var o=!e&&1==(n>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=o}for(var i=0;18>i;i++){var o=!e&&1==(n>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=o}},e.prototype.setupTypeInfo=function(e,n){for(var i=this.errorCorrectLevel<<3|n,o=t.QRUtil.getBCHTypeInfo(i),a=0;15>a;a++){var r=!e&&1==(o>>a&1);6>a?this.modules[a][8]=r:8>a?this.modules[a+1][8]=r:this.modules[this.moduleCount-15+a][8]=r}for(var a=0;15>a;a++){var r=!e&&1==(o>>a&1);8>a?this.modules[8][this.moduleCount-a-1]=r:9>a?this.modules[8][15-a-1+1]=r:this.modules[8][15-a-1]=r}this.modules[this.moduleCount-8][8]=!e},e.prototype.mapData=function(e,n){for(var i=-1,o=this.moduleCount-1,a=7,r=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var h=0;2>h;h++)if(null==this.modules[o][s-h]){var c=!1;r<e.length&&(c=1==(e[r]>>>a&1));var l=t.QRUtil.getMask(n,o,s-h);l&&(c=!c),this.modules[o][s-h]=c,a--,-1==a&&(r++,a=7)}if(o+=i,0>o||this.moduleCount<=o){o-=i,i=-i;break}}},e.createData=function(n,i,o){for(var a=t.QRRSBlock.getRSBlocks(n,i),r=new t.QRBitBuffer,s=0;s<o.length;s++){var h=o[s];r.put(h.mode,4),r.put(h.getLength(),t.QRUtil.getLengthInBits(h.mode,n)),h.write(r)}for(var c=0,s=0;s<a.length;s++)c+=a[s].dataCount;if(r.getLengthInBits()>8*c)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*c+")");for(r.getLengthInBits()+4<=8*c&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*c)&&(r.put(e.PAD0,8),!(r.getLengthInBits()>=8*c));)r.put(e.PAD1,8);return e.createBytes(r,a)},e.createBytes=function(e,n){for(var i=0,o=0,a=0,r=new Array(n.length),s=new Array(n.length),h=0;h<n.length;h++){var c=n[h].dataCount,l=n[h].totalCount-c;o=Math.max(o,c),a=Math.max(a,l),r[h]=new Array(c);for(var u=0;u<r[h].length;u++)r[h][u]=255&e.buffer[u+i];i+=c;var p=t.QRUtil.getErrorCorrectPolynomial(l),g=new t.QRPolynomial(r[h],p.getLength()-1),d=g.mod(p);s[h]=new Array(p.getLength()-1);for(var u=0;u<s[h].length;u++){var m=u+d.getLength()-s[h].length;s[h][u]=m>=0?d.get(m):0}}for(var f=0,u=0;u<n.length;u++)f+=n[u].totalCount;for(var v=new Array(f),M=0,u=0;o>u;u++)for(var h=0;h<n.length;h++)u<r[h].length&&(v[M++]=r[h][u]);for(var u=0;a>u;u++)for(var h=0;h<n.length;h++)u<s[h].length&&(v[M++]=s[h][u]);return v},e.PAD0=236,e.PAD1=17,e}();t.QRCodeModel=e,__reflect(e.prototype,"qr.QRCodeModel")}(qr||(qr={}));var qr;!function(t){var e=function(){function t(){}return t.L=1,t.M=0,t.Q=3,t.H=2,t}();t.QRErrorCorrectLevel=e,__reflect(e.prototype,"qr.QRErrorCorrectLevel")}(qr||(qr={}));var qr;!function(t){var e=function(){function t(){}return t.PATTERN000=0,t.PATTERN001=1,t.PATTERN010=2,t.PATTERN011=3,t.PATTERN100=4,t.PATTERN101=5,t.PATTERN110=6,t.PATTERN111=7,t}();t.QRMaskPattern=e,__reflect(e.prototype,"qr.QRMaskPattern")}(qr||(qr={}));var qr;!function(t){var e=function(){function t(){}return t.glog=function(e){return t.isInit||t.init(),1>e&&console.log("错误:n="+e),t.LOG_TABLE[e]},t.gexp=function(e){for(t.isInit||t.init();0>e;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},t.init=function(){t.isInit=!0;for(var e=0;8>e;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;256>e;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;255>e;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e},t.EXP_TABLE=new Array(256),t.LOG_TABLE=new Array(256),t}();t.QRMath=e,__reflect(e.prototype,"qr.QRMath")}(qr||(qr={}));var qr;!function(t){var e=function(){function t(){}return t.MODE_NUMBER=1,t.MODE_ALPHA_NUM=2,t.MODE_8BIT_BYTE=4,t.MODE_KANJI=8,t}();t.QRMode=e,__reflect(e.prototype,"qr.QRMode")}(qr||(qr={}));var qr;!function(t){var e=function(){function e(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var i=0;i<t.length-n;i++)this.num[i]=t[i+n]}return e.prototype.get=function(t){return this.num[t]},e.prototype.getLength=function(){return this.num.length},e.prototype.multiply=function(n){for(var i=new Array(this.getLength()+n.getLength()-1),o=0;o<this.getLength();o++)for(var a=0;a<n.getLength();a++)i[o+a]^=t.QRMath.gexp(t.QRMath.glog(this.get(o))+t.QRMath.glog(n.get(a)));return new e(i,0)},e.prototype.mod=function(n){if(this.getLength()-n.getLength()<0)return this;for(var i=t.QRMath.glog(this.get(0))-t.QRMath.glog(n.get(0)),o=new Array(this.getLength()),a=0;a<this.getLength();a++)o[a]=this.get(a);for(var a=0;a<n.getLength();a++)o[a]^=t.QRMath.gexp(t.QRMath.glog(n.get(a))+i);return new e(o,0).mod(n)},e}();t.QRPolynomial=e,__reflect(e.prototype,"qr.QRPolynomial")}(qr||(qr={}));var qr;!function(t){var e=function(){function e(t,e){this.totalCount=t,this.dataCount=e}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(t,n){var i=e.getRsBlockTable(t,n);if(void 0==i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+n);for(var o=i.length/3,a=[],r=0;o>r;r++)for(var s=i[3*r+0],h=i[3*r+1],c=i[3*r+2],l=0;s>l;l++)a.push(new e(h,c));return a},e.getRsBlockTable=function(n,i){switch(i){case t.QRErrorCorrectLevel.L:return e.RS_BLOCK_TABLE[4*(n-1)+0];case t.QRErrorCorrectLevel.M:return e.RS_BLOCK_TABLE[4*(n-1)+1];case t.QRErrorCorrectLevel.Q:return e.RS_BLOCK_TABLE[4*(n-1)+2];case t.QRErrorCorrectLevel.H:return e.RS_BLOCK_TABLE[4*(n-1)+3];default:return}},e}();t.QRRSBlock=e,__reflect(e.prototype,"qr.QRRSBlock")}(qr||(qr={}));var qr;!function(t){var e=function(){function e(){}return e.getBCHTypeInfo=function(t){for(var n=t<<10;e.getBCHDigit(n)-e.getBCHDigit(e.G15)>=0;)n^=e.G15<<e.getBCHDigit(n)-e.getBCHDigit(e.G15);return(t<<10|n)^e.G15_MASK},e.getBCHTypeNumber=function(t){for(var n=t<<12;e.getBCHDigit(n)-e.getBCHDigit(e.G18)>=0;)n^=e.G18<<e.getBCHDigit(n)-e.getBCHDigit(e.G18);return t<<12|n},e.getBCHDigit=function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},e.getPatternPosition=function(t){return e.PATTERN_POSITION_TABLE[t-1]},e.getMask=function(e,n,i){switch(e){case t.QRMaskPattern.PATTERN000:return(n+i)%2==0;case t.QRMaskPattern.PATTERN001:return n%2==0;case t.QRMaskPattern.PATTERN010:return i%3==0;case t.QRMaskPattern.PATTERN011:return(n+i)%3==0;case t.QRMaskPattern.PATTERN100:return(Math.floor(n/2)+Math.floor(i/3))%2==0;case t.QRMaskPattern.PATTERN101:return n*i%2+n*i%3==0;case t.QRMaskPattern.PATTERN110:return(n*i%2+n*i%3)%2==0;case t.QRMaskPattern.PATTERN111:return(n*i%3+(n+i)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},e.getErrorCorrectPolynomial=function(e){for(var n=new t.QRPolynomial([1],0),i=0;e>i;i++)n=n.multiply(new t.QRPolynomial([1,t.QRMath.gexp(i)],0));return n},e.getLengthInBits=function(e,n){if(n>=1&&10>n)switch(e){case t.QRMode.MODE_NUMBER:return 10;case t.QRMode.MODE_ALPHA_NUM:return 9;case t.QRMode.MODE_8BIT_BYTE:return 8;case t.QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(27>n)switch(e){case t.QRMode.MODE_NUMBER:return 12;case t.QRMode.MODE_ALPHA_NUM:return 11;case t.QRMode.MODE_8BIT_BYTE:return 16;case t.QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(41>n))throw new Error("type:"+n);switch(e){case t.QRMode.MODE_NUMBER:return 14;case t.QRMode.MODE_ALPHA_NUM:return 13;case t.QRMode.MODE_8BIT_BYTE:return 16;case t.QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},e.getLostPoint=function(t){for(var e=t.getModuleCount(),n=0,i=0;e>i;i++)for(var o=0;e>o;o++){for(var a=0,r=t.isDark(i,o),s=-1;1>=s;s++)if(!(0>i+s||i+s>=e))for(var h=-1;1>=h;h++)0>o+h||o+h>=e||(0!=s||0!=h)&&r==t.isDark(i+s,o+h)&&a++;a>5&&(n+=3+a-5)}for(var i=0;e-1>i;i++)for(var o=0;e-1>o;o++){var c=0;t.isDark(i,o)&&c++,t.isDark(i+1,o)&&c++,t.isDark(i,o+1)&&c++,t.isDark(i+1,o+1)&&c++,(0==c||4==c)&&(n+=3)}for(var i=0;e>i;i++)for(var o=0;e-6>o;o++)t.isDark(i,o)&&!t.isDark(i,o+1)&&t.isDark(i,o+2)&&t.isDark(i,o+3)&&t.isDark(i,o+4)&&!t.isDark(i,o+5)&&t.isDark(i,o+6)&&(n+=40);for(var o=0;e>o;o++)for(var i=0;e-6>i;i++)t.isDark(i,o)&&!t.isDark(i+1,o)&&t.isDark(i+2,o)&&t.isDark(i+3,o)&&t.isDark(i+4,o)&&!t.isDark(i+5,o)&&t.isDark(i+6,o)&&(n+=40);for(var l=0,o=0;e>o;o++)for(var i=0;e>i;i++)t.isDark(i,o)&&l++;var u=Math.abs(100*l/e/e-50)/5;return n+=10*u},e.prototype.static_isSupportCanvas=function(){return"undefined"!=typeof CanvasRenderingContext2D},e._getTypeNumber=function(n,i){for(var o=1,a=e._getUTF8Length(n),r=0,s=e.QRCodeLimitLength.length;s>=r;r++){var h=0;switch(i){case t.QRErrorCorrectLevel.L:h=e.QRCodeLimitLength[r][0];break;case t.QRErrorCorrectLevel.M:h=e.QRCodeLimitLength[r][1];break;case t.QRErrorCorrectLevel.Q:h=e.QRCodeLimitLength[r][2];break;case t.QRErrorCorrectLevel.H:h=e.QRCodeLimitLength[r][3]}if(h>=a)break;o++}if(o>e.QRCodeLimitLength.length)throw new Error("Too long data");return o},e._getUTF8Length=function(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)},e.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],e.G15=1335,e.G18=7973,e.G15_MASK=21522,e.QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],e}();t.QRUtil=e,__reflect(e.prototype,"qr.QRUtil")}(qr||(qr={}));var core;!function(t){var e=function(){function t(){}return t.playBGMusic=function(){1==this.isBgSoundOn?playAudio("music_mp3"):stopAudio("music_mp3")},t.stopBgMusic=function(){stopAudio("music_mp3")},t.registerPageActive=function(){if(!this.haveRegistered){this.haveRegistered=!0;var t="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null,e=t.replace(/hidden/i,"visibilitychange"),n=function(){!document[t]};document.addEventListener(e,n)}},t.isBgSoundOn=1,t.isEffectSoundOn=1,t.haveRegistered=!1,t}();t.MusicManager=e,__reflect(e.prototype,"core.MusicManager")}(core||(core={}));var SoundConst=function(){function t(){}return t.BUTTON="button_mp3",t.WIN_TICKUP="win_tickup_mp3",t.WIN_TICKUPTALE="win_tickuptale_mp3",t.CHECKSTART="checkstart_mp3",t.BG="bg_mp3",t.SINGLEREWARD="singlereward_mp3",t.REWARD="reward_mp3",t.REELEND="reelend_mp3",t.START="start_mp3",t.STOP="stop_mp3",t.BIG_REWARD="bigreward_mp3",t.FIVE_SOUND="bigreward2_mp3",t.AUTOSTART1="autostart1_mp3",t.AUTOSTOP1="autostop1_mp3",t.AUTOSTART="autostart_mp3",t.AUTOSTOP="autostop_mp3",t.ADD="add_mp3",t.SUB="sub_mp3",t.SPEED_ON="speedon_mp3",t.SPEED_OFF="speedoff_mp3",t}();__reflect(SoundConst.prototype,"SoundConst");var SoundManager=function(){function t(){this.effectOn=!1,this.bgOn=!1,this.bgOn=!1,this.effectOn=!1,this.bgVolume=1,this.effectVolume=1,this.lastVolume=1,this.dic=new Dictionary}return t.prototype.saveVolue=function(){this.lastVolume=this.effectVolume},t.prototype.loadLocalData=function(){var t=egret.localStorage.getItem("bgOn"),e=egret.localStorage.getItem("effectOn"),n=egret.localStorage.getItem("volume"),i=egret.localStorage.getItem("lastVolume");null!=t?this.bgOn=0==t?!1:!0:egret.localStorage.setItem("bgOn","1"),null!=e?this.effectOn=0==e?!1:!0:egret.localStorage.setItem("effectOn","1"),null!=n?(this.bgVolume=n,this.effectVolume=n):egret.localStorage.setItem("volume",""+this.bgVolume),null!=i?this.lastVolume=i:egret.localStorage.setItem("lastVolume",""+this.lastVolume)},t.prototype.playEffect=function(t,e){var n=this;if(void 0===e&&(e=-1),this.effectOn){var i,o=RES.getRes(t);if(o)i=o.play(0,1),this.dic.add(t,i),i.once(egret.Event.SOUND_COMPLETE,function(e){n.dic.remove(t)},this),i.volume=this.effectVolume;else{var a=function(e,o){i=e.play(0,1),n.dic.add(t,i),i.once(egret.Event.SOUND_COMPLETE,function(e){n.dic.remove(t)},n),i.volume=n.effectVolume};RES.getResAsync(t,a,this)}}},t.prototype.close=function(){for(var t=0;t<this.dic.values.length;t++){var e=this.dic.values[t];e&&(e.volume=0)}},t.prototype.open=function(){for(var t=0;t<this.dic.values.length;t++){var e=this.dic.values[t];e&&(e.volume=this.effectVolume)}},t.prototype.playBg=function(t){var e=this;this.currBg=t,this.bgOn&&this.playMusic(t).then(function(t){e.bgchanel&&(e.bgchanel.stop(),e.bgchanel=null),e.bgchanel=t,e.bgchanel.volume=e.bgVolume})},t.prototype.stopBg=function(){this.bgchanel&&(this.bgchanel.stop(),this.bgchanel=null)},t.prototype.setEffectOn=function(t){this.effectOn=t,egret.localStorage.setItem("effectOn",1==this.effectOn?"1":"0"),this.effectOn?this.open():this.close()},t.prototype.setBgOn=function(t){this.bgOn=t,egret.localStorage.setItem("bgOn",1==this.bgOn?"1":"0"),this.bgOn?this.playBg(this.currBg):this.stopBg()},t.prototype.setBgVolume=function(t){t=Math.min(t,1),t=Math.max(t,0),egret.localStorage.setItem("lastVolume",this.bgVolume+""),this.bgVolume=t,egret.localStorage.setItem("volume",t+""),this.bgchanel&&(this.bgchanel.volume=this.bgVolume)},t.prototype.getBgVolume=function(){return this.bgVolume},t.prototype.setEffectVolume=function(t){t=Math.min(t,1),t=Math.max(t,0),egret.localStorage.setItem("lastVolume",this.effectVolume+""),this.effectVolume=t,egret.localStorage.setItem("volume",t+"")},t.prototype.getEffectVolume=function(){return this.effectVolume},t.getInstance=function(){return null==this.ins&&(this.ins=new t),this.ins},t.prototype.playMusic=function(t,e){var n=this;return void 0===t&&(t=""),void 0===e&&(e=-1),new Promise(function(i,o){var a,r=RES.getRes(t);if(r)a=r.play(t,e),n.dic.add(t,a),a.once(egret.Event.SOUND_COMPLETE,function(e){n.dic.remove(t)},n),a.volume=n.effectVolume,i(a);else{var s=function(r,s){null==r?(console.log(t+"->不存在的资源"),o()):(a=r.play(t,e),n.dic.add(t,a),a.once(egret.Event.SOUND_COMPLETE,function(e){n.dic.remove(t)},n),a.volume=n.effectVolume,i(a))};RES.getResAsync(t,s,n)}})},t}();__reflect(SoundManager.prototype,"SoundManager");var game;!function(t){var e=function(){function t(){}return t.getMc=function(t,e,n){function i(e){var n=RES.getRes(t+"_png"),i=RES.getRes(t+"_json"),o=new egret.MovieClipDataFactory(i,n),a=new egret.MovieClip(o.generateMovieClipData(e));return a.fac=o,a.touchEnabled=!1,a}var o=this;void 0===e&&(e=null),void 0===n&&(n="");var a=RES.getRes(t+"_png");if(a){var r=i(n);return e&&e(r),r}return RES.getResAsync(t+"_png",function(){RES.getResAsync(t+"_json",function(){e&&e(i(n))},o)},this),null},t.changeAction=function(t,e){var n=t.fac;t.movieClipData=n.generateMovieClipData(e)},t}();t.MCUtils=e,__reflect(e.prototype,"game.MCUtils")}(game||(game={}));var core;!function(t){var e=function(){function t(){}return t.addLongTouch=function(e,n,i,o){void 0===o&&(o=null),e.startLongouch=n,e.endLongTouch=i,e.thisObj=o,e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.longTouchBegin,e)},t.longTouchBegin=function(e){egret.clearTimeout(t.timeout),t.isLong=!1;var n=e.currentTarget;t.curx=e.stageX,t.cury=e.stageY,egret.MainContext.instance.stage.once(egret.TouchEvent.TOUCH_END,t.longTouchEnd,this),t.timeout=egret.setTimeout(function(){t.isLong=!0,null==n.thisObj?n.startLongouch&&n.startLongouch(e):n.startLongouch&&n.startLongouch.call(n.thisObj,e)},this,350)},t.longTouchEnd=function(e){egret.clearTimeout(t.timeout);var n=this;1==t.isLong&&(t.isLong=!1,(n.thisObj=null)?n.endLongTouch&&n.endLongTouch(e):n.endLongTouch&&n.endLongTouch.call(n.thisObj,e))},t.deleteLongtouch=function(e){e.startLongouch=null,e.endLongTouch=null,e.thisObj=null,e.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,t.longTouchBegin,e)},t.removeDisplayObject=function(t){t.parent&&t.parent.removeChild(t)},t.removeDisplayObjectForAni=function(e,n){var i=this;return void 0===n&&(n=500),new Promise(function(o,a){egret.Tween.get(e).to({alpha:0},n).call(function(){t.removeDisplayObject(e),o()},i)})},t.setAnchorMiddle=function(t,e){void 0===e&&(e=!1),egret.callLater(function(){t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,e&&(t.x=t.x+t.width/2,t.y=t.y+t.height/2)},this)},t.addButtonScaleEffects=function(e,n){if(void 0===n&&(n=!1),e)if(n)e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.onButtonTouchBegan,e);else if(egret.is(e,egret.getQualifiedClassName(eui.Button)))e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.onButtonTouchBegan,e);else for(var i=e.numChildren,o=0;i>o;o++){var a=e.getChildAt(o);t.addButtonScaleEffects(a)}},t.onButtonTouchBegan=function(t){var e=t.currentTarget;egret.Tween.get(e).to({scaleX:.9,scaleY:.9},50).to({scaleX:1,scaleY:1},50),SoundManager.getInstance().playEffect(SoundConst.CHECKSTART)},t.isLong=!1,t}();t.MyUIUtils=e,__reflect(e.prototype,"core.MyUIUtils")}(core||(core={}));var RegUtils;!function(t){function e(t){var e=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/;return e.test(t)?!0:!1}function n(t){if(a(t))return!1;var e=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/g;return e.test(t)&&Number(RegExp.$1)<256&&Number(RegExp.$2)<256&&Number(RegExp.$3)<256&&Number(RegExp.$4)<256?!0:!1}function i(t){var e=/^(((13[0-9]{1})|(15[0-9]{1})|(17[0-9]{1})|(18[0-9]{1}))+\d{8})$/;return e.test(t)?!0:!1}function o(t){var e=/^[0][1-9]{2,3}-[0-9]{5,10}$/,n=/^[1-9]{1}[0-9]{5,8}$/;return t.length>9?e.test(t)?!0:!1:n.test(t)?!0:!1}function a(t){if(""==t)return!0;var e="^[ ]+$",n=new RegExp(e);return n.test(t)}function r(t){var e=/^[-]{0,1}[0-9]{1,}$/;return e.test(t)}function s(t){var e="^[0-9]+$",n=new RegExp(e);return-1!=t.search(n)?!0:!1}function h(t){var e="^[0-9]+[.][0-9]{0,3}$",n=new RegExp(e);return n.test(t)?!0:!1}function c(t){if(a(t))return!1;var e=/^[\u4E00-\u9FA5]{2,4}$/;return e.test(t)}function l(t){var e=/^[\u4E00-\u9FA5]/;return e.test(t)}function u(t,e){var n=" ",i=-1;if(0==e||1==e){for(;" "==n;)++i,n=t.substr(i,1);t=t.substring(i)}if(0==e||2==e){for(n=" ",i=t.length;" "==n;)--i,n=t.substr(i,1);t=t.substring(0,i+1)}return t}function p(t){var e=/^[a-z0-9]+$/;return e.test(t)}function g(t){var e=/^[a-z]+$/;return e.test(t)}function d(t){var e=/^[0-9]+$/;return e.test(t)}function m(t){var e=/^[0-9]+(.[0-9]{1})?$/,n=/^[0-9]*$/;return e.test(t)||n.test(t)}t.checkEmail=e,t.isIP=n,t.checkMobile=i,t.checkPhone=o,t.isNull=a,t.isInteger=r,t.isNumber=s,t.isMoney=h,t.isRealName=c,t.checkIsChinese=l,t.cTrim=u,t.isAccount=p,t.isAccountaz=g,t.isAccount09=d,t.isOneNumber=m}(RegUtils||(RegUtils={}));var Utils=function(){function t(){}return t.rang=function(t,e){return Math.round(Math.random()*(e-t)+t)},t.setAnchorCenter=function(t){t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2},t.distance=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.lineIntersectSide=function(t,e,n,i){var o=(n.y-t.y)*(t.x-e.x)-(n.x-t.x)*(t.y-e.y),a=(i.y-t.y)*(t.x-e.x)-(i.x-t.x)*(t.y-e.y);return o*a>0?!1:!0},t.sideIntersectSide=function(e,n,i,o){return t.lineIntersectSide(e,n,i,o)&&t.lineIntersectSide(i,o,e,n)?!0:!1},t.getAngleBySide=function(t,e){return Math.atan(t/e)*(180/Math.PI)},t.setRichText=function(t,e){if(t)if(e){var n=new egret.HtmlTextParser;t.textFlow=n.parse(e)}else t.text=e},t.hitTest=function(t,e){if(null!=t.getBounds&&null!=e.getBounds){var n=t.getBounds(),i=e.getBounds();return n.x=t.x,n.y=t.y,i.x=e.x,i.y=e.y,n.intersects(i)}},t.checkLength=function(t){var e=new egret.ByteArray;return e.writeUTF(t),e.length},t.pointAmongAngle=function(t,e,n,i){var o=n-t,a=i-e,r=0;return 0==o&&0==a?0:(o>=0&&a>=0?r=180*Math.atan(a/o)/Math.PI:0>=o&&a>=0?r=180*Math.atan(Math.abs(o)/a)/Math.PI+90:0>=o&&0>=a?r=180*Math.atan(Math.abs(a)/Math.abs(o))/Math.PI+180:o>=0&&0>=a&&(r=180*Math.atan(o/Math.abs(a))/Math.PI+270),r)},t.arrToArr2=function(t,e){var n=[];if(t)for(var i=void 0,o=0,a=t.length;a>o;o++)o%e===0&&(i=[],n.push(i)),i.push(t[o]);return n},t.getUrlPara=function(t){for(var e=location.search.replace(/^\?/,"").split("&"),n={},i=0,o=e.length;o>i;i++){var a=e[i].split("=");n[a[0]]=a[1]}return t?n[t]||"":n},t.limit=function(t,e,n){return e>t?e:t>e?n:t},t.limit1=function(t,e,n){return Math.max(e,Math.min(n,t))},t.showTimeFormat=function(t){t=Math.floor(t/1e3);var e=Math.floor(t/86400);t%=86400;var n=Math.floor(t/3600);t%=3600;var i=Math.floor(t/60);t%=60;var o=Math.floor(t);return 0>=e&&0>=n&&0>=i?o+"秒":0>=e&&0>=n?i+"分"+(o>9?o:"0"+o)+"秒":0>=e?n+"时"+(i>0?i:"0"+i)+"分"+(o>9?o:"0"+o)+"秒":e+"天"+(n>0?n:"0"+n)+"时"+(i>0?i:"0"+i)+"分"+(o>9?o:"0"+o)+"秒"},t.getBigNumberShow=function(t){return 1e4>t?t+"":(t/=1e3,t.toFixed(1)+"K")},t.isElinArr=function(t,e){return e.indexOf(t)>-1},t.isArrCrossing=function(e,n){for(var i=0;i<e.length;i++)if(t.isElinArr(e[i],n))return!0;return!1},t.getURLQueryString=function(t){if(egret.Capabilities.runtimeType==egret.RuntimeType.WEB){var e=decodeURIComponent(window.location.href);e=e.replace(/&quot/g,'"');var n;return e.indexOf("#?")>0?(e=e.replace("#?","&"),n=e.match(new RegExp("(^|&)"+t+"=([^&]*)(&|$)"))):n=window.location.search.substr(1).match(new RegExp("(^|&)"+t+"=([^&]*)(&|$)")),n?n[2]:null}},t.getMaxStr=function(t){return t.length<=5?t:t.substr(0,5)+"..."},t.removeArrayItem=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},t.mtaChainSdk=function(t){var e=window.MtaH5;if(e&&e.clickStat){var n={};n[t.toLocaleLowerCase()]="true",e.clickStat("yemianshendu",n)}},t.isCollsionRect2=function(t,e,n,i,o,a,r,s){return t>=o&&t>=o+r||o>=t&&o>=t+n||e>=a&&e>=a+s||a>=e&&a>=e+i?!1:!0},t.rect1CollsionRect2=function(e,n){return t.isCollsionRect2(e.x,e.y,e.width,e.height,n.x,n.y,n.width,n.height)},t.BigNumTostring=function(e){var n=e.toString();return e>=t.MAXK&&e<t.MAXM?n=(e/1e3).toFixed(2)+"K":e>=1e6&&(n=(e/t.MAXM).toFixed(2)+"M"),n.toString()},t.BigNumTostring1=function(e){var n=e.toString();if(e>=t.MAXK1&&e<t.MAXM){n=e/1e3+"";var i=n.split(".")[0],o=n.split(".")[1];n=i+"."+(o?o.substr(0,2):"00")+"k"}else if(e>=1e6){n=e/t.MAXM+"";var i=n.split(".")[0],o=n.split(".")[1];n=i+"."+(o?o.substr(0,2):"00")+"M"}return n+""},t.getOrientationType=function(){return 180===window.orientation||0===window.orientation?0:90===window.orientation||-90===window.orientation?1:void 0},t.ArrConvert=function(t,e){for(var n=t.length%e==0?t.length/e:t.length/e+1,i=new Array,o=0;n>o;o++){for(var a=o*e,r=new Array,s=0;e>s&&a<t.length;)r.push(t[a++]),s++;i.push(r)}return i},t.timerOver=function(t,e){var n=t.replace(/-/g,"/"),i=e.replace(/-/g,"/"),o=Date.parse(n),a=Date.parse(i),r=o-a,s=Math.floor(r/864e5),h=r%864e5,c=Math.floor(h/36e5),l=h%36e5,u=Math.floor(l/6e4),p=l%6e4,g=Math.round(p/1e3),d=s+"天"+c+"时"+u+"分"+g;return d},t.playTweenAnimation=function(t,e){if(e)for(var n in t.items)t.items[n].props={loop:!0};t.play()},t.PlayBgSound=function(t,e){var n=RES.getRes(t);return n.play(0,e),n},t.isWeiXin=function(){var t=window.navigator.userAgent.toLowerCase(),e=""+t.match(/MicroMessenger/i);return"null"==e?!1:"micromessenger"==e?!0:void 0},t.getRandom=function(e,n){n=n||1,e=e||0,t.seed=(9301*t.seed+49297)%233280;var i=t.seed/233280;return e+i*(n-e)},t.isSameDay=function(t,e){var n=new Date(t),i=new Date(e);return n.setHours(0,0,0,0)==i.setHours(0,0,0,0)},t.MAXK=1e5,t.MAXM=1e6,t.MAXK1=1e3,t.seed=5,t}();__reflect(Utils.prototype,"Utils");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var core;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.rect=new eui.Rect,t.rect.alpha=0,t.rect.width=GameConfig.WIDTH,t.rect.height=GameConfig.HEIGHT,t}return __extends(n,e),n.prototype.show=function(){var e=t.LayerManager.getInstance().getLayer(t.LayerManager.Layer_Top);e.addChild(this.rect)},n.prototype.hide=function(){if(this.parent&&this.parent.removeChild(this),this.rect.parent){var e=t.LayerManager.getInstance().getLayer(t.LayerManager.Layer_Top);e.removeChild(this.rect)}},n}(eui.Component);t.BaseTops=e,__reflect(e.prototype,"core.BaseTops")}(core||(core={}));var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,n,i){function o(t){e.call(i,t)
}function a(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),n.call(i))}var r=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){e.call(i,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(t,n){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(i,generateEUI2)},r)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(t.indexOf(".exml")>-1){var s=t.split("/");s.pop();var h=s.join("/")+"_EUI.json";generateJSON.paths[t]?egret.callLater(function(){e.call(i,generateJSON.paths[t])},this):RES.getResByUrl(h,function(n){window.JSONParseClass.setData(n),egret.callLater(function(){e.call(i,generateJSON.paths[t])},r)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){e.call(i,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var CheckBanner=function(t){function e(){var e=t.call(this)||this;return e.betArr=[],e.btnArr=[],e.leftIndex=0,e.curIndex=0,e}return __extends(e,t),e.prototype.onAdd=function(){t.prototype.onAdd.call(this),this.leftBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSubIndex,this),this.rightBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onAddIndex,this)},e.prototype.onRemoved=function(){t.prototype.onRemove.call(this),this.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSubIndex,this),this.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onAddIndex,this)},e.prototype.initArr=function(t,e){if(this.betArr=t,this.bGroup||(this.bGroup=new eui.RadioButtonGroup,this.bGroup.addEventListener(egret.Event.CHANGE,this.onChange,this)),0==this.btnArr.length)for(var n=0;10>n;n++){var i=this["btn"+n];i&&(this.btnArr.push(i),i.group=this.bGroup,i.value=n)}this.setIndex(e)},e.prototype.onChange=function(){var t=this.bGroup.selectedValue;this.curIndex=t,this.updata(),this.dispatchEvent(new egret.Event(egret.Event.CHANGE))},e.prototype.setIndex=function(t){this.curIndex=1,this.leftIndex=t-1,this.updata(),this.dispatchEvent(new egret.Event(egret.Event.CHANGE))},e.prototype.getIndex=function(){return this.curIndex+this.leftIndex},e.prototype.onSubIndex=function(){this.curIndex>0?this.curIndex--:this.leftIndex>0&&this.leftIndex--,this.updata(),this.dispatchEvent(new egret.Event(egret.Event.CHANGE))},e.prototype.onAddIndex=function(){this.curIndex<this.btnArr.length-1?this.curIndex++:this.leftIndex<this.betArr.length-this.btnArr.length&&this.leftIndex++,this.updata(),this.dispatchEvent(new egret.Event(egret.Event.CHANGE))},e.prototype.updata=function(){0==this.leftIndex&&0==this.curIndex?this.leftBtn.enabled=!1:this.leftBtn.enabled=!0,this.leftIndex==this.betArr.length-this.btnArr.length?this.rightBtn.enabled=!1:this.rightBtn.enabled=!0,this.btnArr[this.curIndex].selected=!0;for(var t=0;t<this.btnArr.length;t++)this.btnArr[t].label=this.betArr[this.leftIndex+t].toFixed(2)},e.prototype.setTouchEnable=function(t){this.leftBtn.enabled=this.rightBtn.enabled=t;for(var e=0;e<this.btnArr.length;e++)this.btnArr[e].enabled=t},e.prototype.setEnable=function(t){for(var e=0;e<this.btnArr.length;e++)this.btnArr[e].enabled=t;this.leftBtn.enabled=t,this.rightBtn.enabled=t},e}(MyCompoment);__reflect(CheckBanner.prototype,"CheckBanner");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.onProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var GameConfig=function(){function t(){}return t.loadLocalData=function(){},Object.defineProperty(t,"WIDTH",{get:function(){return egret.MainContext.instance.stage.stageWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t,"HEIGHT",{get:function(){return egret.MainContext.instance.stage.stageHeight},enumerable:!0,configurable:!0}),t.bili=1e4,t.autoChangeBet=!0,t.speedPlay=!1,t.isFree=!1,t.freeGame=!1,t.isBonusBtn=!1,t.isTwo=!1,t.isTest=!1,t.MAX_WIDTH=1920,t.DES_WIDTH=1266,t.DES_HEIGHT=990,t.ITEM_W=121,t.ITEM_H=121,t.DISTANCE=5,t.COL=5,t.ROW=5,t.LANG="cn",t.USER_ID="18996802289",t.NICK_NAME="大西瓜",t.ACOUNT=5001,t.biliArr=[1,10,20,30,40,50,60,70,80,90,100],t.autoPlayArr=[10,20,50,75,100],t.langObj={1:{cn:"不知道干什么",tw:"不知道幹什麼",en:"nothing to do"},2:{cn:"背景音乐",tw:"背景音樂",en:"bg music"},3:{cn:"背景音效",tw:"背景音效",en:"effect music"},4:{cn:"历史下注记录",tw:"歷史下注記錄",en:"history"},5:{cn:"规则",tw:"規則",en:"rule"},6:{cn:"离开",tw:"離開",en:"leave"},7:{cn:"网络断线，请重新开始游戏或检查连线状态!",tw:"網絡斷線，請重新開始遊戲或檢查連線狀態！",en:"Network disconnection, please restart the game or check the connection status!"},8:{cn:"继续加油",tw:"繼續加油",en:"go on"},9:{cn:"不要气馁，好运气快来了",tw:"不要氣餒，好運氣快來了",en:"Don't be discouraged. Good luck is coming"},10:{cn:"好样的",tw:"好樣的",en:"Good job"}},t.CasinoGame={Game_id:"T5080101001",GameCode:".",Skin:"normal",Link_auth:"cdd523674989adc72c92eb0cd2b2fb28",UrlBase:"ws://172.104.44.114:8086",PartnerId:"pts",PlayerId:"user_522",Token:"000486584F58066F6100FD17D0F04163",IP:":",Language:"chs",GameCanvas:"game_block",vtoken_interval:10,Denom:"32767",guest:"0",crnex:"",udf1:"BigWin",udf2:":",udf3:"",udf4:"",udf5:"",UrlRes:":",NjsHost:"172.104.44.114"},t.CasinoGame0={Game_id:"80101001001",GameCode:":",Skin:"normal",Link_auth:"7b94be8dc53610f046053d2f3791ee5c",UrlBase:"ws://172.104.33.60:8083",PartnerId:"pts",PlayerId:"user-096",Token:"84586C2F77BF2F4AE81E84C06F92C762",IP:":",Language:"chs",GameCanvas:"game_block",vtoken_interval:10,Denom:"32767",crnex:"",guest:"0",udf1:"None",udf2:"1552980588",udf3:"",udf4:"",udf5:"",UrlRes:":",NjsHost:"172.104.33.60"},t}();__reflect(GameConfig.prototype,"GameConfig");var MosueRadioButton=function(t){function e(){var e=t.call(this)||this;return mouse.setButtonMode(e,!0),e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAdd,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.onRemove,e),e}return __extends(e,t),e.prototype.onAdd=function(){this.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOver,this),this.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOut,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onRollOver,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onRollOut,this)},e.prototype.onRemove=function(){this.removeEventListener(mouse.MouseEvent.ROLL_OVER,this.onRollOver,this),this.removeEventListener(mouse.MouseEvent.ROLL_OUT,this.onRollOut,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onRollOver,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onRollOut,this)},e.prototype.onRollOver=function(t){0!=this.enabled&&(t.type==egret.TouchEvent.TOUCH_TAP&&this.onClick(),this.selected?this.currentState="rollOverAndSelected":this.currentState="rollOver",this.updataUI(),this.dispatchEventWith(egret.Event.CHANGE))},e.prototype.onRollOut=function(){this.currentState="",this.updataUI(),this.dispatchEventWith(egret.Event.CHANGE)},e.prototype.onClick=function(){SoundManager.getInstance().playEffect(SoundConst.CHECKSTART)},e.prototype.updataUI=function(){"rollOver"==this.currentState?this.updataText(!0):this.updataText(!1)},e.prototype.updataText=function(t){this.labelDisplay.textColor=t?16777215:9738398},e}(eui.RadioButton);__reflect(MosueRadioButton.prototype,"MosueRadioButton");var MyScreenAdapter=function(){function t(){}return t.prototype.calculateStageSize=function(t,e,n,i,o){var a=e,r=n,s=i,h=o,c=e/s||0,l=n/h||0;switch(t){case egret.StageScaleMode.EXACT_FIT:break;case egret.StageScaleMode.FIXED_HEIGHT:s=Math.round(e/l);break;case egret.StageScaleMode.FIXED_WIDTH:h=Math.round(n/c);break;case egret.StageScaleMode.NO_BORDER:c>l?r=Math.round(h*c):a=Math.round(s*l);break;case egret.StageScaleMode.SHOW_ALL:c>l?a=Math.round(s*l):window.innerWidth/window.innerHeight>GameConfig.DES_WIDTH/GameConfig.DES_HEIGHT?a=Math.round(s*l):r=Math.round(h*c);break;case egret.StageScaleMode.FIXED_NARROW:c>l?s=Math.round(e/l):h=Math.round(n/c);break;case egret.StageScaleMode.FIXED_WIDE:c>l?h=Math.round(n/c):s=Math.round(e/l);break;default:s=e,h=n}return egret.Capabilities.runtimeType!=egret.RuntimeType.WXGAME&&(s%2!=0&&(s+=1),h%2!=0&&(h+=1),a%2!=0&&(a+=1),r%2!=0&&(r+=1)),{stageWidth:s,stageHeight:h,displayWidth:a,displayHeight:r}},t}();__reflect(MyScreenAdapter.prototype,"MyScreenAdapter",["egret.sys.IScreenAdapter"]);var MouseButton2=function(t){function e(){var e=t.call(this)||this;return mouse.setButtonMode(e,!0),e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAdd,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.onRemove,e),e}return __extends(e,t),e.prototype.onAdd=function(){this.addEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOver,this),this.addEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOut,this),egret.MainContext.instance.stage.addEventListener(mouse.MouseEvent.ROLL_OUT,this.onRollOut,this),this.iconDisplay=new eui.Image,this.iconDisplay.visible=!1,this.addChild(this.iconDisplay)},e.prototype.onRemove=function(){this.onRollOut(),this.removeEventListener(mouse.MouseEvent.MOUSE_OVER,this.onRollOver,this),this.removeEventListener(mouse.MouseEvent.MOUSE_OUT,this.onRollOut,this),egret.MainContext.instance.stage.removeEventListener(mouse.MouseEvent.ROLL_OUT,this.onRollOut,this)},e.prototype.onRollOver=function(){0!=this.enabled&&(this.currentState="rollOver",this.rollover.call(this.callobj,this),this.dispatchEventWith(egret.Event.CHANGE))},e.prototype.onRollOut=function(){this.currentState="",this.rollout.call(this.callobj,this),this.dispatchEventWith(egret.Event.CHANGE)},e.prototype.setF=function(t,e,n){this.rollover=t,this.rollout=e,this.callobj=n},e.prototype.setEnable=function(t){var e=this;this.enabled=t,this.iconDisplay.visible=!t;var n=this.name.charAt(2);t?(egret.Tween.removeTweens(this),this.icon="line"+n+"_icon_png"):egret.Tween.get(this,{loop:!0}).wait(500).call(function(){e.icon="line"+n+"_aicon_png"},this).wait(500).call(function(){e.icon="line"+n+"_icon_png"},this).wait(500).call(function(){e.icon="line"+n+"_aicon_png"},this)},e}(eui.Button);__reflect(MouseButton2.prototype,"MouseButton2");var MouseButton3=function(t){function e(){var e=t.call(this)||this;return e.l=100,e.initFiter(),e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.updataUI()},e.prototype.onRollOver=function(){0!=this.enabled&&(this.currentState="rollOver",this.updataUI())},e.prototype.onRollOut=function(){this.currentState="",this.updataUI()},e.prototype.updataUI=function(){"rollOver"==this.currentState?this.updataText(!0):this.updataText(!1)},e.prototype.updataText=function(t){this.labelDisplay.textColor=t?16777215:9738398},e.prototype.initFiter=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this.colorFlilter||(this.colorFlilter=new egret.ColorMatrixFilter(t))},e}(MouseButton);__reflect(MouseButton3.prototype,"MouseButton3");var TipsManager=function(t){function e(){var e=t.call(this)||this;return e.showY=800,e.isDebug=!0,e.tipsArr=[],core.FrameEventCenter.getInstance().addFrameEventListener(e.onEnterFrame,e),e}return __extends(e,t),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.showLog=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.isDebug&&console.log.apply(console,[t].concat(e))},e.prototype.showTips=function(t,e){var n=this;void 0===e&&(e=1);var i=function(){var i;switch(e){case 0:i=new NormalErrorTips;break;case 1:i=new NormalOkTips}if(i.textTips.text=t,n.tipsArr.push(i),i.x=GameConfig.WIDTH/2-i.width/2+80,n.tipsArr.length>1){var o=n.tipsArr[n.tipsArr.length-2];if(o.y<n.showY-o.height)i.y=n.showY;else if(o.y<GameConfig.HEIGHT-o.height-i.height)i.y=o.y+o.height;else{i.y=o.y+o.height;for(var a=0;a<n.tipsArr.length;a++)n.tipsArr[a].y-=i.height}}else 1==n.tipsArr.length&&(i.y=n.showY);core.LayerManager.getInstance().addUI(i,core.LayerManager.Layer_Tip)};i()},e.prototype.onEnterFrame=function(t){this.tipsArr.length>0&&this.tipsArr[0].alpha<=0&&(this.tipsArr[0].parent.removeChild(this.tipsArr[0]),this.tipsArr.shift());for(var e=0;e<this.tipsArr.length;e++)this.tipsArr[e].y-=4,this.tipsArr[e].alpha-=.004},e}(egret.EventDispatcher);__reflect(TipsManager.prototype,"TipsManager");var MyHslider=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.bar.mask=this.masks,this.addEventListener(egret.Event.CHANGE,this.onChange,this),this.maximum=9,this.minimum=0,this.value=0,this.masks.width=this.value/this.maximum*this.bar.width,this.ts.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this)},e.prototype.onChange=function(){this.masks.width=this.value/this.maximum*this.bar.width},e.prototype.onTab=function(t){var e=t.localX,n=this.nearestValidValue(e/this.ts.width*9,1);this.value=n,this.dispatchEventWith(egret.Event.CHANGE)},e.prototype.setValues=function(t){this.value=t,this.onChange()},e}(eui.HSlider);__reflect(MyHslider.prototype,"MyHslider");var core;!function(t){var e=function(e){function n(){var t=e.call(this)||this;return t.isOpen=!1,t.skinName=NomalLoadingUISkin,t}return __extends(n,e),n.prototype.onAdd=function(){e.prototype.onAdd.call(this),this.barbg.mask=this.masks},n.prototype.setPross=function(e,n){var i=e/n;this.barbg.x=-this.lgroup.width*(1-i),i>.5&&0==this.isOpen&&(this.isOpen=!0,"1"!=egret.localStorage.getItem("music")&&t.UIManager.openUI(t.UIConst.AudioTips,t.LayerManager.Layer_Top))},n}(t.BaseUI);t.NomalLoadingUI=e,__reflect(e.prototype,"core.NomalLoadingUI")}(core||(core={}));var NormalErrorTips=function(t){function e(){var e=t.call(this)||this;return e.touchEnabled=!1,e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e}(BaseTips);__reflect(NormalErrorTips.prototype,"NormalErrorTips");var NormalOkTips=function(t){function e(){var e=t.call(this)||this;return e.touchEnabled=!1,e.skinName=NormalOkTipsSkin,e}return __extends(e,t),e}(BaseTips);__reflect(NormalOkTips.prototype,"NormalOkTips");var SCompoment=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(eui.Component);__reflect(SCompoment.prototype,"SCompoment");var STogleButton=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAdd,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.onRemove,e),e}return __extends(e,t),e.prototype.onAdd=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},e.prototype.onRemove=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},e.prototype.onClick=function(){SoundManager.getInstance().playEffect(SoundConst.CHECKSTART)},e}(eui.ToggleButton);__reflect(STogleButton.prototype,"STogleButton");var core;!function(t){var e=function(){function t(){}return t.NomalLoadingUI="core.NomalLoadingUI",t.LoginUI="LoginUI",t.MainScenceUI="MainScenceUI",t.SetUI="SetUI",t.NetUI="NetUI",t.NetCloseUI="NetCloseUI",t.AutoPlayUI="AutoPlayUI",t.StipsUI="StipsUI",t.HelpUI="HelpUI",t.RewardUI="RewardUI",t.MoreGameUI="MoreGameUI",t.QukTipsUI="QukTipsUI",t.AudioTips="AudioTips",t}();t.UIConst=e,__reflect(e.prototype,"core.UIConst")}(core||(core={}));var core;!function(t){var e=function(){function e(){}return e.openUI=function(n,i,o){void 0===i&&(i=t.LayerManager.Layer_UI),void 0===o&&(o=0),i==t.LayerManager.Layer_UI&&this.checkLastUI();var a;if(this.pool[n])a=this.pool[n],e.showUI(a,i,o);else{var r=egret.getDefinitionByName(n);a=new r,a.layer=i,this.pool[n]=a,e.showUI(a,i,o),t.LayerManager.getInstance().addUI(a,i)}},e.checkLastUI=function(){for(var e in this.pool){var n=this.pool[e];n.layer==t.LayerManager.Layer_UI&&n.isShow&&n.close()}},e.isUIOpen=function(t){return this.pool[t]?this.pool[t].isShow:!1},e.getUI=function(t){return this.pool[t]?e.pool[t]:null},e.closeUI=function(t){this.pool[t]&&this.pool[t].close()},e.showUI=function(e,n,i){void 0===i&&(i=0),t.LayerManager.getInstance().addUI(e,n),e.validateNow(),e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2;var o=GameConfig.WIDTH/2,a=GameConfig.HEIGHT/2;switch(e.x=o,e.y=a,i){case 0:e.scaleX=1,e.scaleY=1;break;case 1:egret.Tween.get(e).to({scaleX:1,scaleY:1},500);break;case 2:}e.x=0,e.y=0},e.pool={},e}();t.UIManager=e,__reflect(e.prototype,"core.UIManager")}(core||(core={}));var WebImage=function(t){function e(e){var n=t.call(this)||this;n._x=0,n._y=0,n._width=0,n._height=0,n._src="",n._scaleMode=egret.MainContext.instance.stage.scaleMode,n._imgWrapper=null,n._img=null;var i=document.getElementById("StageDelegateDiv"),o=i.parentElement,a=document.getElementById("img-wrapper");a||(a=document.createElement("div"),a.style.display="none",a.attributes.style.value+="position:absolute;",a.id="img-wrapper",i.appendChild(a)),n._imgWrapper=a,n._imgWrapper.style.display="none",n._imgWrapper.style.opacity="0";var r=document.createElement("img"),s=(new Date).getTime();r.src=e,r.id="img-"+s,r.name="img-"+s,r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.opacity="0",r.style.display="none",r.border="0",r.style.width="100%",r.style.height="100%",n._imgWrapper.appendChild(r),n._img=document.getElementById("img-"+s);var h=n;n._img.onload=function(){h._imgWrapper.style.opacity="1",h._img.style.opacity="1"},n._stageW=egret.MainContext.instance.stage.stageWidth,n._stageH=egret.MainContext.instance.stage.stageHeight,n._windowW=window.innerWidth,n._windowH=window.innerHeight,n._designH=parseInt(o.attributes["data-content-height"].value),n._designW=parseInt(o.attributes["data-content-width"].value);var c=egret.sys.screenAdapter.calculateStageSize(egret.MainContext.instance.stage.scaleMode,n._windowW,n._windowH,n._designW,n._designH);return n._displayH=c.displayHeight,n._displayW=c.displayWidth,console.log("windowW:"+n._windowW),console.log("stageW:"+n._stageW),console.log("disPlayW:"+n._displayW),console.log("windowH:"+n._windowH),console.log("stageH:"+n._stageH),console.log("displayH:"+n._displayH),n}return __extends(e,t),e.prototype.show=function(){this._img.style.display="block",this._imgWrapper.style.display="block"},e.prototype.destroy=function(){this._img&&(this._imgWrapper.style.display="none",this._imgWrapper.removeChild(this._img))},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,(this._scaleMode==egret.StageScaleMode.FIXED_WIDTH||this._scaleMode==egret.StageScaleMode.FIXED_HEIGHT)&&(this._imgWrapper.style.width=this._width/this._stageW*this._windowW+"px"),(this._scaleMode==egret.StageScaleMode.SHOW_ALL||this._scaleMode==egret.StageScaleMode.NO_BORDER)&&(this._windowW==this._displayW?this._imgWrapper.style.width=this._width/this._stageW*this._windowW+"px":this._imgWrapper.style.width=this._width/this._stageW*this._displayW+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,(this._scaleMode==egret.StageScaleMode.FIXED_WIDTH||this._scaleMode==egret.StageScaleMode.FIXED_HEIGHT)&&(this._imgWrapper.style.height=this._height/this._stageH*this._windowH+"px"),(this._scaleMode==egret.StageScaleMode.SHOW_ALL||this._scaleMode==egret.StageScaleMode.NO_BORDER)&&(this._windowH==this._displayH?this._imgWrapper.style.height=this._height/this._stageH*this._windowH+"px":this._imgWrapper.style.height=this._height/this._stageH*this._displayH+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,(this._scaleMode==egret.StageScaleMode.FIXED_WIDTH||this._scaleMode==egret.StageScaleMode.FIXED_HEIGHT)&&(this._imgWrapper.style.left=this._x/this._stageW*this._windowW+"px"),(this._scaleMode==egret.StageScaleMode.SHOW_ALL||this._scaleMode==egret.StageScaleMode.NO_BORDER)&&(this._windowW==this._displayW?this._imgWrapper.style.left=this._x/this._stageW*this._windowW+"px":this._imgWrapper.style.left=this._x/this._stageW*this._displayW+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,(this._scaleMode==egret.StageScaleMode.FIXED_WIDTH||this._scaleMode==egret.StageScaleMode.FIXED_HEIGHT)&&(this._imgWrapper.style.top=this._y/this._stageH*this._windowH+"px"),(this._scaleMode==egret.StageScaleMode.SHOW_ALL||this._scaleMode==egret.StageScaleMode.NO_BORDER)&&(this._windowH==this._displayH?this._imgWrapper.style.top=this._y/this._stageH*this._windowH+"px":this._imgWrapper.style.top=this._y/this._stageH*this._displayH+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"src",{get:function(){return this._src},set:function(t){this._src=t},enumerable:!0,configurable:!0}),e}(egret.DisplayObjectContainer);__reflect(WebImage.prototype,"WebImage");var WebView=function(t){function e(e){var n=t.call(this)||this;n._x=0,n._y=0,n._width=0,n._height=0,n._src="",n._scaleMode=egret.MainContext.instance.stage.scaleMode,n._iframeWrapper=null,n._iframe=null;var i=document.getElementById("StageDelegateDiv"),o=i.parentElement,a=document.getElementById("iframe-wrapper");a||(a=document.createElement("div"),a.style.display="none",a.attributes.style.value+="position:absolute;-webkit-overflow-scrolling: touch;overflow-y: scroll;",a.id="iframe-wrapper",i.appendChild(a)),n._iframeWrapper=a,n._iframeWrapper.style.display="none",n._iframeWrapper.style.opacity="0";var r=document.createElement("iframe"),s=(new Date).getTime();r.src=e,r.id="webview-iframe-"+s,r.name="webview-iframe-"+s,r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.opacity="0",r.style.display="none",r.frameBorder="0",r.border="0",n._iframeWrapper.appendChild(r),n._iframe=document.getElementById("webview-iframe-"+s);var h=n;n._iframe.onload=function(){h._iframeWrapper.style.opacity="1",h._iframe.style.opacity="1"},n._stageW=egret.MainContext.instance.stage.stageWidth,n._stageH=egret.MainContext.instance.stage.stageHeight,n._windowW=window.innerWidth,n._windowH=window.innerHeight,n._designH=parseInt(o.attributes["data-content-height"].value),n._designW=parseInt(o.attributes["data-content-width"].value);var c=egret.sys.screenAdapter.calculateStageSize(egret.MainContext.instance.stage.scaleMode,n._windowW,n._windowH,n._designW,n._designH);return n._displayH=c.displayHeight,n._displayW=c.displayWidth,console.log("windowW:"+n._windowW),console.log("stageW:"+n._stageW),console.log("disPlayW:"+n._displayW),console.log("windowH:"+n._windowH),console.log("stageH:"+n._stageH),console.log("displayH:"+n._displayH),n}return __extends(e,t),e.prototype.show=function(){this._iframe.style.display="block",this._iframeWrapper.style.display="block"},e.prototype.destroy=function(){this._iframe&&(this._iframeWrapper.style.display="none",this._iframeWrapper.removeChild(this._iframe))},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,(this._scaleMode==egret.StageScaleMode.FIXED_WIDTH||this._scaleMode==egret.StageScaleMode.FIXED_HEIGHT)&&(this._iframe.width=this._width/this._stageW*this._windowW+"px",this._iframeWrapper.style.width=this._width/this._stageW*this._windowW+"px"),(this._scaleMode==egret.StageScaleMode.SHOW_ALL||this._scaleMode==egret.StageScaleMode.NO_BORDER)&&(this._windowW==this._displayW?(this._iframe.style.width=this._width/this._stageW*this._windowW+"px",this._iframeWrapper.style.width=this._width/this._stageW*this._windowW+"px"):(this._iframe.style.width=this._width/this._stageW*this._displayW+"px",this._iframeWrapper.style.width=this._width/this._stageW*this._displayW+"px"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,(this._scaleMode==egret.StageScaleMode.FIXED_WIDTH||this._scaleMode==egret.StageScaleMode.FIXED_HEIGHT)&&(this._iframe.height=this._height/this._stageH*this._windowH+"px",this._iframeWrapper.style.height=this._height/this._stageH*this._windowH+"px"),(this._scaleMode==egret.StageScaleMode.SHOW_ALL||this._scaleMode==egret.StageScaleMode.NO_BORDER)&&(this._windowH==this._displayH?(this._iframe.style.height=this._height/this._stageH*this._windowH+"px",this._iframeWrapper.style.height=this._height/this._stageH*this._windowH+"px"):(this._iframe.style.height=this._height/this._stageH*this._displayH+"px",this._iframeWrapper.style.height=this._height/this._stageH*this._displayH+"px"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,(this._scaleMode==egret.StageScaleMode.FIXED_WIDTH||this._scaleMode==egret.StageScaleMode.FIXED_HEIGHT)&&(this._iframeWrapper.style.left=this._x/this._stageW*this._windowW+"px"),(this._scaleMode==egret.StageScaleMode.SHOW_ALL||this._scaleMode==egret.StageScaleMode.NO_BORDER)&&(this._windowW==this._displayW?this._iframeWrapper.style.left=this._x/this._stageW*this._windowW+"px":this._iframeWrapper.style.left=this._x/this._stageW*this._displayW+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,(this._scaleMode==egret.StageScaleMode.FIXED_WIDTH||this._scaleMode==egret.StageScaleMode.FIXED_HEIGHT)&&(this._iframeWrapper.style.top=this._y/this._stageH*this._windowH+"px"),(this._scaleMode==egret.StageScaleMode.SHOW_ALL||this._scaleMode==egret.StageScaleMode.NO_BORDER)&&(this._windowH==this._displayH?this._iframeWrapper.style.top=this._y/this._stageH*this._windowH+"px":this._iframeWrapper.style.top=this._y/this._stageH*this._displayH+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"src",{get:function(){return this._src},set:function(t){this._src=t},enumerable:!0,configurable:!0}),e}(egret.DisplayObjectContainer);__reflect(WebView.prototype,"WebView");var ErrorCode=function(){function t(){}return t.codeArr={9000:"短信发送时间间隔太短"},t}();__reflect(ErrorCode.prototype,"ErrorCode");var vo;!function(t){var e=function(){function t(){}return t.balance=549.88,t.autoPlayCount=0,t.TotalActionCount=0,t.payData=[],t.betScoreArr=[.01,.02,.05,.1,.16,.25,.4],t.betIndex=0,t.allFreeCount=0,t.line=25,t.lineObj={1:[1,1,1,1,1],2:[0,0,0,0,0],3:[2,2,2,2,2],4:[0,1,2,1,0],5:[2,1,0,1,2],6:[1,0,0,0,1],7:[1,2,2,2,1],8:[0,0,1,2,2],9:[2,2,1,0,0],10:[1,2,1,0,1],11:[1,0,1,2,1],12:[0,1,1,1,0],13:[2,1,1,1,2],14:[0,1,0,1,0],15:[2,1,2,1,2],16:[1,1,0,1,1],17:[1,1,2,1,1],18:[0,0,2,0,0],19:[2,2,0,2,2],20:[0,2,2,2,0],21:[2,0,0,0,2],22:[1,2,0,2,1],23:[1,0,2,0,1],24:[0,2,0,2,0],25:[2,0,2,0,2]},t.autoCountArr=[10,25,50,99],t.autoCountIndex=0,t.desArr=["继续玩!","加油!","火热奖金等着您!","赢不停!","炸出通向大奖的路!","爆炸5个或更多来赢奖!"],t.reelArr=[["M4","WW","M3","M5","M0","M3","M2","M3","M4","M1","M1","M2","WW","M1"],["M4","M1","M3","M1","M1","M2","M6","M4","M1","M2","M3","M4","M4","M2"],["M4","WW","M2","M3","M1","M0","M3","M2","WW","WW","M3","M1","WW","M3"]],t}();t.GameData=e,__reflect(e.prototype,"vo.GameData");var n=function(){function t(){}return t.prototype.readData=function(t){},t}();t.BaseInfo=n,__reflect(n.prototype,"vo.BaseInfo");var i=function(t){function e(){var e=t.call(this)||this;return e.resultArr=[],e.indexArr=[],e.allwin=0,e}return __extends(e,t),e.prototype.readData=function(t){},e.prototype.readPlayAction=function(t){},e}(n);t.SlotInfo=i,__reflect(i.prototype,"vo.SlotInfo")}(vo||(vo={}));var GameType;!function(t){var e=function(){function t(){}return t}();t.ItemType=e,__reflect(e.prototype,"GameType.ItemType");var n=function(){function t(){}return t.trueModle=0,t.falseModle=1,t}();t.GameModule=n,__reflect(n.prototype,"GameType.GameModule");var i=function(){function t(){}return t.PLAYING=1,t.STOP=0,t}();t.GameState=i,__reflect(i.prototype,"GameType.GameState");var o=function(){function t(){}return t.CN="cn",t.TW="tw",t.EN="en",t}();t.LangType=o,__reflect(o.prototype,"GameType.LangType");var a=function(){function t(){}return t.NOMAL_REWARD=1,t.NO_REWARD=0,t.BIG_REWARD=2,t.FREE_REWARD=3,t.BIG_AND_FREE=4,t}();t.RewardType=a,__reflect(a.prototype,"GameType.RewardType");var r=function(){function t(){}return t.slot="slot",t.freeslot="freeslot",t.treasure="treasure",t.treasure2="treasure2",t}();t.GameType=r,__reflect(r.prototype,"GameType.GameType");var s=function(){function t(){}return t.UP=1,t.DOWN=0,t}();t.RellMode=s,__reflect(s.prototype,"GameType.RellMode")}(GameType||(GameType={}));var AudioTips=function(t){function e(){var e=t.call(this)||this;return e.skinName=AuduTipSkin,e}return __extends(e,t),e.prototype.onAdd=function(){var e=this;t.prototype.onAdd.call(this),this.registerEvent(this.okRect,egret.TouchEvent.TOUCH_TAP,function(t){t.stopPropagation(),t.stopImmediatePropagation(),e.okcallfun&&e.okcallfun(),core.UIManager.closeUI(core.UIConst.AudioTips),SoundManager.getInstance().setBgOn(!0),SoundManager.getInstance().setEffectOn(!0),GameManager.getInstance().dispatchEventWith(SetEvent.SET_MUSIC_CHANGE)},this),this.registerEvent(this.cancleRect,egret.TouchEvent.TOUCH_TAP,function(t){t.stopPropagation(),t.stopImmediatePropagation(),e.canclecallfun&&e.canclecallfun(),core.UIManager.closeUI(core.UIConst.AudioTips),SoundManager.getInstance().setBgOn(!1),SoundManager.getInstance().setEffectOn(!1),GameManager.getInstance().dispatchEventWith(SetEvent.SET_MUSIC_CHANGE)},this),this.registerEvent(this,egret.TouchEvent.TOUCH_TAP,function(t){t.stopPropagation(),t.stopImmediatePropagation()},this),this.registerEvent(this.checkButton,egret.TouchEvent.TOUCH_TAP,function(t){t.stopPropagation(),t.stopImmediatePropagation(),egret.localStorage.setItem("music",e.checkButton.selected?"1":"0")},this)},e.prototype.onRemove=function(){t.prototype.onRemove.call(this)},e.prototype.shows=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this.desLabel.text=e,this.callfun=n},e.prototype.updataVer=function(){this.mainGroup.scaleX=1,this.mainGroup.scaleY=1},e.prototype.updataHor=function(){this.mainGroup.scaleX=1,this.mainGroup.scaleY=1},e}(core.BaseUI);__reflect(AudioTips.prototype,"AudioTips");var GameItem=function(t){function e(){var e=t.call(this)||this;return e.skinName=GameItemSkin,e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this)},e.prototype.dataChanged=function(){t.prototype.dataChanged.call(this),egret.ImageLoader.crossOrigin="anonymous",this.icons.source=this.data.icon,this.nameLabel.text=this.data.name,window.innerWidth>window.innerHeight?this.currentState="hor":this.currentState="ver"},e.prototype.onTab=function(){window.location.href=this.data.href},e}(eui.ItemRenderer);__reflect(GameItem.prototype,"GameItem");var HelpUI=function(t){function e(){var e=t.call(this)||this;return e.skinName=HelpSkin,e}return __extends(e,t),e.prototype.onAdd=function(){t.prototype.onAdd.call(this),core.TimerManager.instance.addTick(1e3,-1,this.onFrame,this),this.registerEvent(this.backBtn,egret.TouchEvent.TOUCH_TAP,function(){core.UIManager.closeUI(core.UIConst.HelpUI)},this),core.UIManager.openUI(core.UIConst.NetUI,core.LayerManager.Layer_Tip);var e=core.UIManager.getUI(core.UIConst.NetUI);e.showNomalNet(),egret.setTimeout(function(){core.UIManager.closeUI(core.UIConst.NetUI),e.hideNetting()},this,1e3)},e.prototype.onRemove=function(){t.prototype.onRemove.call(this),core.TimerManager.instance.removeTick(this.onFrame,this)},e.prototype.onFrame=function(t){var e=new Date;this.timeLabel.text=dateFtt("yyyy-MM-dd hh:mm:ss",e)+" "+GameConfig.CasinoGame.PlayerId},e}(core.BaseUI);__reflect(HelpUI.prototype,"HelpUI");var LoginUI=function(t){function e(){var e=t.call(this)||this;return e.skinName=LoginSkin,e}return __extends(e,t),e.prototype.onAdd=function(){t.prototype.onAdd.call(this),this.registerEvent(this,egret.TouchEvent.TOUCH_TAP,this.onGo,this)
},e.prototype.onGo=function(){core.UIManager.openUI(core.UIConst.MainScenceUI)},e}(core.BaseUI);__reflect(LoginUI.prototype,"LoginUI");var MoreGameUI=function(t){function e(){var e=t.call(this)||this;return e.skinName=MoreGameSkin,e}return __extends(e,t),e.prototype.onAdd=function(){t.prototype.onAdd.call(this),this.registerEvent(this.hbackBtn,egret.TouchEvent.TOUCH_TAP,function(){core.UIManager.closeUI(core.UIConst.MoreGameUI)},this),this.registerEvent(this.bgRect,egret.TouchEvent.TOUCH_TAP,function(){core.UIManager.closeUI(core.UIConst.MoreGameUI)},this),this.init()},e.prototype.updataHor=function(){this.onRadioChange()},e.prototype.updataVer=function(){this.onRadioChange()},e.prototype.init=function(){this.radioGroup||(this.scrolls.viewport=this.lists,this.radioGroup=new eui.RadioButtonGroup,this.radioGroup.selectedValue=0,this.r0.group=this.radioGroup,this.r1.group=this.radioGroup,this.r0.value=0,this.r1.value=1,this.radioGroup.addEventListener(egret.Event.CHANGE,this.onRadioChange,this),this.lists.itemRenderer=GameItem),this.r0.selected=!0,this.r1.selected=!1,this.radioGroup.selection=this.r0},e.prototype.onRadioChange=function(){var t=RES.getRes("config_json"),e=1==this.radioGroup.selectedValue?t.h:t.n;this.lists.dataProvider=new eui.ArrayCollection(e),"hor"==this.currentState?(console.log("a"),this.lists.layout.paddingLeft=e.length>=8?0:(GameConfig.WIDTH-144*e.length-(10*e.length-1))/2):(console.log("b"),this.lists.layout.paddingLeft=(GameConfig.WIDTH-518.4-130)/2)},e.prototype.onRemove=function(){t.prototype.onRemove.call(this)},e}(core.BaseUI);__reflect(MoreGameUI.prototype,"MoreGameUI");var NetCloseUI=function(t){function e(){var e=t.call(this)||this;return e.skinName=netcloseSkin,e}return __extends(e,t),e.prototype.onAdd=function(){var e=this;t.prototype.onAdd.call(this),this.registerEvent(this.okRect,egret.TouchEvent.TOUCH_TAP,function(){e.okcallfun&&e.okcallfun(),core.UIManager.closeUI(core.UIConst.NetCloseUI)},this)},e.prototype.onRemove=function(){t.prototype.onRemove.call(this)},e.prototype.shows=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this.desLabel.text=e,this.callfun=n},e}(core.BaseUI);__reflect(NetCloseUI.prototype,"NetCloseUI");var NetUI=function(t){function e(){var e=t.call(this)||this;return e.skinName=NetSkin,e}return __extends(e,t),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.childrenCreated=function(){},e.prototype.showNetting=function(){var t=this,n=core.LayerManager.getInstance().getLayer(core.LayerManager.Layer_Tip);n.addChild(this),this.netingIcon.rotation=0,egret.Tween.get(this.netingIcon).to({rotation:2160},6e3).call(function(){t.netingIcon.rotation=0}).call(function(){e.getInstance().hideNetting(),core.UIManager.openUI(core.UIConst.NetCloseUI,core.LayerManager.Layer_Tip);var t=core.UIManager.getUI(core.UIConst.NetCloseUI);t.shows(0,"连接断开，正在重新连接.",function(){window.location.href=window.location.href})},this)},e.prototype.showNomalNet=function(){egret.Tween.get(this.netingIcon).to({rotation:21600},6e4)},e.prototype.hideNetting=function(){egret.Tween.removeTweens(this.netingIcon),this.parent&&this.parent.removeChild(this)},e}(core.BaseUI);__reflect(NetUI.prototype,"NetUI");var QukTipsUI=function(t){function e(){var e=t.call(this)||this;return e.skinName=QukTipSkin,e}return __extends(e,t),e.prototype.onAdd=function(){t.prototype.onAdd.call(this),this.registerEvent(this.closeBtn,egret.TouchEvent.TOUCH_TAP,function(t){t.stopPropagation(),t.stopImmediatePropagation(),core.UIManager.closeUI(core.UIConst.QukTipsUI)},this),this.registerEvent(this.qukLabel,egret.TouchEvent.TOUCH_TAP,function(t){t.stopPropagation(),t.stopImmediatePropagation(),SetConst.SPEED_PLAY=!0,GameManager.getInstance().dispatchEventWith(SetEvent.SET_SPEED_CHANGED),core.UIManager.closeUI(core.UIConst.QukTipsUI)},this)},e.prototype.onRemove=function(){t.prototype.onRemove.call(this)},e}(core.BaseUI);__reflect(QukTipsUI.prototype,"QukTipsUI");var RewardUI=function(t){function e(){var e=t.call(this)||this;return e.skinName=RewardSkin,e}return __extends(e,t),e.prototype.onAdd=function(){t.prototype.onAdd.call(this),core.TimerManager.instance.addTick(1e3,-1,this.onFrame,this),this.registerEvent(this.backBtn,egret.TouchEvent.TOUCH_TAP,function(){core.UIManager.closeUI(core.UIConst.RewardUI)},this),core.UIManager.openUI(core.UIConst.NetUI,core.LayerManager.Layer_Tip);var e=core.UIManager.getUI(core.UIConst.NetUI);e.showNomalNet(),egret.setTimeout(function(){core.UIManager.closeUI(core.UIConst.NetUI),e.hideNetting()},this,1e3)},e.prototype.onRemove=function(){t.prototype.onRemove.call(this),core.TimerManager.instance.removeTick(this.onFrame,this)},e.prototype.onFrame=function(t){var e=new Date;this.timeLabel.text=dateFtt("yyyy-MM-dd hh:mm:ss",e)+" "+GameConfig.CasinoGame.PlayerId},e}(core.BaseUI);__reflect(RewardUI.prototype,"RewardUI");var StipsUI=function(t){function e(){var e=t.call(this)||this;return e.skinName=StipSkin,e}return __extends(e,t),e.prototype.onAdd=function(){var e=this;t.prototype.onAdd.call(this),this.registerEvent(this.okRect,egret.TouchEvent.TOUCH_TAP,function(t){t.stopPropagation(),t.stopImmediatePropagation(),e.okcallfun&&e.okcallfun(),core.UIManager.closeUI(core.UIConst.StipsUI)},this),this.registerEvent(this.cancleRect,egret.TouchEvent.TOUCH_TAP,function(t){t.stopPropagation(),t.stopImmediatePropagation(),e.canclecallfun&&e.canclecallfun(),core.UIManager.closeUI(core.UIConst.StipsUI)},this),this.registerEvent(this,egret.TouchEvent.TOUCH_TAP,function(t){t.stopPropagation(),t.stopImmediatePropagation()},this)},e.prototype.onRemove=function(){t.prototype.onRemove.call(this)},e.prototype.shows=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this.desLabel.text=e,this.callfun=n},e}(core.BaseUI);__reflect(StipsUI.prototype,"StipsUI");var CheckButton=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(eui.ToggleButton);__reflect(CheckButton.prototype,"CheckButton");var MusicBtn=function(t){function e(){var e=t.call(this)||this;return e._valume=1,e}return __extends(e,t),e.prototype.onAdd=function(){t.prototype.onAdd.call(this),this.valume=SoundManager.getInstance().getBgVolume(),this.updataImg()},Object.defineProperty(e.prototype,"valume",{get:function(){return this._valume},set:function(t){this._valume=t,this.updataImg()},enumerable:!0,configurable:!0}),e.prototype.onRollOver=function(){var e=this;t.prototype.onRollOver.call(this),egret.callLater(function(){e.updataImg()},this)},e.prototype.onRollOut=function(){var e=this;t.prototype.onRollOut.call(this),egret.callLater(function(){e.updataImg()},this)},e.prototype.updataImg=function(){if(this.selected){if(0==this.valume)return this.selected=!1,this.currentState="",void(this.volueImg.source="");var t=Math.ceil(this.valume/.334);this.volueImg.source="rollOverAndSelected"==this.currentState?this.volueImg.source="open_liang"+t+"_png":this.volueImg.source="open_an"+t+"_png"}else{if(this.valume>0){this.selected=!0,this.currentState="";var t=Math.ceil(this.valume/.334);return void(this.volueImg.source="rollOverAndSelected"==this.currentState?this.volueImg.source="open_liang"+t+"_png":this.volueImg.source="open_an"+t+"_png")}this.volueImg.source=""}},e}(MosueCheckBox);__reflect(MusicBtn.prototype,"MusicBtn");var GamePentCompoment=function(t){function e(){var e=t.call(this)||this;return e.skinName=GamePentSkin,e}return __extends(e,t),e.prototype.childrenCreated=function(){var e=this;t.prototype.childrenCreated.call(this),this.clear(),GameManager.getInstance().addEventListener(SetEvent.SET_LINE_CHANGE,function(){e.showLineArr(vo.GameData.line)},this),this.clearReward()},e.prototype.clear=function(){this.kuangGroup.visible=!1,this.lineGroup.visible=!1,this.topGroup.visible=!1},e.prototype.anBgAll=function(){for(var t=1;26>t;t++){var e=this["blueBg_"+t];e.source="anBg_png",this["txt_"+t].font="scence_f2_fnt"}},e.prototype.showLiangBg=function(t){for(var e=1;t>=e;e++){var n=this["blueBg_"+e];n.source="blueBg_png",this["txt_"+e].font="scence_f0_fnt"}},e.prototype.showTipLine=function(t){this.tipGroup.visible=!0,this["lineBg_"+t].visible=!0},e.prototype.clearTip=function(){for(var t=1;26>t;t++)this["lineBg_"+t].visible=!1},e.prototype.drallall=function(){var t=[0,10066329,16768426,8943513];this.gGroup.removeChildren(),this.lineGroup.visible=!0,this.gGroup.visible=!0;for(var e=0;5>e;e++)for(var n=0;3>n;n++){var i=new eui.Rect;i.fillColor=t[Math.floor(4*Math.random())],i.x=210*e+69,i.y=198*n,i.width=213,i.height=210,i.ellipseWidth=30,i.ellipseHeight=30,this.gGroup.addChild(i)}},e.prototype.showLine=function(t,e){void 0===e&&(e=null),this.lineGroup.visible=!0,this.gGroup.removeChildren();var n;if(null!=e)for(var i=1;26>i;i++)if(n=this["line_"+i],t==i){n.visible=!0;for(var o=0;o<e.length;o++){var a=new eui.Rect;a.fillColor=0;var r=this.kuangGroup.getChildAt(e[o].X),s=r.getChildAt(e[o].Y);a.x=s.x+r.x,a.y=s.y+20,a.width=s.width,a.height=s.height,this.gGroup.addChild(a)}n.mask=this.gGroup}else n.mask=null,n.visible=!1},e.prototype.cleaAllLine=function(){for(var t=1;26>t;t++){var e=this["line_"+t];e.visible=!1,e.mask=null}this.lineGroup.visible=!1,this.topGroup.visible=!1},e.prototype.showLines=function(t){this.lineGroup.visible=!0;var e=this["line_"+t];e.visible=!0},e.prototype.showLineArr=function(t){var e=this;this.cleaAllLine();for(var n=1;t>=n;n++)this.showLines(n);egret.Tween.removeTweens(this.lineGroup),this.lineGroup.alpha=1,egret.Tween.get(this.lineGroup).wait(2e3).to({alpha:0},1e3).call(function(){e.lineGroup.visible=!1,e.lineGroup.alpha=1})},e.prototype.clearReward=function(){this.topGroup.visible=!1;for(var t=[0,4],e=0;e<t.length;e++)for(var n=t[e],i=0;3>i;i++){var o=this["t"+i+n+"Group"];o.visible=!1}},e.prototype.showReward=function(t,e,n){this.topGroup.visible=!0;var i=this["t"+e.Y+e.X+"Group"];i.visible=!0;var o=i.getChildAt(0);10>t?o.source="win_bg0"+t+"@2x_png":o.source="win_bg"+t+"@2x_png";var a=i.getChildAt(1);a.text="￥"+GameManager.numberToCommonStr(n)},e.prototype.showKuang=function(t,e){this.kuangGroup.visible=!0;for(var n=0;n<this.kuangGroup.numChildren;n++)for(var i=this.kuangGroup.getChildAt(n),o=0;o<i.numChildren;o++){var a=i.getChildAt(o);a.visible=!1}for(var r=0;r<e.length;r++)for(var n=0;n<this.kuangGroup.numChildren;n++)for(var i=this.kuangGroup.getChildAt(n),o=0;o<i.numChildren;o++){var a=i.getChildAt(o);n==e[r].X&&o==e[r].Y&&(a.visible=!0,10>t?a.source="box0"+t+"_png":a.source="box"+t+"_png")}},e.prototype.showkuang2=function(t){this.kuangGroup.visible=!0;for(var e=0;e<this.kuangGroup.numChildren;e++)for(var n=this.kuangGroup.getChildAt(e),i=0;i<n.numChildren;i++){var o=n.getChildAt(i);o.visible=!1}for(var a=0;a<t.length;a++)for(var e=0;e<this.kuangGroup.numChildren;e++)for(var n=this.kuangGroup.getChildAt(e),i=0;i<n.numChildren;i++){var o=n.getChildAt(i);e==t[a].X&&i==t[a].Y&&(o.visible=!0,o.source="box07_png")}},e.prototype.getLineArrForKuang=function(t,e){for(var n=[],i=vo.GameData.lineObj[t+""],o=0;o<i.length;o++){for(var a=i[o],r=0,s=0;s<e.length&&e[s].X!=o;s++)r++;r==e.length&&n.push({X:o,Y:a})}return(18==t||19==t||22==t||23==t)&&n.push({X:1,Y:1},{X:2,Y:1},{X:3,Y:1}),(20==t||21==t)&&n.push({X:0,Y:1},{X:1,Y:1},{X:3,Y:1},{X:4,Y:1}),(24==t||25==t)&&n.push({X:0,Y:1},{X:1,Y:1},{X:2,Y:1},{X:3,Y:1},{X:4,Y:1}),n},e.prototype.clearAll=function(){this.cleaAllLine(),this.clearTip(),this.gGroup.removeChildren(),this.kuangGroup.visible=!1},e}(eui.Component);__reflect(GamePentCompoment.prototype,"GamePentCompoment");var GameScence=function(t){function e(){var e=t.call(this)||this;return e.reelArr=[],e.skinName=GameScenceSkin,e}return __extends(e,t),e.prototype.init=function(){for(var t=0;5>t;t++){var e=this["reel"+t];this.reelArr.push(this["reel"+t]),e.index=t}},e.prototype.reset=function(){for(var t=0;5>t;t++){var e=this["reel"+t];e.curReelData=vo.GameData.initData.Value.Geninit.Main.ReelSymbols[t],e.initData()}},e.prototype.startReel=function(){for(var t=0;5>t;t++){var e=this["reel"+t];e.start()}SoundManager.getInstance().effectOn&&SoundManager.getInstance().playMusic(SoundConst.START,1).then(function(t){GameManager.getInstance().startChannel=t})},e.prototype.stopReel=function(){for(var t=0;t<this.reelArr.length;t++){var e=this.reelArr[t];e.stop()}SoundManager.getInstance().playEffect(SoundConst.STOP),this.showLight()},e.prototype.showAnimation=function(t){for(var e=0;e<this.reelArr.length;e++)if(e==t.X){var n=this.reelArr[e];n.showAnimation(t.Y)}},e.prototype.hideAnimation=function(t){for(var e=0;e<this.reelArr.length;e++){this.reelArr[e];if(e==t.X){var n=this.reelArr[e];n.hideAnimation(t.Y)}}},e.prototype.hideAllAnimation=function(){for(var t=0;t<this.reelArr.length;t++){var e=this.reelArr[t];e.clearAllAnimation()}},e.prototype.huanyuanC1=function(t){for(var e=0;e<t.length;e++)this.reelArr[t[e].X].huanYuan(t[e].Y)},e.prototype.showLight=function(){egret.Tween.removeTweens(this.lightBg),window.innerWidth>window.innerHeight?egret.Tween.get(this.lightBg).to({alpha:.3},50).to({alpha:0},50):egret.Tween.get(this.lightBg).to({alpha:.4},50).to({alpha:0},80)},e.prototype.displayBonus=function(t){for(var e=0;e<t.length;e++)this.reelArr[t[e].X].moveC1y(t[e].Y);this.bonusMc||(this.bonusMc=game.MCUtils.getMc("bonusMc")),this.addChild(this.bonusMc),this.bonusMc.gotoAndPlay("bonusMc",1),this.bonusMc.x=this.width/2,this.bonusMc.y=this.height/2,this.bonusMc.scaleX=1.32,this.bonusMc.scaleY=1.32},e.prototype.removeBonusMc=function(){this.bonusMc&&this.bonusMc.parent&&(this.bonusMc.parent.removeChild(this.bonusMc),this.bonusMc.stop())},e}(eui.Component);__reflect(GameScence.prototype,"GameScence");var Item=function(t){function e(){var e=t.call(this)||this;return e._isVir=!1,e.ispeed=0,e.speedy=0,e.isTiao=!1,e.time=1,e.isAction=!1,e.isDie=!1,e.isCheck=!1,e.isSelected=!1,e.skinName=ItemSkin,e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.width=GameConfig.ITEM_W,this.height=GameConfig.ITEM_H,this.anchorOffsetX=GameConfig.ITEM_W/2,this.anchorOffsetY=GameConfig.ITEM_H/2,this.init()},e.prototype.init=function(){var t=this;this.itemMC=game.MCUtils.getMc("itemmc"),this.mcGroup.addChild(this.itemMC),this.itemMC.x=this.width/2,this.itemMC.y=this.height/2,this.itemMC.addEventListener(egret.MotionEvent.COMPLETE,function(){t.itemMC.gotoAndStop(t.gametype)},this)},e.prototype.onFrame=function(){},e.prototype.goActionforColAndRow=function(t,e){this.actionState=0,this.speedy=20,this.isTiao=!0,this.isCheck=!1,this.tcol=t,this.trow=e,this.col=this.tcol,this.row=this.trow;this.tcol*GameConfig.ITEM_H+GameConfig.ITEM_H/2;this.isAction=!1},e.prototype.goActionforColAndRowforRandomtime=function(t,e){var n=this,i=Math.abs(t-this.tcol);this.isAction=!0,this.actionState=0,this.speedy=20,this.isTiao=!0,this.isCheck=!1,this.tcol=t,this.trow=e,this.col=this.tcol,this.row=this.trow;var o=this.tcol*GameConfig.ITEM_H+GameConfig.ITEM_H/2;egret.Tween.removeTweens(this);var a=60*i-60*Math.random();egret.Tween.get(this).to({y:o},a,egret.Ease.quartIn).call(function(){},this).call(function(){n.isAction=!1},this)},e.prototype.goActionforColAndRowforRandomtime2=function(t,e){var n=this;this.isAction=!0,this.actionState=0,this.speedy=20,this.isTiao=!0,this.isCheck=!1,this.tcol=t,this.trow=e,this.col=this.tcol,this.row=this.trow;var i=this.tcol*GameConfig.ITEM_H+GameConfig.ITEM_H/2;egret.Tween.removeTweens(this),egret.Tween.get(this).to({y:i},200,egret.Ease.quartIn).call(function(){},this).call(function(){n.isAction=!1},this)},e.prototype.setPosForColAndRow=function(t,e){this.col=t,this.row=e,this.tcol=this.col,this.trow=this.trow,this.x=this.row*GameConfig.ITEM_W+GameConfig.ITEM_W/2,this.y=this.col*GameConfig.ITEM_H+GameConfig.ITEM_H/2},e.prototype.upXAndY=function(t,e){this.x-=t,this.y-=e},e.prototype.reset=function(){this.isDie=!1,this.speedy=0,this.time=0,this.isTiao=!1,this.isCheck=!1,this.isSelected=!1},e.prototype.playSingleAnimation=function(){this.mcGroup.visible=!0,this.itemMC.gotoAndPlay(this.gametype,1),SoundManager.getInstance().playEffect(this.gametype+"_mp3")},Object.defineProperty(e.prototype,"gameType",{get:function(){return this.gametype},set:function(t){this.gametype=t,this.itemMC&&this.itemMC.gotoAndStop(this.gametype)},enumerable:!0,configurable:!0}),e.G=.01,e.t=0,e}(eui.Component);__reflect(Item.prototype,"Item");var MainScenceUI=function(t){function e(){var e=t.call(this)||this;return e.index=0,e.isBegin=!1,e.tx=0,e.ty=0,e.indexNum=0,e.isTipsGroup=!1,e.curtime=0,e.indexC1=0,e.showReward=0,e.winIndex=0,e.allReward=0,e._rewardNum=0,e._rewardMaxNum=0,e.skinName=MainScenceUISkin,e}return __extends(e,t),e.prototype.onAdd=function(){var e=this;t.prototype.onAdd.call(this),this.gameScence.init(),this.gameScence.reset(),this.updataUI(),this.setUI.updataState(),this.registerEvent(this.gameScence,egret.TouchEvent.TOUCH_BEGIN,this.onBegin,this),this.registerEvent(this,egret.TouchEvent.TOUCH_BEGIN,this.onBegin,this),egret.MainContext.instance.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onEnd,this),this.registerEvent(this.setUI.autoButton,egret.TouchEvent.TOUCH_END,this.onEnd,this),this.registerEvent(this.setUI.bonusBtn,egret.TouchEvent.TOUCH_END,this.onBonusEnd,this),this.registerEvent(this.pickFreeBtn,egret.TouchEvent.TOUCH_TAP,this.closeFreeUi,this),GameManager.getInstance().addEventListener(SetEvent.SET_HIDE_REWARD,this.hideWin,this),this.registerEvent(this.overFreeBtn,egret.TouchEvent.TOUCH_TAP,this.endFreeUi,this),this.alpha=0,egret.Tween.get(this).to({alpha:1},1e3).wait(5e3).call(function(){core.UIManager.closeUI(core.UIConst.AudioTips)}),egret.MainContext.instance.stage.addEventListener(egret.StageOrientationEvent.ORIENTATION_CHANGE,function(){e.setUI.updataState(),e.updataState()},this),this.registerEvent(this,eui.UIEvent.RESIZE,this.initSc,this);var n=egret.localStorage.getItem("today");if(n){var i=(new Date).getTime();Utils.isSameDay(parseInt(n),i)||this.setUI.popBet()}else this.setUI.popBet();egret.localStorage.setItem("today",(new Date).getTime()+"")},e.prototype.initSc=function(){var t=this;egret.setTimeout(function(){t.setUI.updataState()},this,800)},e.prototype.onBegin=function(t){this.tx=t.stageX,this.ty=t.stageY,GameManager.getInstance().gameState==GameType.GameState.STOP&&t.currentTarget==this.gameScence&&0==this.isBegin&&(this.isBegin=!0)},e.prototype.onEnd=function(t){if(this.curtime=egret.getTimer(),t.currentTarget==this.setUI.autoButton)return void(GameManager.getInstance().gameState==GameType.GameState.PLAYING&&(t.stopPropagation(),t.stopImmediatePropagation()));if(this.isBegin){if(!GameConfig.isBonusBtn){if(this.isBegin=!1,SetConst.AUTO_SHOW||SetConst.BETSET_SHOW)return;if(GameManager.getInstance().gameState==GameType.GameState.PLAYING)return;t.stageY-this.ty>20?(Reel.REEL_MODE=GameType.RellMode.DOWN,GameManager.getInstance().dispatchEventWith(SetEvent.SET_START)):t.stageY-this.ty<-20&&(Reel.REEL_MODE=GameType.RellMode.UP,GameManager.getInstance().dispatchEventWith(SetEvent.SET_START))}}else if(this.isBegin=!1,GameManager.getInstance().gameState==GameType.GameState.PLAYING&&1==SetConst.isCanStopGame){SetConst.isCanStopGame=!1,console.log("aaaaaaa");vo.GameData.resultData.Value.SpinResult.Main.WinResults;this.gameScence.stopReel()}},e.prototype.updataState=function(){GameConfig.isBonusBtn&&(this.setUI.updataEnable(0),this.setUI.bonusBtn.visible=!0,this.setUI.startButton.visible=!1,this.setUI.autoButton.visible=!1),GameConfig.freeGame&&(this.setUI.updataEnable(0),this.bg.visible=!1,this.mainGroup.visible=!1,this.setUI.visible=!1,this.freeGroup.visible=!0,this.isTipsGroup&&(this.tipsGroup.visible=!0))},e.prototype.closeFreeUi=function(){this.indexNum=0,this.isTipsGroup=!1,this.logo1.visible=!1,this.logo2.visible=!0,this.free_group.visible=!0,this.gameScence.freeBg.visible=!0,this.free_fanbei.text=this.fanbeiNum.text,this.free_Num.text=""+vo.GameData.TotalActionCount,this.bg.visible=!0,this.mainGroup.visible=!0,this.freeGroup.visible=!1,GameConfig.freeGame=!1,this.tipsGroup.visible=!1;for(var t=0;5>t;t++)this["beiKe_"+t].source="with_pearl_01_png",this["beiKe_x"+t].visible=!1},e.prototype.endFree=function(){this.tipsGroup.visible=!0,this.isTipsGroup=!0,this.pickFree.visible=!1,this.overFree.visible=!0},e.prototype.endFreeUi=function(){this.setUI.visible=!0,this.logo1.visible=!0,this.logo2.visible=!1,this.free_group.visible=!1,this.gameScence.freeBg.visible=!1,this.isTipsGroup=!1,this.tipsGroup.visible=!1,this.pickFree.visible=!0,this.overFree.visible=!1;var t=vo.GameData.resultData,e=(t.Value.SpinResult.TotalBet,t.Value.SpinResult.TotalWin,t.Value.SpinResult.Denom/1e4),n=t.Value.Dollar,i=n/e;console.log(e+" == 最后的分数 == "+n),i>=30&&this.setRewardMax(n,!0,4),i>=8&&30>i&&this.setRewardMax(n,!0,3),i>=1&&8>i&&this.setRewardMax(n,!0,2),1>i&&this.setRewardMax(n,!0,1)},e.prototype.onBonusEnd=function(){console.log("点击免费游戏"),this.setUI.bonusBtn.visible=!1,this.gameScence.removeBonusMc(),this.setUI.bonusBtnState(!1),this.gameScence.huanyuanC1(this.bonusPos),this.showFreeUi()},e.prototype.showFreeUi=function(){this.hideWin(),GameConfig.freeGame=!0,GameConfig.isBonusBtn=!1,this.bg.visible=!1,this.mainGroup.visible=!1,this.setUI.visible=!1,this.freeGroup.visible=!0;for(var t=0;5>t;t++)this["beiKe_"+t].pixelHitTest=!0,this["beiKe_"+t].addEventListener(egret.TouchEvent.TOUCH_TAP,this.changeBeiKe,this)},e.prototype.changeBeiKe=function(t){var e,n,i=this;switch(this.indexNum++,t.currentTarget){case this.beiKe_0:e=0,n=5;break;case this.beiKe_1:e=1,n=7;break;case this.beiKe_2:e=2,n=15;break;case this.beiKe_3:e=3,n=10;break;case this.beiKe_4:e=4,n=8}if(1==this.indexNum&&(vo.GameData.TotalActionCount=n+8),this.indexNum>=2&&(8>n&&(n=0),vo.GameData.TotalActionCount=vo.GameData.TotalActionCount+n),this["beiKe_"+e].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.changeBeiKe,this),this.indexNum>=2)for(var o=0;5>o;o++)this["beiKe_"+o].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.changeBeiKe,this);egret.Tween.get(this["beiKe_"+e]).call(function(){i["beiKe_"+e].source="with_pearl_01_png"}).wait(300).call(function(){i["beiKe_"+e].source="with_pearl_02_png"}).wait(500).call(function(){i["beiKe_"+e].source="with_pearl_03_png",i.freeNum.text="",i.beiNum.text="",i.rotateNum.text=""+vo.GameData.TotalActionCount,Commond.sendBonus(2,vo.GameData.TotalActionCount),i.fanbeiNum.text="X2",i.freeNumGroup.visible=!0,2>=e?i["beiKe_x"+e].y=327:i["beiKe_x"+e].y=525,i["beiKe_x"+e].visible=!0,egret.setTimeout(function(){if(i.indexNum>=2){for(var t=0;5>t;t++)i["beiKe_x"+t].visible||(2>=t?i["beiKe_x"+t].y=433:i["beiKe_x"+t].y=630,i["beiKe_x"+t].visible=!0);i.fanbeiNum.text="X2",i.rotateNum.text=""+vo.GameData.TotalActionCount,i.freeNum.text=""+vo.GameData.TotalActionCount,i.beiNum.text="2",i.tipsGroup.visible=!0,i.isTipsGroup=!0,vo.GameData.TotalActionCount-=1}},i,200)})},e.prototype.canStop=function(){this.indexC1=0,GameConfig.isTwo=!1,GameConfig.twoC1Index=-1;for(var t=0;t<this.gameScence.reelArr.length;t++){var e=this.gameScence.reelArr[t];e.curTime=egret.getTimer(),e.curReelData=vo.GameData.resultData.Value.SpinResult.Main.ReelSymbols[t];for(var n=0;n<e.curReelData.length;n++)"C1"==e.curReelData[n]&&(this.indexC1++,1==this.indexC1?GameConfig.oneC1Index=t:2==this.indexC1?(GameConfig.twoC1Index=t,GameConfig.isTwo=!0):this.indexC1>=3?GameConfig.threeC1Index=t:GameConfig.threeC1Index=-1)}},e.prototype.updataHor=function(){this.updataSame(),this.setUI.updataHor()},e.prototype.updataVer=function(){this.updataSame(),this.setUI.updataVer()},e.prototype.updataSame=function(){if(!SetConst.REWARD_SHOW)return void(this.setUI.rewradMaxGroup.y=this.setUI.bottomGroup.height+this.setUI.rewradMaxGroup.height*this.setUI.rewradMaxGroup.scaleY);var t=window.innerWidth>window.innerHeight;if(this.setUI.rewardMc){var e=t?GameConfig.HEIGHT/2-5:GameConfig.HEIGHT/2+140;this.setUI.rewardMc.x=GameConfig.WIDTH/2,this.setUI.rewardMc.y=e}if(1==this.index)this.setUI.rewradMaxGroup.y=t?46:41;else{if(2!=this.index)return;this.setUI.rewradMaxGroup.y=t?-GameConfig.HEIGHT/2+this.setUI.bottomGroup.height:-GameConfig.HEIGHT/2+this.setUI.bottomGroup.height}},e.prototype.onRemove=function(){t.prototype.onRemove.call(this)},e.prototype.updataUI=function(){},e.prototype.onTab=function(t){this.updataUI()},e.prototype.showWin=function(t){var e=this;if(SetConst.REWARD_SHOW=!0,SoundManager.getInstance().effectOn&&SoundManager.getInstance().playMusic(SoundConst.REWARD,1).then(function(t){GameManager.getInstance().rewardChannel=t}),t.length>0&&"Bonus2"==t[0].Type&&t[0].SymbolCount>=3){GameConfig.isFree=!0,SetConst.AUTO_COUNT=0,this.gameScence.displayBonus(t[0].Positions),this.bonusPos=[],this.bonusPos=t[0].Positions;for(var n=t[0].Positions,i=0;i<n.length;i++){var o=n[i];this.gameScence.showAnimation(o)}return this.setUI.startButton.visible=!1,this.setUI.autoButton.visible=!1,this.setUI.bonusBtnState(!0),this.setUI.bonusBtn.visible=!0,GameConfig.isBonusBtn=!0,void this.setUI.updataEnable(0)}this.gameScence.pent.clearTip(),this.gameScence.pent.cleaAllLine(),this.gameScence.pent.clearReward();for(var a=0;a<t.length;a++){var r=t[a].Data,n=t[a].Positions;if(r){var s=r.Line;t.length>1&&(this.gameScence.pent.showTipLine(s),this.gameScence.pent.showLines(s))}for(var i=0;i<n.length;i++){var o=n[i];this.gameScence.showAnimation(o)}}var h=t.length>1?500:0,c=!1;this.tt2=egret.setTimeout(function(){c=!0},this,3e3),this.tt=egret.setTimeout(function(){e.gameScence.pent.clearTip(),e.gameScence.pent.cleaAllLine(),e.gameScence.pent.clearReward();var n=t[e.winIndex];if(n.Data){e.gameScence.pent.showKuang(n.Data.Line,n.Positions);var i=e.gameScence.pent.getLineArrForKuang(n.Data.Line,n.Positions);e.gameScence.pent.showLine(n.Data.Line,i),e.gameScence.pent.showTipLine(n.Data.Line),0==n.Positions[0].X?e.gameScence.pent.showReward(n.Data.Line,n.Positions[0],n.Win/1e4):e.gameScence.pent.showReward(n.Data.Line,n.Positions[n.Positions.length-1],n.Win/1e4)}else e.gameScence.pent.showkuang2(n.Positions);e.winIndex++,e.winIndex>=t.length&&(e.winIndex=0),e.clert=egret.setInterval(function(){e.gameScence.pent.clearTip(),e.gameScence.pent.cleaAllLine(),e.gameScence.pent.clearReward(),t.length>1&&c&&SoundManager.getInstance().playEffect(SoundConst.SINGLEREWARD);var n=t[e.winIndex];if(n.Data){e.gameScence.pent.showKuang(n.Data.Line,n.Positions);var i=e.gameScence.pent.getLineArrForKuang(n.Data.Line,n.Positions);e.gameScence.pent.showLine(n.Data.Line,i),e.gameScence.pent.showTipLine(n.Data.Line),0==n.Positions[0].X?e.gameScence.pent.showReward(n.Data.Line,n.Positions[0],n.Win/1e4):e.gameScence.pent.showReward(n.Data.Line,n.Positions[n.Positions.length-1],n.Win/1e4)}else e.gameScence.pent.showkuang2(n.Positions);e.winIndex++,e.winIndex>=t.length&&(e.winIndex=0)},e,800)},this,h);var l=vo.GameData.resultData,u=l.Value.SpinResult.TotalBet,p=l.Value.SpinResult.TotalWin,g=l.Value.Dollar,d=p/u;this.setRewardMax(0,!1),d>=50?(this.setUI.rewradMaxGroup.visible=!0,this.setUI.rewardGroup.visible=!1,egret.clearTimeout(this.tt2),this.setRewardMax(g,!0,4)):d>=22?(this.setUI.rewradMaxGroup.visible=!0,this.setUI.rewardGroup.visible=!1,this.setRewardMax(g,!0,3)):d>=6?(this.setUI.rewradMaxGroup.visible=!0,this.setUI.rewardGroup.visible=!1,this.setRewardMax(g,!0,2)):d>=1.3?(this.setUI.rewradMaxGroup.visible=!0,this.setUI.rewardGroup.visible=!1,this.setRewardMax(g,!0,1)):(this.setUI.rewradMaxGroup.visible=!1,this.setUI.rewardGroup.visible=!0,SetConst.REWARD_SMALLSHOW=!0,this.setReward(g),this.setUI.tipLabel.visible=!1)},e.prototype.hideWin=function(){egret.clearInterval(this.clert),egret.clearTimeout(this.tt),egret.clearTimeout(this.tt2),this.gameScence.pent.clearAll(),this.gameScence.hideAllAnimation(),this.hideFiveAnimation(),this.winIndex=0,this.reward=0,this.hideReward()},e.prototype.hideReward=function(){var t=this;egret.Tween.removeTweens(this.setUI.rewradMaxGroup),SetConst.REWARD_SHOW=!1,SetConst.REWARD_SMALLSHOW=!1,this.showReward=0,this.rewardMax=0;var e=this.setUI.bottomGroup.height+this.setUI.rewradMaxGroup.height*this.setUI.rewradMaxGroup.scaleY;egret.Tween.get(this.setUI.rewradMaxGroup).to({y:e,scaleX:1,scaleY:1},300).call(function(){t.setUI.rewradMaxGroup.visible=!1}),this.setUI.mcGroup.visible=!1,this.setUI.rewardMc&&this.setUI.rewardMc.stop(),this.setUI.tipLabel.visible=!0},e.prototype.setReward=function(t,e){void 0===e&&(e=!0),egret.Tween.removeTweens(this),e&&this.reward<t?egret.Tween.get(this).to({reward:t},2e3).call(function(){}):this.reward=t},Object.defineProperty(e.prototype,"reward",{get:function(){return this._rewardNum},set:function(t){GameManager.getInstance().getFreeCount()>0?(this.allReward+=vo.GameData.resultData.Value.TotalWinDollar,this.allReward>0?this.free_money.text="￥"+GameManager.numberToCommonStr(this._rewardNum):this.free_money.text="--"):this.allReward=0,this._rewardNum=t;var e=GameManager.numberToCommonStr(this._rewardNum);this.setUI.rewardLabel.text="x"+e},enumerable:!0,configurable:!0}),e.prototype.setRewardMax=function(t,e,n){var i=this;void 0===e&&(e=!0),void 0===n&&(n=1),egret.Tween.removeTweens(this),this.setUI.tipLabel.visible=!1;var o=[0,2e3,3e3,4e3,9e3],a=window.innerWidth>window.innerHeight,r=0;e?(egret.Tween.get(this).to({rewardMax:t},o[n]),r=a?46:41,egret.Tween.get(this.setUI.rewradMaxGroup).to({y:r},500).wait(1e3).call(function(){i.index=1,n>1&&egret.Tween.get(i.setUI.rewradMaxGroup).to({scaleX:1.1,scaleY:1.1},1e3,egret.Ease.backOut).wait(1e3).call(function(){n>2?(a=window.innerWidth>window.innerHeight,r=a?-GameConfig.HEIGHT/2+i.setUI.bottomGroup.height:-GameConfig.HEIGHT/2+i.setUI.bottomGroup.height,egret.Tween.get(i.setUI.rewradMaxGroup).to({y:r,scaleX:1.4,scaleY:1.4},300).call(function(){i.index=2,n>3?(i.setUI.rewardMc||(i.setUI.rewardMc=game.MCUtils.getMc("rewards"),i.setUI.mcGroup.addChild(i.setUI.rewardMc)),a=window.innerWidth>window.innerHeight,r=a?GameConfig.HEIGHT/2-5:GameConfig.HEIGHT/2+140,i.setUI.rewardMc.x=GameConfig.WIDTH/2,i.setUI.rewardMc.y=r,i.setUI.mcGroup.visible=!0,i.setUI.rewardMc.gotoAndPlay("a0",-1),egret.Tween.get(i.setUI.rewradMaxGroup).wait(7e3).call(function(){i.setUI.mcGroup.visible=!1,i.setUI.rewardMc.stop(),a=window.innerWidth>window.innerHeight,r=a?46:41,egret.Tween.get(i.setUI.rewradMaxGroup).to({scaleX:1,scaleY:1,y:r},300).call(function(){i.index=1},i)},i)):(r=a?46:41,egret.Tween.get(i.setUI.rewradMaxGroup).wait(1e3).to({scaleX:1,scaleY:1,y:r},300))},i)):egret.Tween.get(i.setUI.rewradMaxGroup).wait(1e3).to({scaleX:1,scaleY:1},300)},i)},this)):this.rewardMax=t},Object.defineProperty(e.prototype,"rewardMax",{get:function(){return this._rewardMaxNum},set:function(t){this._rewardMaxNum=t;var e=GameManager.numberToCommonStr(this._rewardMaxNum);this.setUI.rewardMaxLabel.text="x"+e},enumerable:!0,configurable:!0}),e.prototype.showFiveAimation=function(t,e){var n=this;if(void 0===e&&(e=null),this.tipGroup.visible=!0,this.rewardWin.source="five_png",this.tipGroup.scaleX=.5,this.tipGroup.scaleY=.5,t.Data){var i=this.gameScence.pent.getLineArrForKuang(t.Data.Line,t.Positions);this.gameScence.pent.showLine(t.Data.Line,i),this.gameScence.pent.showKuang(t.Data.Line,t.Positions),this.gameScence.pent.showTipLine(t.Data.Line)}else this.gameScence.pent.showkuang2(t.Positions);egret.Tween.removeTweens(this.tipGroup),egret.Tween.get(this.tipGroup).to({scaleX:1.35,scaleY:1.35},800).to({scaleX:.5,scaleY:.5},800).to({scaleX:1.35,scaleY:1.35},800).to({scaleX:.5,scaleY:.5},800).to({scaleX:1.35,scaleY:1.35},800).call(function(){n.hideFiveAnimation(),e&&e()},this)},e.prototype.hideFiveAnimation=function(){egret.Tween.removeTweens(this.tipGroup),this.tipGroup.visible=!1,this.gameScence.pent.clearAll()},e.prototype.showBigReward=function(t){var e=this;void 0===t&&(t=null),this.tipGroup.visible=!0,this.rewardWin.source="big_png",this.tipGroup.scaleX=1,this.tipGroup.scaleY=1,this.tipGroup.verticalCenter=-150,egret.Tween.removeTweens(this.tipGroup),egret.Tween.get(this.tipGroup).to({scaleX:1.3,scaleY:1.3},550).to({scaleX:1,scaleY:1},550).to({scaleX:1.3,scaleY:1.3},550).to({scaleX:1,scaleY:1},550).to({scaleX:1.3,scaleY:1.3},550).to({scaleX:1,scaleY:1},550).to({scaleX:1.3,scaleY:1.3},550).to({scaleX:1,scaleY:1},550).to({scaleX:1.3,scaleY:1.3},550).to({scaleX:1,scaleY:1},550).to({scaleX:1.3,scaleY:1.3},550).to({scaleX:1,scaleY:1},550).call(function(){e.hideBigReward(),t&&t()
},this),this.rewardMc||(this.rewardMc=game.MCUtils.getMc("reward"),this.mcGroup.addChild(this.rewardMc),this.rewardMc.x=this.mcGroup.width/2,this.rewardMc.y=this.mcGroup.height/2+30),this.mcGroup.visible=!0,this.rewardMc.gotoAndPlay("a0",-1)},e.prototype.hideBigReward=function(){egret.Tween.removeTweens(this.tipGroup),this.tipGroup.visible=!1,this.rewardMc.stop(),this.mcGroup.visible=!1},e}(core.BaseUI);__reflect(MainScenceUI.prototype,"MainScenceUI");var Reel=function(t){function e(){var e=t.call(this)||this;return e.isAction=!1,e.curReelData=[],e.reelSpeed=100,e.curTime=0,e.index=0,e.aIndex=0,e.stopState=!1,e.skinName=ReelSkin,e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.addEventListener(egret.Event.ENTER_FRAME,this.onFrame,this)},e.prototype.showAnimation=function(t){var e=this.kGroup.getChildAt(t+1);e.goAnimation()},e.prototype.hideAnimation=function(t){var e=this.kGroup.getChildAt(t+1);e.hideAnimation()},e.prototype.clearAllAnimation=function(){for(var t=0;t<this.kGroup.numChildren;t++){var e=this.kGroup.getChildAt(t);e.hideAnimation()}},e.prototype.onFrame=function(){if(this.isAction)for(var t=0;t<this.kGroup.numChildren;t++){var e=this.kGroup.getChildAt(t),n=600;if(e.y+=this.reelSpeed,e.y>=this.height){for(var i=4-GameConfig.twoC1Index,o=1;i>=o;o++)GameConfig.isTwo&&this.index==GameConfig.twoC1Index+o&&(n=1500);for(var a=GameConfig.speedPlay?250:700,r=GameConfig.speedPlay?250:n,s=1;i>=s;s++)this.index==GameConfig.twoC1Index+s&&GameConfig.isTest&&(this.c1MC||(this.c1MC=game.MCUtils.getMc("c1mc")),this.addChild(this.c1MC),this.c1MC.gotoAndPlay("c1mc",-1),this.c1MC.x=this.kGroup.width/2,this.c1MC.y=this.kGroup.height/2,this.c1MC.scaleX=1,this.c1MC.scaleY=1,GameConfig.isTest=!1,r+=500,this.index>GameConfig.threeC1Index?(this.c1MC.visible=!1,r-=800):this.c1MC.visible=!0);var h=500;if(egret.getTimer()-this.curTime>a+(r*this.index+h)&&!GameConfig.isTest)return-1!=GameConfig.twoC1Index&&(this.index==GameConfig.twoC1Index&&(GameConfig.isTest=!0),this.index==GameConfig.twoC1Index+1&&(GameConfig.isTest=!0),this.index==GameConfig.twoC1Index+2&&(GameConfig.isTest=!0)),this.isAction=!1,void this.overReel();e.y=this.kGroup.getChildAt(0).y-this.kGroup.getChildAt(0).height,e.value="M"+Math.ceil(5*Math.random()),this.kGroup.setChildIndex(e,0)}}},e.prototype.stopMusic=function(){this.chanel&&(this.chanel.stop(),this.chanel=null)},e.prototype.overReel=function(){var t=this;egret.Tween.removeTweens(this),!this.stopState;for(var e=function(e){var i=n.kGroup.getChildAt(e);egret.Tween.removeTweens(i);var o=void 0;o=e*i.height-i.height,i.y=n.stopState?o:e*i.height-i.height+100,i.value=e>0&&4>e?n.curReelData[e-1]:"M"+Math.ceil(5*Math.random());var a=n.stopState?0:300;egret.setTimeout(function(){t.c1MC&&t.c1MC.parent&&(t.c1MC.parent.removeChild(t.c1MC),t.c1MC.stop())},n,300),egret.Tween.get(i).to({y:o},a,egret.Ease.cubicOut).call(function(){4==t.index&&e==t.kGroup.numChildren-1&&(GameConfig.isTest=!1,core.NotifyManager.getInstance().sendNotify(core.NotifyConst.LOGIC_ROUNDOVER))},n)},n=this,i=0;i<this.kGroup.numChildren;i++)e(i)},e.prototype.initData=function(){for(var t=0;t<this.kGroup.numChildren;t++){var e=this.kGroup.getChildAt(t);e.value=t>0&&4>t?this.curReelData[t-1]:"M"+Math.ceil(5*Math.random())}},e.prototype.start=function(){for(var t=this,e=0;e<this.kGroup.numChildren;e++){var n=this.kGroup.getChildAt(e),i=n.y-50;egret.Tween.get(n).to({y:i},100).to({y:i+50},100)}egret.Tween.get(this).wait(200).call(function(){t.isAction=!0,t.stopState=!1,t.curTime=egret.getTimer()+99999},this)},e.prototype.stop=function(){this.isAction=!1,this.stopState=!0,this.overReel()},e.prototype.moveC1y=function(t){for(var e=0;e<this.kGroup.numChildren;e++){var n=this.kGroup.getChildAt(e),i=n.y+201,o=n.y-201;0==t&&egret.Tween.get(n).to({y:i},700),2==t&&egret.Tween.get(n).to({y:o},700)}},e.prototype.huanYuan=function(t){for(var e=0;e<this.kGroup.numChildren;e++){var n=this.kGroup.getChildAt(e),i=n.y+201,o=n.y-201;0==t&&egret.Tween.get(n).to({y:o},1),2==t&&egret.Tween.get(n).to({y:i},1)}},e.REEL_MODE=0,e.ShowNum=3,e.TIME=500,e.QUK_TIME=100,e.STOPTIME=100,e.QUK_STOPTIME=50,e}(eui.Component);__reflect(Reel.prototype,"Reel");var ReelItem=function(t){function e(){var e=t.call(this)||this;return e.isVir=!1,e.isA=!1,e.skinName=ReelItemSkin,e}return __extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,void 0!=this.value&&(this.icons.source=this._value+"_icon_png",this.icons.scaleX=1.2,this.icons.scaleY=1.2,this.icons.visible=!0)},enumerable:!0,configurable:!0}),e.prototype.goAnimation=function(){this.isA||(this.isA=!0,egret.Tween.removeTweens(this.icons),this.value=this._value,"WW"==this.value&&(!GameConfig.speedPlay,this.maoziMC||(this.maoziMC=game.MCUtils.getMc("ww")),this.addChild(this.maoziMC),this.maoziMC.gotoAndPlay("ww",-1),this.maoziMC.x=this.width/2,this.maoziMC.y=this.height/2,this.maoziMC.scaleX=1.4,this.maoziMC.scaleY=1.4,this.icons.visible=!1),"M5"==this.value&&(this.maoziMC1||(this.maoziMC1=game.MCUtils.getMc("m5")),this.addChild(this.maoziMC1),this.maoziMC1.gotoAndPlay("m5",-1),this.maoziMC1.x=this.width/2,this.maoziMC1.y=this.height/2,this.maoziMC1.scaleX=1.4,this.maoziMC1.scaleY=1.4,this.icons.visible=!1),"M3"==this.value&&(this.maoziMC2||(this.maoziMC2=game.MCUtils.getMc("m3")),this.addChild(this.maoziMC2),this.maoziMC2.gotoAndPlay("m3",-1),this.maoziMC2.x=this.width/2,this.maoziMC2.y=this.height/2,this.maoziMC2.scaleX=1.4,this.maoziMC2.scaleY=1.4,this.icons.visible=!1),"M1"==this.value&&(this.maoziMC3||(this.maoziMC3=game.MCUtils.getMc("m1")),this.addChild(this.maoziMC3),this.maoziMC3.gotoAndPlay("m1",-1),this.maoziMC3.x=this.width/2,this.maoziMC3.y=this.height/2,this.maoziMC3.scaleX=1.4,this.maoziMC3.scaleY=1.4,this.icons.visible=!1),"M2"==this.value&&(this.maoziMC4||(this.maoziMC4=game.MCUtils.getMc("m2")),this.addChild(this.maoziMC4),this.maoziMC4.gotoAndPlay("m2",-1),this.maoziMC4.x=this.width/2,this.maoziMC4.y=this.height/2,this.maoziMC4.scaleX=1.4,this.maoziMC4.scaleY=1.4,this.icons.visible=!1),"M4"==this.value&&(!GameConfig.speedPlay,this.maoziMC5||(this.maoziMC5=game.MCUtils.getMc("m4")),this.addChild(this.maoziMC5),this.maoziMC5.gotoAndPlay("m4",-1),this.maoziMC5.x=this.width/2,this.maoziMC5.y=this.height/2,this.maoziMC5.scaleX=1.4,this.maoziMC5.scaleY=1.4,this.icons.visible=!1),"C1"==this.value?(this.maoziMC6||(this.maoziMC6=game.MCUtils.getMc("c1")),this.addChild(this.maoziMC6),this.maoziMC6.gotoAndPlay("c1",-1),this.maoziMC6.x=this.width/2,this.maoziMC6.y=this.height/2,this.maoziMC6.scaleX=1.36,this.maoziMC6.scaleY=1.36,this.icons.visible=!1):egret.Tween.get(this.icons,{loop:!0}).to({scaleX:1,scaleY:1},700).to({scaleX:1.2,scaleY:1.2},700))},e.prototype.hideAnimation=function(){this.isA=!1,this.maoziMC&&this.maoziMC.parent&&(this.maoziMC.parent.removeChild(this.maoziMC),this.maoziMC.stop()),this.maoziMC1&&this.maoziMC1.parent&&(this.maoziMC1.parent.removeChild(this.maoziMC1),this.maoziMC1.stop()),this.maoziMC2&&this.maoziMC2.parent&&(this.maoziMC2.parent.removeChild(this.maoziMC2),this.maoziMC2.stop()),this.maoziMC3&&this.maoziMC3.parent&&(this.maoziMC3.parent.removeChild(this.maoziMC3),this.maoziMC3.stop()),this.maoziMC4&&this.maoziMC4.parent&&(this.maoziMC4.parent.removeChild(this.maoziMC4),this.maoziMC4.stop()),this.maoziMC5&&this.maoziMC5.parent&&(this.maoziMC5.parent.removeChild(this.maoziMC5),this.maoziMC5.stop()),this.maoziMC6&&this.maoziMC6.parent&&(this.maoziMC6.parent.removeChild(this.maoziMC6),this.maoziMC6.stop()),egret.Tween.removeTweens(this.icons),this.icons.scaleX=1,this.icons.scaleY=1,this.value=this._value},e}(eui.Component);__reflect(ReelItem.prototype,"ReelItem");var TipBanner=function(t){function e(){var e=t.call(this)||this;return e.itemArr=[],e.index=0,e.jiange=22,e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.subBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.addBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.updataUI()},e.prototype.updataHor=function(){this.index=this.itemArr.length>4?this.itemArr.length-4:0;for(var t=294+98*this.index,e=0;e<this.itemArr.length;e++)this.itemArr[e].y=t-e*this.itemArr[e].height,this.itemArr[e].x=0;this.updataUI()},e.prototype.updataVer=function(){this.index=this.itemArr.length>3?this.itemArr.length-3:0;for(var t=247*-this.index,e=0;e<this.itemArr.length;e++)this.itemArr[e].x=t+e*(this.itemArr[e].width+22),this.itemArr[e].y=0;this.updataUI()},e.prototype.showItem=function(t){var e=(this.itemArr.length>0?this.itemArr[this.itemArr.length-1]:null,new TipItem);e.setData(t),this.itemArr.push(e),this.KGroup.addChild(e);var n=window.innerWidth>window.innerHeight?!0:!1,i=n?4:3;e.y=n?(i-this.itemArr.length)*e.height:0,e.y<0&&(e.y=0),e.x=n?-300:800;var o;if(this.itemArr.length>i){for(var a=0;a<this.itemArr.length-1;a++){var r=this.itemArr[a],s=r.y+r.height,h=r.x-r.width-this.jiange;n?egret.Tween.get(r).to({y:s},200):egret.Tween.get(r).to({x:h},200)}this.index++,this.subBtn.visible=!0,this.subBtn.enabled=!1,o=n?0:(i-1)*e.width+this.jiange+this.jiange,egret.Tween.get(e).to({x:o},200)}else o=n?0:(this.itemArr.length-1)*(e.width+this.jiange),egret.Tween.get(e).to({x:o},200)},e.prototype.clear=function(){this.itemArr.length=0,this.index=0;for(var t=0;t<this.KGroup.numChildren;t++){var e=this.KGroup.getChildAt(t);e.visible=!1}this.addBtn.visible=this.subBtn.visible=!1},e.prototype.updataUI=function(t){void 0===t&&(t=!1);var e="hor"==this.currentState?4:3;this.addBtn.visible=this.subBtn.visible=this.itemArr.length>e,this.subBtn.enabled=this.index>0?!0:!1,this.addBtn.enabled=this.index<this.itemArr.length-e?!0:!1},e.prototype.onTab=function(t){var e="hor"==this.currentState?4:3;switch(t.currentTarget){case this.subBtn:this.index>0&&(this.index--,this.sub()),this.subBtn.enabled=this.index>0?!0:!1,this.addBtn.enabled=this.index<this.itemArr.length-e?!0:!1;break;case this.addBtn:this.index<this.itemArr.length-e&&(this.index++,this.add()),this.subBtn.enabled=this.index>0?!0:!1,this.addBtn.enabled=this.index<this.itemArr.length-e?!0:!1}},e.prototype.sub=function(){for(var t=0;t<this.itemArr.length;t++)"hor"==this.currentState?this.itemArr[t].y-=this.itemArr[t].height:this.itemArr[t].x+=this.itemArr[t].width+this.jiange},e.prototype.add=function(){for(var t=0;t<this.itemArr.length;t++)"hor"==this.currentState?this.itemArr[t].y+=this.itemArr[t].height:this.itemArr[t].x-=this.itemArr[t].width+this.jiange},e}(eui.Component);__reflect(TipBanner.prototype,"TipBanner");var TipItem=function(t){function e(){var e=t.call(this)||this;return e.skinName=TipItemSkin,e}return __extends(e,t),e.prototype.setData=function(t,e){var n=this;void 0===e&&(e=!1),this._data=t,this.icons.source="show_icon_"+this._data.type+"_png",this.bgImg.source="show_bg_"+this._data.type+"_png",this.windesLabel.text="X"+this._data.count+" 赢",this.winRewardLabel.text="￥"+GameManager.numberToCommonStr1(this._data.reward),e?(this.icons.scaleX=this.icons.scaleY=0,this.bgGroup.x=-252,egret.Tween.get(this.icons).to({scaleX:1,scaleY:1},350,egret.Ease.bounceOut).call(function(){egret.Tween.get(n.bgGroup).to({x:0},200)},this)):(this.icons.scaleX=this.icons.scaleY=1,this.bgGroup.x=0)},e}(eui.Component);__reflect(TipItem.prototype,"TipItem");var AutoSetCompoment=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){var e=this;t.prototype.childrenCreated.call(this),this.arrButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.arrButton.selected=SetConst.AUTO_SHOW,this.updataState(),GameManager.getInstance().addEventListener(SetEvent.SET_MODLE,this.onModleChange,this),this.mySlider.addEventListener(egret.Event.CHANGE,this.onSliderChange,this),core.LayerManager.getInstance().addEventListener(SetEvent.SET_OR_CHANGE,function(){e.updataState()},this),this.mySlider.maximum=10,this.mySlider.setValues(10),this.onSliderChange()},e.prototype.onSliderChange=function(){9999==SetConst.AUTO_COUNT_ARR[this.mySlider.value]?this.countLabel.text="直到环节":this.countLabel.text=SetConst.AUTO_COUNT_ARR[this.mySlider.value]+"次旋转"},e.prototype.updataState=function(){window.innerWidth>=window.innerHeight?this.currentState="hor"+SetConst.MODLE:this.currentState="ver"+SetConst.MODLE,this.onSliderChange()},e.prototype.onTab=function(t){switch(t.stopImmediatePropagation(),t.stopPropagation(),SoundManager.getInstance().playEffect(SoundConst.BUTTON),t.currentTarget){case this.arrButton:this.arrButton.selected?SetConst.AUTO_SHOW=!0:SetConst.AUTO_SHOW=!1,this.goUpdata(),this.dispatchEventWith(SetEvent.SET_STATE_CHANGE)}},e.prototype.getXY=function(){var t,e;return 0==SetConst.MODLE?SetConst.AUTO_SHOW?(t=-1!=this.currentState.indexOf("hor")?GameConfig.WIDTH-this.width:GameConfig.WIDTH/2-this.width/2,e=-1!=this.currentState.indexOf("hor")?GameConfig.HEIGHT/2-this.height/2-10:GameConfig.HEIGHT/2-this.height/2-120):(t=-1!=this.currentState.indexOf("hor")?GameConfig.WIDTH:GameConfig.WIDTH/2-this.width/2,e=-1!=this.currentState.indexOf("hor")?GameConfig.HEIGHT/2-this.height/2:GameConfig.HEIGHT):SetConst.AUTO_SHOW?(t=-1!=this.currentState.indexOf("hor")?0:GameConfig.WIDTH/2-this.width/2,e=-1!=this.currentState.indexOf("hor")?GameConfig.HEIGHT/2-this.height/2-10:GameConfig.HEIGHT/2-this.height/2-120):(t=-1!=this.currentState.indexOf("hor")?-this.width:GameConfig.WIDTH/2-this.width/2,e=-1!=this.currentState.indexOf("hor")?GameConfig.HEIGHT/2-this.height/2:GameConfig.HEIGHT),{x:t,y:e}},e.prototype.updata=function(){GameConfig.isFree?this.visible=!1:this.visible=!0,egret.Tween.removeTweens(this),this.arrButton.selected=SetConst.AUTO_SHOW;var t=this.getXY();this.x=t.x,this.y=t.y},e.prototype.goUpdata=function(){GameConfig.isFree?this.visible=!1:this.visible=!0,egret.Tween.removeTweens(this),this.arrButton.selected=SetConst.AUTO_SHOW;var t=this.getXY();egret.Tween.get(this).to({x:t.x,y:t.y},200)},e.prototype.onModleChange=function(){this.updataState(),this.updata()},e}(eui.Component);__reflect(AutoSetCompoment.prototype,"AutoSetCompoment");var AutoStartBtn=function(t){function e(){var e=t.call(this)||this;return e._isPlay=!1,e}return __extends(e,t),e.prototype.childrenCreated=function(){},Object.defineProperty(e.prototype,"isPlay",{get:function(){return this._isPlay},set:function(t){this._isPlay=t,this.stateIcon.source=this._isPlay?"stop_diamonds_png":"auto_play_png",this.lightIcon.source=this.isPlay?"btn_stop_selected_png":"rightbar_autoplay_selected_png",this.bg.source=this.isPlay?"btn_stop_normal_png":"rightbar_autoplay_normal_png",this.countLabel.visible=this.isPlay},enumerable:!0,configurable:!0}),e}(eui.Component);__reflect(AutoStartBtn.prototype,"AutoStartBtn");var BetSetCompoment=function(t){function e(){var e=t.call(this)||this;return e.cState=0,e}return __extends(e,t),e.prototype.childrenCreated=function(){var e=this;t.prototype.childrenCreated.call(this),this.checkBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.arrButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.sunBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.addBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.subdImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.adddImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.sunBtn0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.addBtn0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.subdImg0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.adddImg0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.checkBtn.selected=SetConst.SPEED_PLAY,this.arrButton.selected=SetConst.BETSET_SHOW,this.updataState(),this.betLabel.text="￥"+GameManager.numberToCommonStr(vo.GameData.betScoreArr[vo.GameData.betIndex]),GameManager.getInstance().addEventListener(SetEvent.SET_MODLE,this.onModleChange,this),core.LayerManager.getInstance().addEventListener(SetEvent.SET_OR_CHANGE,function(){e.updataState()},this),GameManager.getInstance().addEventListener(SetEvent.SET_SPEED_CHANGED,this.onDataChanged,this),core.MyUIUtils.addLongTouch(this.sunBtn,function(){vo.GameData.betIndex=0,SoundManager.getInstance().playEffect(SoundConst.BUTTON),GameManager.getInstance().dispatchEventWith(SetEvent.SET_BET_CHANGE),e.betLabel.text="￥"+GameManager.numberToCommonStr(vo.GameData.betScoreArr[vo.GameData.betIndex])},function(){},this),core.MyUIUtils.addLongTouch(this.addBtn,function(){vo.GameData.betIndex=vo.GameData.betScoreArr.length-1,SoundManager.getInstance().playEffect(SoundConst.BUTTON),GameManager.getInstance().dispatchEventWith(SetEvent.SET_BET_CHANGE),e.betLabel.text="￥"+GameManager.numberToCommonStr(vo.GameData.betScoreArr[vo.GameData.betIndex])},function(){},this),core.MyUIUtils.addLongTouch(this.sunBtn0,function(){vo.GameData.line=1,SoundManager.getInstance().playEffect(SoundConst.BUTTON),GameManager.getInstance().dispatchEventWith(SetEvent.SET_LINE_CHANGE),e.lineLabel.text=vo.GameData.line+""},function(){},this),core.MyUIUtils.addLongTouch(this.addBtn0,function(){vo.GameData.line=25,SoundManager.getInstance().playEffect(SoundConst.BUTTON),GameManager.getInstance().dispatchEventWith(SetEvent.SET_LINE_CHANGE),e.lineLabel.text=vo.GameData.line+""},function(){},this)},e.prototype.onDataChanged=function(){this.checkBtn.selected=SetConst.SPEED_PLAY},e.prototype.updataState=function(){window.innerWidth>=window.innerHeight?this.currentState="hor_"+SetConst.MODLE:this.currentState=0==SetConst.MODLE?"ver":"ver_1",this.sunBtn.enabled=vo.GameData.betIndex>0,this.addBtn.enabled=vo.GameData.betIndex<vo.GameData.betScoreArr.length-1,this.sunBtn0.enabled=vo.GameData.line>1,this.addBtn0.enabled=vo.GameData.line<25},e.prototype.onTab=function(t){switch(t.stopImmediatePropagation(),t.stopPropagation(),t.currentTarget){case this.sunBtn:vo.GameData.betIndex>0&&(SoundManager.getInstance().playEffect(SoundConst.SUB),vo.GameData.betIndex-=1,GameManager.getInstance().dispatchEventWith(SetEvent.SET_BET_CHANGE)),this.sunBtn.enabled=vo.GameData.betIndex>0,this.addBtn.enabled=vo.GameData.betIndex<vo.GameData.betScoreArr.length-1;break;case this.addBtn:vo.GameData.betIndex<vo.GameData.betScoreArr.length-1&&(SoundManager.getInstance().playEffect(SoundConst.ADD),vo.GameData.betIndex+=1,GameManager.getInstance().dispatchEventWith(SetEvent.SET_BET_CHANGE)),this.sunBtn.enabled=vo.GameData.betIndex>0,this.addBtn.enabled=vo.GameData.betIndex<vo.GameData.betScoreArr.length-1;break;case this.sunBtn0:vo.GameData.line>1&&(SoundManager.getInstance().playEffect(SoundConst.SUB),vo.GameData.line-=1,GameManager.getInstance().dispatchEventWith(SetEvent.SET_LINE_CHANGE)),this.sunBtn0.enabled=vo.GameData.line>1,this.addBtn0.enabled=vo.GameData.line<25;break;case this.addBtn0:vo.GameData.line<25&&(SoundManager.getInstance().playEffect(SoundConst.ADD),vo.GameData.line+=1,GameManager.getInstance().dispatchEventWith(SetEvent.SET_LINE_CHANGE)),this.sunBtn0.enabled=vo.GameData.line>1,this.addBtn0.enabled=vo.GameData.line<25;break;case this.checkBtn:SoundManager.getInstance().playEffect(SoundConst.SPEED_ON),SetConst.SPEED_PLAY=this.checkBtn.selected,GameManager.getInstance().dispatchEventWith(SetEvent.SET_SPEED_CHANGED);break;case this.arrButton:SoundManager.getInstance().playEffect(SoundConst.BUTTON),this.arrButton.selected?SetConst.BETSET_SHOW=!0:SetConst.BETSET_SHOW=!1,this.goUpdata(),this.dispatchEventWith(SetEvent.SET_STATE_CHANGE)}this.betLabel.text="￥"+GameManager.numberToCommonStr(vo.GameData.betScoreArr[vo.GameData.betIndex]),this.lineLabel.text=vo.GameData.line+"",this.dispatchEventWith(egret.Event.CHANGE)},e.prototype.getXY=function(){var t,e;return 0==SetConst.MODLE?SetConst.BETSET_SHOW?(t=-1!=this.currentState.indexOf("hor")?0:GameConfig.WIDTH/2-this.width/2,e=-1!=this.currentState.indexOf("hor")?GameConfig.HEIGHT/2-this.height/2-10:GameConfig.HEIGHT/2-this.height/2-118):(t=-1!=this.currentState.indexOf("hor")?-this.width+100:GameConfig.WIDTH/2-this.width/2,e=-1!=this.currentState.indexOf("hor")?GameConfig.HEIGHT/2-this.height/2:GameConfig.HEIGHT):SetConst.BETSET_SHOW?(t=-1!=this.currentState.indexOf("hor")?GameConfig.WIDTH-this.width:GameConfig.WIDTH/2-this.width/2,e=-1!=this.currentState.indexOf("hor")?GameConfig.HEIGHT/2-this.height/2-10:GameConfig.HEIGHT/2-this.height/2-118):(t=-1!=this.currentState.indexOf("hor")?GameConfig.WIDTH-100:GameConfig.WIDTH/2-this.width/2,e=-1!=this.currentState.indexOf("hor")?GameConfig.HEIGHT/2-this.height/2:GameConfig.HEIGHT),{x:t,y:e}},e.prototype.updata=function(){egret.Tween.removeTweens(this),this.arrButton.selected=SetConst.BETSET_SHOW;var t=this.getXY();this.x=t.x,this.y=t.y},e.prototype.goUpdata=function(){egret.Tween.removeTweens(this),this.arrButton.selected=SetConst.BETSET_SHOW;var t=this.getXY();egret.Tween.get(this).to({x:t.x,y:t.y},200)},e.prototype.onModleChange=function(){this.updataState(),this.updata()},e}(eui.Component);__reflect(BetSetCompoment.prototype,"BetSetCompoment");var BonusBtn=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){},e}(eui.Component);__reflect(BonusBtn.prototype,"BonusBtn");var FreeBtn=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){},e}(eui.Component);__reflect(FreeBtn.prototype,"FreeBtn");var SetConst=function(){function t(){}return t.TOP_SHOW=!1,t.RIGHT_SHOW=!1,t.BETSET_SHOW=!1,t.AUTO_SHOW=!1,t.LONG_TOUCH=!1,t.REWARD_SHOW=!1,t.REWARD_SMALLSHOW=!1,t.handStop=!1,t.isCanStopGame=!1,t.QUIKTIP_SHOW=!1,t.MODLE=0,t.SPEED_PLAY=!1,t.AUTO=!1,t.AUTO_COUNT=0,t.AUTO_COUNT_ARR=[10,20,30,40,50,60,70,80,90,99,9999],t}();__reflect(SetConst.prototype,"SetConst");var SetEvent=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return __extends(e,t),e.SET_MODLE="SET_MODLE",e.SET_OR_CHANGE="SET_OR_CHANGE",e.SET_STATE_CHANGE="SET_STATE_CHANGE",e.SET_START="SET_START",e.SET_STOP="SET_STOP",e.SET_AUTO_CHANGED="SET_AUTO_CHANGED",e.SET_SPEED_CHANGED="SET_SPEED_CHANGED",e.SET_BET_CHANGE="SET_BET_CHANGE",e.SET_LINE_CHANGE="SET_LINE_CHANGE",e.SET_BALANCE_CHANGE="SET_BALANCE_CHANGE",e.SET_MUSIC_CHANGE="SET_MUSIC_CHANGE",e.SET_HIDE_REWARD="SET_HIDE_REWARD",e}(egret.Event);__reflect(SetEvent.prototype,"SetEvent");var SetUI=function(t){function e(){var e=t.call(this)||this;return e.isautoShow=!1,e.skinName=SetUISkin,e}return __extends(e,t),e.prototype.childrenCreated=function(){var e=this;t.prototype.childrenCreated.call(this),this.updataState(),this.musicCheck.selected=SoundManager.getInstance().effectOn,this.setBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.maskRect.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.moreBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.backButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.gameButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.betBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.betSetCompoment.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.autoSetCompoment.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.qukcheckBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.homeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.crashBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.moresBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.historyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.surpotBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.rewardBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.helpBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.musicCheck.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.modleCheckButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.exitBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.btnBg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),core.TimerManager.instance.addTick(1e3,-1,this.onFrame,this),this.startButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),this.autoButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTab,this),GameManager.getInstance().addEventListener(SetEvent.SET_AUTO_CHANGED,this.onDataChanged,this),GameManager.getInstance().addEventListener(SetEvent.SET_SPEED_CHANGED,this.onDataChanged,this),GameManager.getInstance().addEventListener(SetEvent.SET_BET_CHANGE,this.onDataChanged,this),GameManager.getInstance().addEventListener(SetEvent.SET_LINE_CHANGE,this.onDataChanged,this),GameManager.getInstance().addEventListener(SetEvent.SET_BALANCE_CHANGE,this.onDataChanged,this),GameManager.getInstance().addEventListener(SetEvent.SET_MUSIC_CHANGE,this.onDataChanged,this),this.autoSetCompoment.addEventListener(SetEvent.SET_STATE_CHANGE,this.onStateChange,this),this.betSetCompoment.addEventListener(SetEvent.SET_STATE_CHANGE,this.onStateChange,this),GameManager.getInstance().addEventListener(SetEvent.SET_MODLE,this.onModleChange,this),core.MyUIUtils.addLongTouch(this.startButton,function(){SoundManager.getInstance().playEffect(SoundConst.BUTTON),SetConst.LONG_TOUCH=!0,SetConst.AUTO_SHOW=!0,e.startButton.visible=!1,GameConfig.isFree||(e.autoButton.visible=!0),e.autoButton.isPlay=!1,e.autoSetCompoment.goUpdata(),SetConst.BETSET_SHOW=!1,e.betSetCompoment.goUpdata(),e.updataBtnState(),e.betBtn.enabled=e.qukcheckBtn.enabled=!SetConst.AUTO_SHOW,GameManager.getInstance().dispatchEventWith(SetEvent.SET_HIDE_REWARD)},function(){egret.callLater(function(){SetConst.LONG_TOUCH=!1},e)}),this.rewradMaxGroup.visible=!1},e.prototype.updataState=function(){window.innerWidth>=window.innerHeight?(this.t0.textColor=973303,this.t1.textColor=973303,this.t2.textColor=973303,this.t3.textColor=973303):(this.t0.textColor=16567108,this.t1.textColor=16567108,this.t2.textColor=16567108,this.t3.textColor=16567108)},e.prototype.updataHor=function(){this.updataSame();var t=(GameConfig.WIDTH-635-60)/8;this.btnGroup.layout.gap=t,this.btnGroup.layout.paddingLeft=30},e.prototype.updataVer=function(){var t=(GameConfig.WIDTH-60-320-16)/4;this.btnGroup.layout.gap=t,this.updataSame()},e.prototype.updataSame=function(){egret.Tween.removeTweens(this.bottomGroup),this.bottomChange(),this.rewardGroup.visible=SetConst.REWARD_SMALLSHOW,this.bottomGroup.y=GameConfig.HEIGHT-this.bottomGroup.height,this.topGroup.y=SetConst.TOP_SHOW?0:-230,this.rightGroup.x=SetConst.RIGHT_SHOW?0:200,this.maskRect.visible=SetConst.TOP_SHOW||SetConst.RIGHT_SHOW,this.scrolls.viewport.scrollH=0,this.betSetCompoment.updata(),this.autoSetCompoment.updata(),this.updataControllGroup(),this.updataBtnState(),this.betLabel.text="￥"+GameManager.numberToCommonStr(vo.GameData.betScoreArr[vo.GameData.betIndex]),this.totalBet.text="￥"+GameManager.numberToCommonStr(vo.GameData.betScoreArr[vo.GameData.betIndex]*vo.GameData.line),this.lineLabel.text=vo.GameData.line+"",this.balanceLabel.text="￥"+GameManager.numberToCommonStr(vo.GameData.balance),this.betBtn.selected=SetConst.BETSET_SHOW,"ver"==this.currentState?this.betBtn.visible=this.qukGroup.visible=SetConst.AUTO?!1:!0:this.betBtn.visible=this.qukGroup.visible=!1},e.prototype.onTab=function(t){switch(t.currentTarget){case this.btnBg:t.stopPropagation(),t.stopImmediatePropagation();break;case this.setBtn:t.stopPropagation(),t.stopImmediatePropagation(),egret.Tween.get(this.topGroup).to({y:0},500,egret.Ease.backOut),this.maskRect.visible=!0,SetConst.TOP_SHOW=!0;break;case this.maskRect:t.stopPropagation(),t.stopImmediatePropagation(),this.maskRect.visible=!1,egret.Tween.get(this.topGroup).to({y:-230},500,egret.Ease.backIn),egret.Tween.get(this.rightGroup).to({x:200},200),SetConst.TOP_SHOW=!1,SetConst.RIGHT_SHOW=!1;break;case this.moresBtn:t.stopPropagation(),t.stopImmediatePropagation(),core.UIManager.openUI(core.UIConst.MoreGameUI,core.LayerManager.Layer_Top),this.maskRect.visible=!1,egret.Tween.get(this.topGroup).to({y:-230},500,egret.Ease.backIn),egret.Tween.get(this.rightGroup).to({x:200},200),SetConst.TOP_SHOW=!1,SetConst.RIGHT_SHOW=!1;break;case this.backButton:this.maskRect.visible=!1,SetConst.RIGHT_SHOW=!1,egret.Tween.get(this.rightGroup).to({x:200},200);break;case this.gameButton:this.maskRect.visible=!1,SetConst.RIGHT_SHOW=!1,egret.Tween.get(this.rightGroup).to({x:200},200),core.UIManager.openUI(core.UIConst.MoreGameUI,core.LayerManager.Layer_Top);break;case this.betBtn:t.stopImmediatePropagation(),SoundManager.getInstance().playEffect(SoundConst.BUTTON),SetConst.BETSET_SHOW=!SetConst.BETSET_SHOW,SetConst.AUTO_SHOW=!1,this.betSetCompoment.goUpdata(),this.autoSetCompoment.goUpdata(),this.betBtn.selected=SetConst.BETSET_SHOW,GameManager.getInstance().dispatchEventWith(SetEvent.SET_HIDE_REWARD),this.autoButton.visible=!1,GameConfig.isFree||(this.startButton.visible=!0);break;case this.stage:GameConfig.isBonusBtn||((SetConst.BETSET_SHOW||SetConst.AUTO_SHOW)&&SoundManager.getInstance().playEffect(SoundConst.BUTTON),SetConst.BETSET_SHOW=!1,SetConst.AUTO_SHOW=!1,this.betSetCompoment.goUpdata(),this.autoSetCompoment.goUpdata(),this.betBtn.selected=SetConst.BETSET_SHOW,this.updataBtnState(),GameManager.getInstance().gameState==GameType.GameState.STOP&&(this.betBtn.enabled=this.qukcheckBtn.enabled=!SetConst.BETSET_SHOW));break;case this.modleCheckButton:t.stopPropagation(),t.stopImmediatePropagation(),SetConst.MODLE=this.modleCheckButton.selected?1:0,GameManager.getInstance().dispatchEventWith(SetEvent.SET_MODLE);break;case this.startButton:if(t.stopPropagation(),t.stopImmediatePropagation(),this.betBtn.selected=!1,SoundManager.getInstance().playEffect(SoundConst.BUTTON),egret.Tween.removeTweens(this.tipLabel),SetConst.LONG_TOUCH)return;GameManager.getInstance().dispatchEventWith(SetEvent.SET_START);break;case this.autoButton:t.stopPropagation(),t.stopImmediatePropagation(),SoundManager.getInstance().playEffect(SoundConst.BUTTON),this.autoButton.isPlay?(SetConst.AUTO_COUNT=0,SetConst.AUTO=!1,SetConst.handStop=!0,this.autoButton.visible=!1,this.betBtn.visible=!0,this.qukGroup.visible=!0,this.isautoShow!=SetConst.AUTO&&(this.isautoShow=SetConst.AUTO,this.bottomAutoGoUpdata()),GameManager.getInstance().gameState==GameType.GameState.STOP&&(this.updataBtnState(),this.autoButton.isPlay=!1)):(SetConst.handStop=!1,SetConst.AUTO_COUNT=SetConst.AUTO_COUNT_ARR[this.autoSetCompoment.mySlider.value],SetConst.AUTO=!0,GameManager.getInstance().dispatchEventWith(SetEvent.SET_START,!1,1),egret.Tween.removeTweens(this.tipLabel));break;case this.autoSetCompoment:t.stopPropagation(),t.stopImmediatePropagation();break;case this.rewardBtn:t.stopPropagation(),t.stopImmediatePropagation(),core.UIManager.openUI(core.UIConst.RewardUI,core.LayerManager.Layer_Top),this.maskRect.visible=!1,egret.Tween.get(this.topGroup).to({y:-230},500,egret.Ease.backIn),egret.Tween.get(this.rightGroup).to({x:200},200),SetConst.TOP_SHOW=!1,SetConst.RIGHT_SHOW=!1;break;case this.helpBtn:t.stopPropagation(),t.stopImmediatePropagation(),core.UIManager.openUI(core.UIConst.HelpUI,core.LayerManager.Layer_Top),this.maskRect.visible=!1,egret.Tween.get(this.topGroup).to({y:-230},500,egret.Ease.backIn),egret.Tween.get(this.rightGroup).to({x:200},200),SetConst.TOP_SHOW=!1,SetConst.RIGHT_SHOW=!1;break;case this.homeBtn:window.open(window.dataUrl.homePath);break;case this.crashBtn:window.open(window.dataUrl.crashPath);break;case this.historyBtn:window.open(window.dataUrl.historyPath);break;case this.surpotBtn:window.open(window.dataUrl.suportPath);break;case this.musicCheck:t.stopPropagation(),t.stopImmediatePropagation(),SoundManager.getInstance().setBgOn(this.musicCheck.selected),SoundManager.getInstance().setEffectOn(this.musicCheck.selected),GameManager.getInstance().dispatchEventWith(SetEvent.SET_MUSIC_CHANGE);
break;case this.exitBtn:window.location.href=window.dataUrl.exitPath;break;case this.qukcheckBtn:t.stopPropagation(),t.stopImmediatePropagation(),SoundManager.getInstance().playEffect(SoundConst.SPEED_ON),SetConst.SPEED_PLAY=this.qukcheckBtn.selected,GameManager.getInstance().dispatchEventWith(SetEvent.SET_SPEED_CHANGED)}},e.prototype.popBet=function(){SetConst.BETSET_SHOW=!0,SetConst.AUTO_SHOW=!1,this.betSetCompoment.goUpdata(),this.autoSetCompoment.goUpdata(),this.betBtn.selected=SetConst.BETSET_SHOW},e.prototype.onModleChange=function(){this.updataControllGroup()},e.prototype.onStateChange=function(t){switch(t.currentTarget){case this.autoSetCompoment:SetConst.BETSET_SHOW=!1,this.betSetCompoment.goUpdata(),this.betBtn.selected=SetConst.BETSET_SHOW,this.updataBtnState();break;case this.betSetCompoment:SetConst.AUTO_SHOW=!1,this.autoSetCompoment.goUpdata(),this.updataBtnState()}},e.prototype.updataBtnState=function(){SetConst.AUTO||SetConst.AUTO_SHOW?(this.startButton.visible=!1,GameConfig.isFree||(this.autoButton.visible=!0),this.autoButton.scaleX=1,this.autoButton.scaleY=1):(GameConfig.isFree||(this.startButton.visible=!0),this.startButton.scaleX=1,this.startButton.scaleY=1,this.autoButton.visible=!1),GameManager.getInstance().gameState==GameType.GameState.PLAYING&&0==SetConst.AUTO&&(this.startButton.visible=!1),this.startButton.setlected=SetConst.SPEED_PLAY},e.prototype.updataControllGroup=function(){window.innerWidth>window.innerWidth?(this.controllGroup.x=0==SetConst.MODLE?GameConfig.WIDTH-this.controllGroup.width+30:-30,this.controllGroup.y=0==SetConst.MODLE?GameConfig.HEIGHT/2-this.controllGroup.height/2-5:GameConfig.HEIGHT/2-this.controllGroup.height/2-5):(this.controllGroup.x=0==SetConst.MODLE?GameConfig.WIDTH-this.controllGroup.width+30:-30,this.controllGroup.y=0==SetConst.MODLE?GameConfig.HEIGHT/2-this.controllGroup.height/2:GameConfig.HEIGHT/2-this.controllGroup.height/2)},e.prototype.onDataChanged=function(t){var e=this;switch(t.type){case SetEvent.SET_AUTO_CHANGED:this.updataBtnState(),this.isautoShow!=SetConst.AUTO&&(this.isautoShow=SetConst.AUTO,this.bottomAutoGoUpdata());break;case SetEvent.SET_SPEED_CHANGED:egret.Tween.removeTweens(this.tipLabel),this.updataBtnState(),this.qukcheckBtn.selected=SetConst.SPEED_PLAY,this.playLight(),this.tipLabel.visible=!0,SetConst.REWARD_SMALLSHOW=!1,SetConst.REWARD_SHOW=!1;var n=core.UIManager.getUI(core.UIConst.MainScenceUI);n.hideWin(),this.rewardGroup.visible=SetConst.REWARD_SMALLSHOW,this.tipLabel.alpha=1,this.tipLabel.text=SetConst.SPEED_PLAY?"快速模式已启用":"快速模式已禁用",this.tipLabel.scaleX=.7,this.tipLabel.scaleY=.7,egret.Tween.get(this.tipLabel).to({alpha:0},2e3).call(function(){e.tipLabel.alpha=1,e.tipLabel.text="滑动转轴或按旋转",e.tipLabel.scaleX=e.tipLabel.scaleY=1},this);break;case SetEvent.SET_BET_CHANGE:this.betLabel.text="￥"+GameManager.numberToCommonStr(vo.GameData.betScoreArr[vo.GameData.betIndex]),this.totalBet.text="￥"+GameManager.numberToCommonStr(vo.GameData.betScoreArr[vo.GameData.betIndex]*vo.GameData.line),this.lineLabel.text=vo.GameData.line+"";break;case SetEvent.SET_LINE_CHANGE:this.betLabel.text="￥"+GameManager.numberToCommonStr(vo.GameData.betScoreArr[vo.GameData.betIndex]),this.totalBet.text="￥"+GameManager.numberToCommonStr(vo.GameData.betScoreArr[vo.GameData.betIndex]*vo.GameData.line),this.lineLabel.text=vo.GameData.line+"";break;case SetEvent.SET_BALANCE_CHANGE:this.balanceLabel.text="￥"+GameManager.numberToCommonStr(vo.GameData.balance);break;case SetEvent.SET_MUSIC_CHANGE:this.musicCheck.selected=SoundManager.getInstance().effectOn}},e.prototype.playLight=function(){var t=this;this.lightBG.alpha=0,this.lightBG.visible=!0,this.lightBG.blendMode=egret.BlendMode.ADD,egret.Tween.removeTweens(this.lightBG),egret.Tween.get(this.lightBG).to({alpha:.1},100).to({alpha:0},100).call(function(){t.lightBG.visible=!1})},e.prototype.updataEnable=function(t){this.betBtn.enabled=0==t?!1:!0,this.moreBtn.enabled=0==t?!1:!0,this.setBtn.enabled=0==t?!1:!0,this.qukcheckBtn.enabled=0==t?!1:!0,this.betSetCompoment.arrButton.enabled=0==t?!1:!0,this.autoSetCompoment.arrButton.enabled=0==t?!1:!0},e.prototype.onFrame=function(t){var e=new Date;this.timeLabel.text=dateFtt("yyyy-MM-dd hh:mm:ss",e)+" "+GameConfig.CasinoGame.PlayerId},e.prototype.bottomAutoGoUpdata=function(){var t=this;"ver"==this.currentState?this.betBtn.visible=this.qukGroup.visible=SetConst.AUTO?!1:!0:this.betBtn.visible=this.qukGroup.visible=!1,egret.Tween.get(this.bottomGroup).to({y:GameConfig.HEIGHT},300).call(function(){t.bottomChange(),t.tipLabel.alpha=1,SetConst.AUTO||(SetConst.handStop?t.tipLabel.text="自动游戏已停止":(t.tipLabel.text="自动游戏已完成",SetConst.AUTO_SHOW=!0,t.autoSetCompoment.goUpdata(),t.updataBtnState()),t.tipLabel.scaleX=t.tipLabel.scaleY=.8,t.tipLabel.alpha=1)},this).to({y:GameConfig.HEIGHT-this.bottomGroup.height},300).call(function(){egret.Tween.removeTweens(t.tipLabel),SetConst.AUTO||egret.Tween.get(t.tipLabel).to({alpha:0},1500).call(function(){t.tipLabel.scaleX=t.tipLabel.scaleY=1,t.tipLabel.text="滑动转轴或按旋转",t.tipLabel.alpha=1},t)},this)},e.prototype.bonusBtnState=function(t){t?egret.Tween.get(this.bonusBtn,{loop:!0}).to({scaleX:.85,scaleY:.85},700).to({scaleX:1,scaleY:1},700):(egret.Tween.removeTweens(this.bonusBtn),this.autoButton.scaleX=1,this.autoButton.scaleY=1)},e.prototype.bottomChange=function(){this.bottomBg.source=SetConst.AUTO?"bottom_1_png":"bottom_2_png",this.bottomBg.alpha=SetConst.AUTO?.75:1;for(var t=0;5>t;t++)this["t"+t].textColor=SetConst.AUTO?168640:16567108;this.tipLabel.alpha=1,SetConst.AUTO?(SetConst.AUTO_COUNT>99?this.tipLabel.text="直到环节自动旋转":this.tipLabel.text="剩余"+SetConst.AUTO_COUNT+"次自动旋转",this.tipLabel.scaleX=this.tipLabel.scaleY=.7):(this.tipLabel.scaleX=this.tipLabel.scaleY=1,this.tipLabel.text="滑动转轴或按旋转")},e}(eui.Component);__reflect(SetUI.prototype,"SetUI");var StartButton=function(t){function e(){var e=t.call(this)||this;return e._select=!1,e.skinName=StartButtonSkin,e}return __extends(e,t),e.prototype.childrenCreated=function(){this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onEnd,this),this.setlected=!1},e.prototype.onBegin=function(){egret.Tween.removeTweens(this),egret.Tween.get(this).to({scaleX:.8,scaleY:.8},200)},e.prototype.onEnd=function(){egret.Tween.removeTweens(this),egret.Tween.get(this).to({scaleX:1,scaleY:1},200)},Object.defineProperty(e.prototype,"setlected",{get:function(){return this._select},set:function(t){this._select=t,this.bg.source=0==this._select?"btn_autogame_normal_png":"btn_autogame_normal_yellow_png",this.xuanImg.source=0==this._select?"btn_round_png":"btn_round_yellow_png"},enumerable:!0,configurable:!0}),e}(eui.Component);__reflect(StartButton.prototype,"StartButton");var BoomMananger=function(t){function e(){var e=t.call(this)||this;return e.mcPool={},e.curPool={},e}return __extends(e,t),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.createMC=function(t){var e;return e=this.mcPool[t]&&this.mcPool[t].length>0?this.mcPool[t].pop():game.MCUtils.getMc(t),e.isDie=!1,this.curPool[t]||(this.curPool[t]=[]),this.curPool[t].push(e),e},e.prototype.onUpdata=function(){for(var t in this.curPool)for(var e=this.curPool[t],n=0;n<e.length;n++)if(e[n].isDie){var i=e.splice(n,1);this.mcPool[t]||(this.mcPool[t]=[]),this.mcPool[t].unShift(i)}},e}(egret.EventDispatcher);__reflect(BoomMananger.prototype,"BoomMananger");var GameManager=function(t){function e(){var e=t.call(this)||this;return e.gameState=0,e.t=0,e}return __extends(e,t),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.init=function(){var t=this;GameController.getInstance().clearRedis(),GameConfig.gameModle=GameType.GameModule.falseModle,core.NotifyManager.getInstance().registerNotify(core.NotifyConst.NET_INIT,this.onNetgGmeInit,this),core.NotifyManager.getInstance().registerNotify(core.NotifyConst.NET_PLAY,this.onNetGamePlay,this),core.NotifyManager.getInstance().registerNotify(core.NotifyConst.LOGIC_ROUNDOVER,this.onLogicGameOver,this),core.NotifyManager.getInstance().registerNotify(core.NotifyConst.NET_TOUCHTOKEN,this.onNetTouchToken,this),core.NotifyManager.getInstance().registerNotify(core.NotifyConst.LOGIC_DATACHANGE,this.onLogicDataChange,this),this.addEventListener(SetEvent.SET_START,this.onSet,this),this.addEventListener(SetEvent.SET_STOP,this.onSet,this),core.LoadManger.getInstance().loadGroup(core.UIConst.NomalLoadingUI,"main",function(){t.initData(),sockets.SocketMananger.getInstance().connectServer(function(){Commond.sendInitGame()},t)},this),window.addEventListener("message",function(t){console.log("r--->"+t.data),core.UIManager.openUI(core.UIConst.NetCloseUI,core.LayerManager.Layer_Tip);var e=core.UIManager.getUI(core.UIConst.NetCloseUI);e.shows(0,"连接断开，正在重新连接.",function(){window.location.href=window.location.href})})},e.prototype.initData=function(){vo.GameData.slotInfo=new vo.SlotInfo,vo.GameData.slotInfo.readData(null),vo.GameData.slotInfo.readPlayAction(null)},e.prototype.onNetgGmeInit=function(t){NetUI.getInstance().hideNetting();var e=t;this.initAlysInitialData(e),core.UIManager.openUI(core.UIConst.MainScenceUI);var n=core.UIManager.getUI(core.UIConst.MainScenceUI);n.updataUI()},e.prototype.initAlysInitialData=function(t){vo.GameData.initData=JSON.parse(JSON.stringify(t)),vo.GameData.balance=parseFloat(t.Value.TokenInfo.Balance+""),vo.GameData.reelArr.length=0,vo.GameData.slotInfo.resultArr=t.Value.Geninit.Main.ReelSymbols,vo.GameData.initData=t,vo.GameData.payData=t.Value.Paytables.Main.PayData,this.dispatchEventWith(SetEvent.SET_BALANCE_CHANGE)},e.prototype.onNetGamePlay=function(t){this.initAlaysPlayData(t);var e=core.UIManager.getUI(core.UIConst.MainScenceUI);vo.GameData.balance-vo.GameData.betScoreArr[vo.GameData.betIndex]*vo.GameData.line;e.canStop(),egret.setTimeout(function(){SetConst.isCanStopGame=!0},this,250)},e.prototype.initAlaysPlayData=function(t){vo.GameData.resultData=JSON.parse(JSON.stringify(t))},e.prototype.onNetTouchToken=function(t){},e.prototype.onLogicDataChange=function(t){},e.prototype.onLogicGameOver=function(t){var e=this;console.log("游戏结束"),this.gameState=GameType.GameState.STOP,SetConst.isCanStopGame=!1;var n=core.UIManager.getUI(core.UIConst.MainScenceUI);vo.GameData.initData.Value.TokenInfo.Balance=vo.GameData.resultData.Value.Balance,vo.GameData.balance=vo.GameData.initData.Value.TokenInfo.Balance,vo.GameData.allFreeCount=vo.GameData.resultData.Value.TotalActionCount,this.dispatchEventWith(SetEvent.SET_BALANCE_CHANGE);var i=vo.GameData.resultData,o=i.Value.SpinResult.Main.WinResults,a=i.Value.SpinResult.TotalBet,r=i.Value.SpinResult.TotalWin,s=r/a;0==this.getFreeCount()&&"freeslot"==vo.GameData.resultData.ActionType&&(vo.GameData.autoPlayCount=0,n.endFree());var h=this.getFiveArr(o),c=vo.GameData.autoPlayCount>0&&SetConst.SPEED_PLAY?800:800*o.length;c=s>=50?12e3:s>=25?6e3:s>=6?5300:3e3,0==h.length?o.length>0?(n.showWin(o),egret.setTimeout(function(){e.doNext()},this,c)):egret.setTimeout(function(){e.doNext()},this,200):n.showFiveAimation(h[0],function(){e.gameState!=GameType.GameState.PLAYING&&(n.showWin(o),egret.setTimeout(function(){e.doNext()},e,c))})},e.prototype.stopchannel=function(){this.rewardChannel&&this.rewardChannel.stop(),this.startChannel&&this.startChannel.stop()},e.prototype.doNext=function(){if(this.gameState!=GameType.GameState.PLAYING){var t=core.UIManager.getUI(core.UIConst.MainScenceUI),n=SetConst.AUTO;SetConst.AUTO=SetConst.AUTO_COUNT>0?!0:!1,GameConfig.isBonusBtn||t.setUI.updataEnable(1),t.setUI.updataBtnState(),this.getFreeCount()>0?e.getInstance().dispatchEventWith(SetEvent.SET_START):SetConst.AUTO?e.getInstance().dispatchEventWith(SetEvent.SET_START):n?e.getInstance().dispatchEventWith(SetEvent.SET_STOP,!1,1):e.getInstance().dispatchEventWith(SetEvent.SET_STOP)}},e.prototype.onSet=function(t){var n=core.UIManager.getUI(core.UIConst.MainScenceUI);switch(t.type){case SetEvent.SET_START:if(this.getMoneyIsFull())if(this.getFreeCount()>0){if(Commond.sendPlay(!0),n.hideWin(),this.stopchannel(),n.gameScence.startReel(),"freeslot"==vo.GameData.resultData.ActionType){vo.GameData.resultData.Value.TotalActionCount-this.getFreeCount()>0?vo.GameData.resultData.Value.TotalActionCount-this.getFreeCount():vo.GameData.allFreeCount;n.free_Num.text=""+this.getFreeCount()}vo.GameData.balance-=vo.GameData.betScoreArr[vo.GameData.betIndex]*vo.GameData.line,this.dispatchEventWith(SetEvent.SET_BALANCE_CHANGE),SetConst.AUTO||1!=t.data&&(n.setUI.tipLabel.text="触摸转轴来提前停止",n.setUI.tipLabel.scaleX=n.setUI.tipLabel.scaleY=.7,n.setUI.tipLabel.alpha=1)}else{if(!SetConst.AUTO&&!SetConst.SPEED_PLAY){if(egret.getTimer()-this.t<2e3&&!SetConst.QUIKTIP_SHOW)return core.UIManager.openUI(core.UIConst.QukTipsUI,core.LayerManager.Layer_Top),void(SetConst.QUIKTIP_SHOW=!0);this.t=egret.getTimer()}e.getInstance().gameState=GameType.GameState.PLAYING,Commond.sendPlay(),n.hideWin(),this.stopchannel(),n.gameScence.startReel(),vo.GameData.balance-=vo.GameData.betScoreArr[vo.GameData.betIndex]*vo.GameData.line,this.dispatchEventWith(SetEvent.SET_BALANCE_CHANGE),SetConst.AUTO?(SetConst.AUTO_COUNT-=1,n.setUI.autoButton.isPlay=!0,SetConst.AUTO_COUNT>99?n.setUI.autoButton.countLabel.text="":n.setUI.autoButton.countLabel.text=SetConst.AUTO_COUNT+"",SetConst.AUTO_SHOW=!1,n.setUI.autoSetCompoment.goUpdata(),n.setUI.tipLabel.alpha=1,1!=t.data&&(SetConst.AUTO_COUNT>99?n.setUI.tipLabel.text="直到环节自动旋转":n.setUI.tipLabel.text="剩余"+SetConst.AUTO_COUNT+"剩余次数",n.setUI.tipLabel.scaleX=n.setUI.tipLabel.scaleY=.7)):1!=t.data&&(n.setUI.tipLabel.text="触摸转轴来提前停止",n.setUI.tipLabel.scaleX=n.setUI.tipLabel.scaleY=.7,n.setUI.tipLabel.alpha=1),SetConst.BETSET_SHOW=!1,n.setUI.betSetCompoment.goUpdata(),n.setUI.updataEnable(0),n.setUI.tipLabel.visible=!0,n.setUI.rewardGroup.visible=!1,this.dispatchEventWith(SetEvent.SET_AUTO_CHANGED)}else n.setUI.autoButton.isPlay=!1,SetConst.AUTO=!1,SetConst.AUTO_COUNT=0,this.noMoney(),this.dispatchEventWith(SetEvent.SET_AUTO_CHANGED);break;case SetEvent.SET_STOP:1!=t.data&&"自动游戏已停止"!=n.setUI.tipLabel.text&&(n.setUI.tipLabel.text="滑动转轴或按旋转",n.setUI.tipLabel.alpha=1,n.setUI.tipLabel.scaleX=n.setUI.tipLabel.scaleY=1),n.setUI.autoButton.isPlay=!1,this.dispatchEventWith(SetEvent.SET_AUTO_CHANGED)}n.updataUI()},e.prototype.noMoney=function(){core.UIManager.openUI(core.UIConst.StipsUI,core.LayerManager.Layer_Top);var t=core.UIManager.getUI(core.UIConst.StipsUI);core.UIManager.getUI(core.UIConst.MainScenceUI);t.shows(0,"余额不足，是否要存款?",function(){})},e.prototype.getFreeCount=function(){var t=vo.GameData.initData.Value.Actions;if(!t)return 0;for(var e=0,n=0;n<t.length;n++)e+=t[n].remaining;return e},e.prototype.getAllFreeCount=function(){var t=vo.GameData.initData.Value.Actions;if(!t)return 0;for(var e=0,n=0;n<t.length;n++)e+=t[n].count;return e},e.prototype.setAutoPlay=function(t){SetConst.AUTO=t},e.numberToCommonStr=function(t){for(var e=t+"",n=e.split("."),i=n[0],o="",a=0,r=i.length-1;r>=0;r--)o=i.substr(r,1)+o,a++,3==a&&r>0&&(o=","+o,a=0);return n.length>1?1==n[1].length?o+="."+n[1]+"0":o=o+"."+n[1].substr(0,2):o+=".00",o},e.numberToCommonStr1=function(t){for(var e=t+"",n=e.split("."),i=n[0],o="",a=0,r=i.length-1;r>=0;r--)o=i.substr(r,1)+o,a++,3==a&&r>0&&(o=","+o,a=0);return n.length>1&&(1==n[1].length?o+="."+n[1]+"0":o=o+"."+n[1].substr(0,2)),o},e.prototype.getMoneyIsFull=function(){return vo.GameData.balance>=vo.GameData.betScoreArr[vo.GameData.betIndex]?!0:!1},e.prototype.getFiveArr=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];5==i.Positions.length&&e.push(i)}return e},e}(egret.EventDispatcher);__reflect(GameManager.prototype,"GameManager");var ItemManager=function(t){function e(){var e=t.call(this)||this;return e.itemPool=[],e.curPool=[],e}return __extends(e,t),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.createItem=function(){var t=this.itemPool.pop();return t||(t=new Item),t.reset(),this.curPool.push(t),t},e.prototype.updata=function(){for(var t=0;t<this.curPool.length;t++){var e=this.curPool[t];e.onFrame(),e.isDie&&(this.curPool.splice(t,1),this.itemPool.unshift(e),e.parent&&e.parent.removeChild(e))}},e}(egret.EventDispatcher);__reflect(ItemManager.prototype,"ItemManager");var ServerManager=function(t){function e(){var e=t.call(this)||this;return GameConfig.gameModle=GameType.GameModule.falseModle,e}return __extends(e,t),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.acpetCommond=function(t){var e;switch(t.Parameter.Action){case"Initial":e=JSON.parse(JSON.stringify(serverData.initData));break;case"Play":e=this.resetPlay(t)}GameConfig.gameModle==GameType.GameModule.falseModle?core.NotifyManager.getInstance().sendNotify(t.Parameter.Action,e):sockets.SocketMananger.getInstance().sendMessage(t)},e.prototype.resetPlay=function(t){var e=t.Parameter;this.parameter=e;var n=JSON.parse(JSON.stringify(serverData.playData));n.ActionType=e.Type,n.ActionParameter=e;for(var i=3,o=serverData.playDataArr[i],a=0,r=o.WinResults,s=0;s<r.length;s++){var h=r[s];if(h.Bet=e.Denom,h.SymbolCount>7&&"C1"==h.Symbol){var c=0;c=e.Denom/GameConfig.bili==4?.1:e.Denom/GameConfig.bili==8?.2:e.Denom/GameConfig.bili==20?.5:1,h.Win=serverData.initData.Value.TokenInfo.totalReward*GameConfig.bili*c}else h.Win=e.Denom*vo.GameData.payData[h.Symbol][h.SymbolCount+""];a+=h.Win}return n.Value.Main.WinResults=r,n.Value.Main.ReelSymbols=o.ReelSymbols,n.Value.Main.TotalWin=a,n.Value.Main.TotalWinDollar=a/GameConfig.bili,serverData.initData.Value.TokenInfo.Balance=serverData.initData.Value.TokenInfo.Balance+n.Value.Main.TotalWinDollar-e.Denom/GameConfig.bili,n.Value.Balance=serverData.initData.Value.TokenInfo.Balance,n},e}(egret.EventDispatcher);__reflect(ServerManager.prototype,"ServerManager");var serverData=function(){function t(){}return t.initData={Action:"Initial",ProcessTime:{Spend:0},ScreenData:{ScreenActions:[{Status:"Initial"}]},IsSuccess:!0,Marquees:"",Message:"",kick_rightnow:!1,Value:{MC_Reset_At:"2019-04-24 10:11:02",SpinConstraint:{Lines:[1,2,3,4,5],MinLineBet:1,MaxLineBet:1e3,MinDenom:1,MaxDenom:2147483647},FreeLine:[],JackpotPaytables:{1:279,2:558,3:837,4:1116},Symbolstripes:{Main:{Stripes:[{Symbols:["M2","BN","M2","BN","M0","BN","M1","BN","M2","BN","M1","BN","M2","BN","M2","BN"]},{Symbols:["M2","BN","M2","BN","M0","BN","M1","BN","M2","BN","M1","BN","M2","BN","M2","BN"]},{Symbols:["M2","BN","M2","BN","M0","BN","M1","BN","M2","BN","M1","BN","M2","BN","M2","BN"]}]}},Geninit:{Main:{ReelResults:[{Idx:0,Pos:0},{Idx:1,Pos:0},{Idx:2,Pos:0}],ReelSymbols:[["M1","M2","M3","M4","M5"],["M5","M4","M3","M2","M1"],["M4","M3","M2","M1","M5"],["M2","M1","M5","M4","M3"],["M3","M2","M1","M3","M3"]],StripesCode:"E0qVFEFC97AqoF0riEJANg",TotalBet:0,TotalWin:0,WinResults:[]}},Denoms:[500,1e3,2e3,5e3,1e4,2e4,5e4,1e5,2e5,25e4,5e5,1e6,2e6],Status:{CurrentAction:"Initial",CurrentActionType:"slot",GameLevel:"1",GameLevel_UpCount:"0"},Actions:null,LastRound:{LastRoundId:"3e9e115565226945178",LastRoundResult:{RoundId:"3e9e115565226945178",SubRoundId:0,SessionData:{Bet:10,Multiply:1},TotalBet:1e3,TotalWin:0,TotalBetDollar:.1,TotalWinDollar:0,Denom:10,ScreenData:[],Main:{MathVersion:"triple_monkey",TotalBet:1e3,TotalWin:0,TotalBetDollar:.1,TotalWinDollar:0,Denom:10,ReelSymbols:[["M1","M2","M3","M4","M5"],["M5","M4","M3","M2","M1"],["M4","M3","M2","M1","M5"],["M2","M1","M5","M4","M3"],["M3","M2","M1","M3","M3"]],WinResults:[]},Status:{CurrentAction:"Play",CurrentActionType:"slot",GameLevel:"1",GameLevel_UpCount:"0"},Actions:null}},TokenInfo:{Balance:70.2,Currency:"CNY",FrontEndDebug:1,totalReward:98999690}}},t.playData={Action:"Play",ProcessTime:{Spend:0},ScreenData:{},IsSuccess:!0,Marquees:[],Message:"",kick_rightnow:!1,ActionType:"freeslot",ActionParameter:{Action:"Play",Type:"freeslot",Line:5,Bet:1,Denom:100,SessionData:{Bet:.05}},Value:{RoundId:"3e9e115565229947859",SubRoundId:0,SessionData:{Bet:.05},TotalBet:500,TotalWin:5e4,TotalBetDollar:.45,TotalWinDollar:.15,Denom:10,ScreenData:[],FreeLine:[],Main:{MathVersion:"triple_monkey",TotalBet:500,TotalWin:5e4,TotalBetDollar:.05,TotalWinDollar:5,Denom:10,ReelSymbols:[["M1","M2","M3","M4","M5"],["M5","M4","M3","M2","M1"],["M4","M3","M2","M1","M5"],["M2","M1","M5","M4","M3"],["M3","M2","M1","M3","M3"]],WinResults:[{Type:"Line",Symbol:"M2",SymbolCount:3,Positions:[{X:0,Y:1},{X:1,Y:1},{X:2,Y:1}],Data:{Line:2,PayType:"RL"},Bet:500,Win:5e4,Multipliers:[100,1]}],ReelResults:[{Idx:0,Pos:4},{Idx:1,Pos:16},{Idx:2,Pos:28}]},Status:{CurrentAction:"Play",CurrentActionType:"freeslot"},Actions:[],Balance:180583851.93}},t.playDataArr=[{ReelSymbols:[["M2","M1","C1","M1","M2"],["C1","M4","M1","M5","M3"],["M5","M1","M5","C1","M2"],["M1","M3","M2","M5","C1"],["M2","M3","C1","M4","M4"],["C1","C1","M1","M3","M1"],["M2","C1","M3","C1","M2"],["M3","M5","M4","M3","M5"],["M1","C1","M5","C1","M1"],["M1","M4","M5","M5","M5"],["M3","M3","M3","M1","M3"],["M4","M3","C1","M1","M1"],["M5","M3","M1","M2","M1"]],WinResults:[{Type:"Match",Symbol:"M3",SymbolCount:5,Positions:[],Data:{Line:1,PayType:"RL"},Bet:0,Win:0,Multipliers:[1,1]},{Type:"Match",Symbol:"M5",SymbolCount:5,Positions:[],Data:{Line:1,PayType:"RL"},Bet:0,Win:0,Multipliers:[1,1]}]},{ReelSymbols:[["M5","M4","M5","C1","M2"],["M5","M5","M5","M4","M5"],["C1","M3","M3","M1","M5"],["M4","M1","M2","C1","M1"],["M4","M3","M4","M5","M1"],["M2","M5","M2","M3","M4"],["C1","M3","M1","M2","M5"],["M4","M5","M1","C1","M2"],["M5","M2","M4","M4","M4"],["M2","M4","M4","M1","M1"]],WinResults:[{Type:"Match",Symbol:"M4",SymbolCount:5,Positions:[],Data:{Line:1,PayType:"RL"},Bet:0,Win:0,Multipliers:[1,1]}]},{ReelSymbols:[["M1","M2","M3","C1","C1"],["M1","M2","M1","C1","C1"],["M3","C1","M2","C1","M3"],["C1","C1","C1","M2","M1"],["M3","C1","C1","M3","M2"],["M1","M2","M3","M1","M1"],["M2","M1","M2","M2","C1"],["M3","M3","M1","C1","M1"],["M3","M2","M2","M2","M1"],["M2","M3","M1","C1","C1"],["C1","C1","M2","M2","M1"],["C1","C1","M3","M3","M1"],["C1","M1","M3","M3","M1"],["M3","M1","C1","C1","M2"],["M2","M3","M1","M2","M2"],["M3","M1","M1","M3","M3"],["M3","M3","C1","M1","C1"],["M2","M3","M3","M3","M1"],["M2","C1","C1","M2","M2"],["M3","M3","C1","M3","M1"],["M1","M3","M3","M1","M2"],["M2","M1","M3","M3","C1"],["M3","C1","M2","M2","M2"],["M2","M1","M3","M1","M1"],["M1","M2","C1","M1","C1"],["M1","C1","M2","M2","C1"],["M3","C1","M2","M3","M3"],["C1","C1","M3","M3","M3"],["M2","C1","M3","M2","C1"],["C1","M3","C1","M3","C1"]],WinResults:[{Type:"Match",Symbol:"C1",SymbolCount:5,Positions:[],Data:{Line:1,PayType:"RL"},Bet:0,Win:0,Multipliers:[1,1]},{Type:"Match",Symbol:"M3",SymbolCount:6,Positions:[],Data:{Line:1,PayType:"RL"},Bet:0,Win:0,Multipliers:[1,1]},{Type:"Match",Symbol:"M2",SymbolCount:6,Positions:[],Data:{Line:1,PayType:"RL"},Bet:0,Win:0,Multipliers:[1,1]}]},{ReelSymbols:[["M2","C1","M2","C1","M3"],["M1","C1","C1","C1","M3"],["M2","M1","M2","M2","M2"],["M2","M1","M3","C1","M1"],["M1","C1","C1","C1","M2"],["C1","M3","M2","M3","M1"],["M3","M3","M1","M2","C1"],["M3","M3","M1","M2","M2"],["C1","M2","M2","C1","M1"],["M3","C1","M1","M1","M2"],["M1","M1","M2","M3","M2"],["M3","M1","M2","M3","M1"],["M3","C1","M3","M2","M1"],["C1","M1","M2","M1","M3"],["C1","M2","M1","M1","M2"],["M2","M3","M3","M2","M1"],["M3","M3","C1","M3","M1"],["M1","C1","C1","C1","M1"],["M3","M2","C1","M1","M2"],["C1","M2","M3","M1","C1"],["M2","M1","M2","M2","M2"],["C1","M2","M2","C1","M2"],["M2","M1","M2","M1","M3"],["C1","C1","M3","M2","M2"],["M1","M1","M2","M2","M3"],["M3","C1","M3","M1","C1"],["M3","C1","C1","C1","C1"],["M1","M1","M3","C1","M2"],["M1","M3","M2","M1","M3"],["M2","M2","C1","M1","C1"],["M3","C1","C1","M2","M1"],["M2","M2","M3","M3","M1"],["C1","C1","M3","M2","M3"],["M3","M3","M2","M1","C1"],["C1","C1","M2","M2","M2"],["M2","M3","M1","M2","M1"],["M1","M2","C1","M3","M2"],["M3","M3","C1","M3","M1"],["M3","M3","M1","C1","C1"],["M3","M2","M3","M3","M1"],["M1","M2","M2","M1","M2"],["C1","M1","C1","M1","C1"],["M3","M2","C1","M2","C1"],["M1","C1","C1","M2","M3"],["M3","M1","M3","C1","M3"],["M3","C1","M1","C1","M1"],["C1","C1","M1","C1","M1"],["M1","M1","M2","M1","M3"],["M3","M3","M3","M2","M2"],["M3","M1","M3","M3","C1"]],WinResults:[{Type:"Match",Symbol:"M3",SymbolCount:5,Positions:[],Data:{Line:1,PayType:"RL"},Bet:0,Win:0,Multipliers:[1,1]},{Type:"Match",Symbol:"M1",SymbolCount:6,Positions:[],Data:{Line:1,PayType:"RL"},Bet:0,Win:0,Multipliers:[1,1]},{Type:"Match",Symbol:"C1",SymbolCount:7,Positions:[],Data:{Line:1,PayType:"RL"},Bet:0,Win:0,Multipliers:[1,1]},{Type:"Match",Symbol:"M1",SymbolCount:6,Positions:[],Data:{Line:1,PayType:"RL"},Bet:0,Win:0,Multipliers:[1,1]},{Type:"Match",Symbol:"M2",SymbolCount:6,Positions:[],Data:{Line:1,PayType:"RL"},Bet:0,Win:0,Multipliers:[1,1]},{Type:"Match",Symbol:"M3",SymbolCount:5,Positions:[],Data:{Line:1,PayType:"RL"},Bet:0,Win:0,Multipliers:[1,1]}]},{ReelSymbols:[["M2","M5","M2","M3","M4"],["C1","M3","M1","M2","M5"],["M4","M5","M1","C1","M2"],["M5","M2","M4","M1","M4"],["M2","M4","M4","M1","M1"]],WinResults:[]},{ReelSymbols:[["M2","M2","M2","M3","M4"],["C1","M3","M1","M2","M5"],["M4","M5","M1","C1","M3"],["M3","M5","M4","M1","M4"],["M2","M4","M4","M1","M1"]],WinResults:[]},{ReelSymbols:[["M2","M2","M3","M2","M4"],["C1","M3","M3","M3","M5"],["M3","M5","M1","C1","M3"],["M5","M3","M4","M3","M4"],["M2","M4","M3","M1","M1"]],WinResults:[]}],t}();__reflect(serverData.prototype,"serverData");